/*! For license information please see 8.2f44d09031224b7490ab.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8,80],{"+JPL":function(module,exports,e){module.exports={default:e("gRli"),__esModule:!0}},"+vXQ":function(module,exports,e){module.exports=!e("C61u")&&!e("S4vA")((function(){return 7!=Object.defineProperty(e("BfU5")("div"),"a",{get:function(){return 7}}).a}))},"/2Dl":function(module,exports,e){},"/F7N":function(module,exports){var e=Math.ceil,t=Math.floor;module.exports=function(n){return isNaN(n=+n)?0:(n>0?t:e)(n)}},"/NTb":function(module,exports,e){exports.f=e("zBWt")},"/tXR":function(module,exports){exports.f=Object.getOwnPropertySymbols},"/u3z":function(module,exports,e){},"0/vS":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158}};e.loc.source={body:"mutation AiCoach_UpdateWithUserFeedback($input: AiCoach_UpdateWithUserFeedbackInput!) {\n  AiCoach_UpdateWithUserFeedback(input: $input) {\n    messageId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}var n={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function oneQuery(e,t){var i={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){var t;o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var t=new Set;collectFragmentReferences(e,t),n[e.name.value]=t}}))}(),module.exports=e,module.exports.AiCoach_UpdateWithUserFeedback=oneQuery(e,"AiCoach_UpdateWithUserFeedback")},"0WpP":function(module,exports,e){var t=e("/F7N"),n=Math.min;module.exports=function(e){return e>0?n(t(e),9007199254740991):0}},"0zhc":function(module,exports,e){var t=e("ZHJz"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},1:function(module,exports){},"1ASi":function(module,exports,e){},"1Gkd":function(module,exports,e){},"1QEB":function(module,exports){module.exports={name:"learnerRedPandas_itemPage",parameters:[{name:"autoplayToggleLocationAndDefault",valid:["control","outsideDefaultOff","outsideDefaultOn"],value:"control"}]}},"27K9":function(module,exports,e){e("Wino")},"3+Ww":function(module,exports){},"3D6w":function(module,exports,e){},"3If+":function(module,exports,e){},"3Rsx":function(module,exports,e){e("MtUo")},"40oJ":function(module,exports,e){var t=e("ixoo")("meta"),n=e("ekG2"),i=e("nA4W"),r=e("GhSp").f,o=0,a=Object.isExtensible||function(){return!0},s=!e("S4vA")((function(){return a(Object.preventExtensions({}))})),setMeta=function(e){r(e,t,{value:{i:"O"+ ++o,w:{}}})},fastKey=function(e,r){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,t)){if(!a(e))return"F";if(!r)return"E";setMeta(e)}return e[t].i},getWeak=function(e,n){if(!i(e,t)){if(!a(e))return!0;if(!n)return!1;setMeta(e)}return e[t].w},onFreeze=function(e){return s&&l.NEED&&a(e)&&!i(e,t)&&setMeta(e),e},l=module.exports={KEY:t,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},"4HxT":function(module,exports,e){},"4M0G":function(module,exports,e){e("uoOA")},"4ZBh":function(module,exports,e){e("/2Dl")},"4Zg2":function(module,exports,e){var t=e("7whZ"),n=e("VSTI"),i=e("5ETA"),r=e("/NTb"),o=e("GhSp").f;module.exports=function(e){var a=n.Symbol||(n.Symbol=i?{}:t.Symbol||{});"_"==e.charAt(0)||e in a||o(a,e,{value:r.f(e)})}},"4bHD":function(module,exports,e){e("m/0+")},"4nIq":function(module,exports,e){},"53mQ":function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n=_objectWithoutPropertiesLoose(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(i=o[r],t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++){if(r=i[o],t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var a=function SvgShare(e){var t=e.title,i=void 0===t?"Share":t,r=_objectWithoutProperties(e,["title"]);return n.createElement(o.a,_extends({title:i},r,{viewBox:"0 0 48 48"}),n.createElement("path",{d:"M16,30.707 L14,30.707 C14,19.698 22.832,11.707 35,11.707 L44.586,11.707 L34.293,1.414 L35.707,0 L48.414,12.707 L35.707,25.414 L34.293,24 L44.586,13.707 L35,13.707 C23.813,13.707 16,20.698 16,30.707"}),n.createElement("polygon",{points:"40 43.707 0 43.707 0 9.707 13 9.707 13 11.707 2 11.707 2 41.707 38 41.707 38 30.707 40 30.707"}))};(a=Object(r.i)(a)).displayName="SvgShare",e.a=a},"5ETA":function(module,exports){module.exports=!0},"5Qd4":function(module,exports,e){var t=e("USwo");t(t.S+t.F,"Object",{assign:e("By1P")})},"60BN":function(module,exports,e){e("Y92w")},"6IFf":function(module,exports,e){e("4HxT")},"6f99":function(module,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return o}));var n=t("jNOI"),i=function impressIntoAdsExperiments(e,t){return t&&t.length>0?t.every((function(t){return n.a.get(e,{partner_id:t})})):n.a.get(e,{partner_id:""})},r=function isPrerollVideoAdsEnabled(e){return i("shouldShowPrerollVideoAds",e)},o=function shouldShowDisplayAdsOnCoreLEX(e){return i("shouldShowDisplayAdsOnCoreLEX",e)},a=function shouldShowPrerollVideoAdsAndDisplayAdsOnCoreLEX(e){return i("shouldShowPrerollVideoAdsAndDisplayAdsOnCoreLEX",e)}},"6jRP":function(module,exports){module.exports=function(e,t){return{value:t,done:!!e}}},"7h5H":function(module,exports){exports.default={"#{partner1}, #{partner2}":"#{partner1}, #{partner2}","Ask Coach a question":"Poser une question au Coach","Ask me anything about what you're learning. I'm here to help!":"Demandez-moi ce que vous voulez au sujet de votre apprentissage. Je suis disponible pour vous aider.","Can you explain this topic in simple terms?":"Pouvez-vous expliquer ce sujet en termes simples ?","Can you generate practice questions based on this #{humanReadableItemType}?":"Pouvez-vous générer des questions pour s’exercer basées sur ce(tte) #{humanReadableItemType} ?","Can you summarize this #{humanReadableItemType} for me?":"Pouvez-vous me résumer ce(tte) #{humanReadableItemType} ?","Cancel":"Annuler","Close chat.":"Fermez le chat.","Coach is limited to course-related questions and powered by AI, so surprises and mistakes are possible. {privacyNotice}.":"Le coach est limité aux questions relatives au cours et il est basé sur de l’intelligence artificielle : des surprises et des erreurs sont donc possibles. {privacyNotice}.","Explore this topic with related video clips":"Explorez ce sujet avec des clips vidéo associés","From the course: ":"À partir du cours : ","Have any questions so far? Click here to get started!":"Avez-vous des questions jusqu’à présent ? Cliquez ici pour commencer !","How could this response be improved?":"Comment cette réponse pourrait-elle être améliorée ?","Maximize":"Agrandir","Maximize coursera coach chat.":"Agrandir le chat du coach Coursera.","Minimize":"Réduire","Minimize coursera coach chat.":"Réduire le chat du coach Coursera.","Need extra explanations, examples, or practice? I’m here to answer questions and boost your learning!":"Besoin d’explications, d’exemples ou d’exercices supplémentaires ? Je suis disponible pour répondre à vos questions et améliorer votre apprentissage.","Open video page":"Ouvrir la page vidéo","Privacy Notice":"Notification de confidentialité","Sorry, there was an error responding. Please try your message again.":"Nous sommes désolés, une erreur s’est produite lors de la réponse. Veuillez réessayer de soumettre votre message.","Start a new chat. This will clear your chat history so you can start fresh.":"Commencer un nouveau chat. Cela effacera l’historique de votre chat pour que vous puissiez repartir à zéro.","Submit":"Envoyer","To get started, type your question below or try one of these examples:":"Pour commencer, saisissez votre question ci-dessous ou essayez l’un des exemples suivants :","View Coursera's Privacy Notice":"Afficher la notification de confidentialité de Coursera","What do you like about this response?":"Qu’est-ce qui vous plaît dans cette réponse ?","coach":"coach","👋 Hi! I’m Coach, your Coursera learning assistant!":"👋 Bonjour. Je suis Coach, votre assistant d’apprentissage Coursera."}},"7whZ":function(module,exports){var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},"8i3M":function(module,exports,e){e("G2bM")},"9B37":function(module,exports,e){},"9G2R":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),o=t("TSYQ"),a=t.n(o),s=t("MnCE"),l=t("yr8M"),c=t("sOkY"),u=t("53mQ"),d=t("Q64i"),p=t.n(d),h=t("Ht4C"),buttons_ShareCTADefault=function(e){var t=e.isLightTheme,n=a()("rc-ShareCTADefault",{"light-theme":t}),i=t?"#FFFFFF":"#2A73CC";return r.createElement("div",{className:n},r.createElement("div",{className:"rc-ShareCTADefault__button-icon"},r.createElement(u.a,{isThemeDark:!t,size:12,strokeWidth:2,stroke:i,color:i,suppressTitle:!0})),r.createElement("span",{className:"rc-ShareCTADefault__button-text"},p()("Share")))},m=t("uKqt"),f=t("fsNN"),g=t("yh+z"),v,y=768,b=Object(l.a)((function(){return Promise.all([t.e("allStyles"),t.e("asyncCommonJS"),t.e(104)]).then(t.bind(null,"63Zb"))})),C=function(e){function ShareButtonWithModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.handleButtonClick=function(e){var n=t.props.onSocialButtonClick;n&&n(e),window.innerWidth<=y&&window.navigator&&navigator.share?t.nativeMobileShare():t.setState((function(){return{showModal:!0}}))},t.handleCloseModal=function(){t.setState((function(){return{showModal:!1}}))},t.nativeMobileShare=function(){var e,n,i=t.props,r=i.captions,o=i.targetShareLink,a=i.customShareLink,s=a||o,l=null==r?void 0:null===(e=r.nativeMobileTitle)||void 0===e?void 0:e.call(r,s),c=null==r?void 0:null===(n=r.nativeMobileMessage)||void 0===n?void 0:n.call(r,s);navigator.share({url:a||o,title:l||document.title,text:c||""}).catch((function(e){if("AbortError"!==e.name)throw e}))},t}i()(ShareButtonWithModal,e);var t=ShareButtonWithModal.prototype;return t.componentDidMount=function componentDidMount(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.search.includes(m.h)&&this.setState((function(){return{showModal:!0}}))},t.render=function render(){var e=this.props,t=e.rootClassName,n=e.style,i=e.shareLink,o=e.captions,s=e.utmContentParam,l=e.utmMediumParam,u=e.utmCampaignParam,d=e.utmProductParam,p=e.children,h=e.useCustomUrl,m=e.title,f=e.description,g=e.disableDescription,y=e.previewComponent,C=e.extraQueryParams,S=e.getVideoTimeInSeconds,k=this.state.showModal,w=a()("rc-ShareButtonWithModal",t);return r.createElement("div",{className:w,style:n,"data-e2e":"universal-share-cta"},r.createElement(c.a,{"aria-label":m,trackingName:"universal_sharing_cta",onClick:this.handleButtonClick,tabIndex:0,trackMouseEnters:!0},p||v||(v=r.createElement(buttons_ShareCTADefault,null))),k&&r.createElement(b,{handleCloseModal:this.handleCloseModal,shareLink:i,captions:o,utmContentParam:s,utmMediumParam:l,utmCampaignParam:u,utmProductParam:d,extraQueryParams:C,useCustomUrl:h,title:m,description:f,disableDescription:g,previewComponent:y,initialVideoTimeInSeconds:S&&S()}))},ShareButtonWithModal}(r.Component),S=e.a=Object(s.b)(Object(g.a)(m.g),Object(f.a)())(C)},A9a0:function(module,exports,e){var t=e("nA4W"),n=e("bKEA"),i=e("Oa1h")(!1),r=e("WpRT")("IE_PROTO");module.exports=function(e,o){var a=n(e),s=0,l=[],c;for(c in a)c!=r&&t(a,c)&&l.push(c);for(;o.length>s;)t(a,c=o[s++])&&(~i(l,c)||l.push(c));return l}},AyUB:function(module,exports,e){module.exports={default:e("vNbC"),__esModule:!0}},B7QE:function(module,exports,e){e("Gcga")},BRsN:function(module,exports,e){var t=e("GhSp"),n=e("ENu8");module.exports=e("C61u")?function(e,i,r){return t.f(e,i,n(1,r))}:function(e,t,n){return e[t]=n,e}},BfU5:function(module,exports,e){var t=e("ekG2"),n=e("7whZ").document,i=t(n)&&t(n.createElement);module.exports=function(e){return i?n.createElement(e):{}}},Brjr:function(module,exports,e){e("Uhfz")},By1P:function(module,exports,e){"use strict";var t=e("C61u"),n=e("mHY4"),i=e("/tXR"),r=e("GRew"),o=e("CYMq"),a=e("n7vu"),s=Object.assign;module.exports=!s||e("S4vA")((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=i}))?function assign(e,s){for(var l=o(e),c=arguments.length,u=1,d=i.f,p=r.f;c>u;)for(var h=a(arguments[u++]),m=d?n(h).concat(d(h)):n(h),f=m.length,g=0,v;f>g;)v=m[g++],t&&!p.call(h,v)||(l[v]=h[v]);return l}:s},C5kU:function(module,exports,e){"use strict";var t=e("GfoU")(!0);e("OTpG")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e=this._t,n=this._i,i;if(n>=e.length)return{value:void 0,done:!0};return i=t(e,n),this._i+=i.length,{value:i,done:!1}}))},C61u:function(module,exports,e){module.exports=!e("S4vA")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"CE4/":function(module,exports,e){"use strict";var t=e("nAx8"),n=e("USwo"),i=e("CYMq"),r=e("xMGN"),o=e("bS86"),a=e("0WpP"),s=e("SkeG"),l=e("I90/");n(n.S+n.F*!e("h3Hq")((function(e){Array.from(e)})),"Array",{from:function from(e){var n=i(e),c="function"==typeof this?this:Array,u=arguments.length,d=u>1?arguments[1]:void 0,p=void 0!==d,h=0,m=l(n),f,g,v,y;if(p&&(d=t(d,u>2?arguments[2]:void 0,2)),null==m||c==Array&&o(m))for(g=new c(f=a(n.length));f>h;h++)s(g,h,p?d(n[h],h):n[h]);else for(y=m.call(n),g=new c;!(v=y.next()).done;h++)s(g,h,p?r(y,d,[v.value,h],!0):v.value);return g.length=h,g}})},CI33:function(module,exports,e){},CLvh:function(module,exports,e){var t=e("xmJK"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},CYMq:function(module,exports,e){var t=e("yQFZ");module.exports=function(e){return Object(t(e))}},CdQ7:function(module,exports,e){},CuL1:function(module,exports,e){var t=e("mHY4"),n=e("/tXR"),i=e("GRew");module.exports=function(e){var r=t(e),o=n.f;if(o)for(var a=o(e),s=i.f,l=0,c;a.length>l;)s.call(e,c=a[l++])&&r.push(c);return r}},"DJ+3":function(module,exports,e){e("1Gkd")},DfKC:function(module,e,t){"use strict";t.r(e);var n=t("ZDp4"),i=t.n(n),r=t("pVnL"),o=t.n(r),a=t("3tO9"),s=t.n(a),l=t("J4zp"),c=t.n(l),u=t("q1tI"),d=t("+eFp"),p=t.n(d),h=t("MnCE"),m=t("8cuT"),f=t("+LJP"),g=t("L1vm"),v=t("VbXa"),y=t.n(v),b=t("17x9"),C=t.n(b),S=t("cVIm"),k=t("BVC1"),w=t("q5zD"),T=t("iQA+"),P=t("s1EA"),E=function(e){function MobilePromoRatings(){return e.apply(this,arguments)||this}var t;return y()(MobilePromoRatings,e),MobilePromoRatings.prototype.render=function render(){var e=this.props,t=e.userAgent,n=e.showReviewCount;if(!t.isIOS&&!t.isAndroid)return null;var i=t.isAndroid?"android":"ios",r=Math.round(2*T.c[i])/2,o=T.b[i];return u.createElement("span",{className:"rc-MobilePromoRatings"},u.createElement("span",{className:"stars"},[1,2,3,4,5].map((function(e){var t="".concat(e,"~promoRatingsStar");return r+.5<e?u.createElement("i",{key:t,className:"cif-star-empty"}):r+.5===e?u.createElement("i",{key:t,className:"cif-star-half-empty"}):u.createElement("i",{key:t,className:"cif-star"})}))),n&&u.createElement("span",{className:"review-count"},"(".concat(o,"+)")))},MobilePromoRatings}(u.Component);E.propTypes={userAgent:C.a.object.isRequired,showReviewCount:C.a.bool};var x=E,O=t("IDuc"),A=t("9A5E"),j=t("0zhc"),M=t.n(j),N=t("bj3z"),I,L,R=k.a.join(S.a.url.assets,T.l),D=function(e){function MobilePromoBannerBottom(){return e.apply(this,arguments)||this}var t;return y()(MobilePromoBannerBottom,e),MobilePromoBannerBottom.prototype.render=function render(){var e=this.props,t=e.userAgent,n=e.onClickThrough,i=e.onDismiss;return(u.createElement("div",{className:"rc-MobilePromoBannerBottom"},u.createElement(O.a,{trackingName:"close",className:"nostyle promo-dismiss-button",onClick:i},I||(I=u.createElement(w.a,{name:"close"}))),u.createElement(A.a,{href:this.props.appLink,className:"nostyle banner-button horizontal-box align-items-top",trackingName:"open_app",onClick:n},L||(L=u.createElement("img",{className:"app-logo",alt:"Coursera app logo",src:R})),u.createElement("div",{className:"vertical-box app-info"},u.createElement("p",{className:"app-name headline-text-1"},t.isAndroid?M()("Coursera for Android"):M()("Coursera for iOS")),u.createElement("p",{className:"ratings-section caption-text"},u.createElement(x,{userAgent:t,showReviewCount:!0}))),u.createElement("div",{className:"cta-box caption-text horizontal-box align-items-absolute-center"},M()("GET")))))},MobilePromoBannerBottom}(u.Component);D.propTypes={appLink:C.a.string.isRequired,onClickThrough:C.a.func.isRequired,onDismiss:C.a.func.isRequired,userAgent:C.a.object.isRequired};var F=D,V=t("tI2D"),B=t("PYLH"),H=t("WN/K");t.d(e,"MobilePromoOptionContext",(function(){return U})),t.d(e,"MobilePromoOptionContextProvider",(function(){return W})),t.d(e,"withMobilePromoOptionContext",(function(){return z}));var U=u.createContext(void 0),W=function MobilePromoOptionContextProvider(e){var t=e.children,n=Object(u.useState)(!1),i=c()(n,2),r=i[0],o=i[1];return u.createElement(U.Provider,{value:{showMobilePromoBanner:r,setShowMobilePromoBanner:o}},t)},z=function withMobilePromoOptionContext(){for(var e=Object(u.useContext)(U),t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s()(s()({},n),{},{mobilePromoOptionContext:e})};function MobilePromoOption_MobilePromoOption(e){var t=Object(u.useContext)(U),n=t&&t||{},i=n.showMobilePromoBanner,r=n.setShowMobilePromoBanner,a=e.router;Object(u.useEffect)((function(){var t=!a||a.location.query&&"true"===a.location.query[V.a],n=!a||e.userAgent&&(e.userAgent.isIOS||e.userAgent.isAndroid)&&a.location.query&&"true"===a.location.query[V.b];r&&r(a&&Object(V.e)(a.location.pathname)&&(e.mobilePromoEligible||n)&&!t)}),[]);var s=function handleClickThrough(){null==r||r(!1),Object(V.c)()},l=function handleClose(){null==r||r(!1),Object(V.c)()};return u.createElement("div",{className:"rc-MobilePromoOption"},u.createElement(p.a,{transitionEnterTimeout:0,transitionLeaveTimeout:350,transitionName:"banner-tg"},u.createElement("div",null,i&&u.createElement(F,o()({appLink:B.a.getAppSmartLink(),onDismiss:l,onClickThrough:s},e)))))}var q=e.default=Object(h.b)(Object(f.a)((function(e){return{router:e}})),g.a.createTrackedContainer((function(e){return i()(e),{namespace:{app:"mobile_web",page:"promo"}}})),Object(m.a)(["ApplicationStore"],(function(e,t){return{userAgent:e.ApplicationStore.getUserAgent(),mobilePromoEligible:e.ApplicationStore.getMobilePromoEligibility(),requestCountryCode:e.ApplicationStore.getRequestCountryCode()}})))(MobilePromoOption_MobilePromoOption)},DrT7:function(module,exports,e){var t=e("ekG2"),n=e("d+lc"),check=function(e,i){if(n(e),!t(i)&&null!==i)throw TypeError(i+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e("nAx8")(Function.call,e("TSC6").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function setPrototypeOf(e,t){return check(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:check}},DxU6:function(module,exports,e){var t=e("7h5H"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},E0u0:function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,n=_interopRequireDefault(e("QDlc")),i,r=_interopRequireDefault(e("KmnK"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=!0,a=!1,s=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function isNullOrUndefined(e){return null==e}var l=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function fix(e,t){isNullOrUndefined(e.which)&&(e.which=isNullOrUndefined(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function fix(e,t){var n=void 0,i=void 0,r=void 0,o=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,l=t.wheelDeltaX,c=t.detail;o&&(r=o/120),c&&(r=0-(c%3==0?c/3:c)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(i=0,n=0-r):a===e.VERTICAL_AXIS&&(n=0,i=r)),void 0!==s&&(i=s/120),void 0!==l&&(n=-1*l/120),n||i||(i=r),void 0!==n&&(e.deltaX=n),void 0!==i&&(e.deltaY=i),void 0!==r&&(e.delta=r)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function fix(e,t){var n=void 0,i=void 0,r=void 0,o=e.target,a=t.button;return o&&isNullOrUndefined(e.pageX)&&!isNullOrUndefined(t.clientX)&&(i=(n=o.ownerDocument||document).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===o?e.toElement:e.fromElement),e}}];function retTrue(){return o}function retFalse(){return a}function DomEventObject(e){var t=e.type,i="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;n.default.call(this),this.nativeEvent=e;var r=retFalse;"defaultPrevented"in e?r=e.defaultPrevented?retTrue:retFalse:"getPreventDefault"in e?r=e.getPreventDefault()?retTrue:retFalse:"returnValue"in e&&(r=e.returnValue===a?retTrue:retFalse),this.isDefaultPrevented=r;var o=[],c=void 0,u=void 0,d=void 0,p=s.concat();for(l.forEach((function(e){t.match(e.reg)&&(p=p.concat(e.props),e.fix&&o.push(e.fix))})),u=p.length;u;)this[d=p[--u]]=e[d];for(!this.target&&i&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),u=o.length;u;)(c=o[--u])(this,e);this.timeStamp=e.timeStamp||Date.now()}var c=n.default.prototype;(0,r.default)(DomEventObject.prototype,c,{constructor:DomEventObject,preventDefault:function preventDefault(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=a,c.preventDefault.call(this)},stopPropagation:function stopPropagation(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=o,c.stopPropagation.call(this)}}),exports.default=DomEventObject,module.exports=exports.default},EJiy:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("F+2o")),i,r=_interopRequireDefault(e("+JPL")),o="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default="function"==typeof r.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}},ENu8:function(module,exports){module.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Ev1s:function(module,e,t){"use strict";var n=t("jzkQ"),i=t("HLRV"),r=t("RrrT"),o=t("3tO9"),a=t.n(o),s=t("VbXa"),l=t.n(s),c=t("VkAN"),u=t.n(c),d=t("AeFk"),p=t("q1tI"),h=t("L1vm"),m=t("8Hdl"),f=t("SJ7i"),g=t("eMqL"),v=t("kj/T"),y=t.n(v),b=t("dWuz"),C,S,k,w={trackChooser:function trackChooser(e){return Object(d.c)(C||(C=u()(["\n    margin: ",";\n\n    label[for='select-language'] {\n      margin: 0;\n    }\n  "])),e.spacing(0,0,8,16))},label:function label(e){return Object(d.c)(S||(S=u()(["\n    margin: 0;\n    ","\n  "])),e.typography.body1)},select:Object(d.c)(k||(k=u()(["\n    height: 40px;\n  "])))},T=function(e){function TrackChooser(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleSelect=function(e){var n=e.target.value,i=t.props,r=i.courseId,o,s,l,c={itemId:i.itemId,courseId:r,previousLanguage:i.selectedTrack.languageCode};if("-1"===n){var u=a()(a()({},c),{},{newLanguage:void 0});h.a.trackComponent(b.a,u,"track_chooser","deselected")}else{var d=a()(a()({},c),{},{newLanguage:n});h.a.trackComponent(b.a,d,"track_chooser","selected")}var p=t.props,m=p.onTrackSelect,f,v=p.tracks.getFromLanguageCode(n);g.a.set("language-code",n),m(v)},t}var t;return l()(TrackChooser,e),TrackChooser.prototype.render=function render(){var e=this,t=this.props,n=t.tracks,i=t.selectedTrack,r=t.theme;return Object(d.d)("div",{className:"vertical-box",css:w.trackChooser(r)},Object(d.d)("label",{htmlFor:"select-language",css:w.label(r)}),Object(d.d)("select",{"aria-label":"Select Language",name:"language_track",id:"select-language",css:w.select,defaultValue:i.languageCode,onChange:this.handleSelect,ref:function ref(t){e.selectNode=t}},Object(d.d)(m.a,{value:-1,variant:"body1",component:"option"},y()("Select a language")),n.toArray().map((function(e){var t=e.label,n=e.languageCode;return Object(d.d)(m.a,{key:"track-".concat(n),value:n,"aria-label":"".concat(y()("Language"),", ").concat(t),component:"option"},t)}))))},TrackChooser}(p.Component),P=Object(f.a)(T);P.displayName="TrackChooser";var E=P,x=t("8WNh"),O=t("PB6g"),A=t("pVnL"),j=t.n(A),M=t("Z3v1"),N=t("6/Gu"),I=t("WG1l"),L=t.n(I),R=t("TSYQ"),D=t.n(R),F=t("al67"),V=t("RIqP"),B=t.n(V),H=function findParentCueElement(e){return e.matches(".rc-Phrase")?e:e.closest(".rc-Phrase")},U=function findCueElementWithIndex(e){return document.querySelector('[data-cue-index="'.concat(e,'"]'))},W=function findCueMarkWithIndex(e){return document.querySelector('[data-cue-index="'.concat(e,'"] mark'))},z=function getCueIndex(e){var t=e.getAttribute("data-cue-index");if(null==t)return null;return parseInt(t,10)},q=function getCueIndexFromText(e){if(!e||!e.parentElement)return null;var t=H(e.parentElement);if(!t)return null;return z(t)},K=function getTextNodesFromPhrase(e){return"#text"===e.nodeName?[e]:Array.from(e.childNodes).reduce((function(e,t){return[].concat(B()(e),B()(getTextNodesFromPhrase(t)))}),[])},Q=function getHighlightsForCue(e,t){return t.filter((function(t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex&&(t.transcriptTextStartIndex.cueIndex===e.index||t.transcriptTextEndIndex.cueIndex===e.index||e.index>t.transcriptTextStartIndex.cueIndex&&e.index<t.transcriptTextEndIndex.cueIndex)}))},G=function getHighlightedTextIndicesForCue(e,t){if(!t.transcriptTextStartIndex||!t.transcriptTextEndIndex)return{start:0,end:0};if(e.index===t.transcriptTextStartIndex.cueIndex)return e.index===t.transcriptTextEndIndex.cueIndex?{start:t.transcriptTextStartIndex.textIndex,end:t.transcriptTextEndIndex.textIndex+1}:{start:t.transcriptTextStartIndex.textIndex,end:e.text.length+1};if(e.index>t.transcriptTextStartIndex.cueIndex)return e.index<t.transcriptTextEndIndex.cueIndex?{start:0,end:e.text.length+1}:e.index===t.transcriptTextEndIndex.cueIndex?{start:0,end:t.transcriptTextEndIndex.textIndex+1}:{start:0,end:0};return{start:0,end:0}},Y=function getHighlightForCueElement(e,t){var n=z(t);if(null===n)return null;return e.find((function(e){var t=e.transcriptTextStartIndex,i=e.transcriptTextEndIndex;if(t&&i)return n>=t.cueIndex&&n<=i.cueIndex;return!1}))},X=function getIsCueIncludedInHighlight(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;if(!n||!i)return!1;return e.index>=n.cueIndex&&e.index<=i.cueIndex},J=function getTranscriptSelection(){var e=window.getSelection(),t;if(!e)return;if(!e.toString())return;var n=e.anchorNode,i=e.anchorOffset,r=e.focusNode,o=e.focusOffset,a=q(r),s=q(n),l,c;if(null===s||null===a)return;return s<a?(l={cueIndex:s,textIndex:i},c={cueIndex:a,textIndex:o-1}):s===a?(l={cueIndex:s,textIndex:Math.min(i,o)},c={cueIndex:s,textIndex:Math.max(i,o)-1}):(l={cueIndex:a,textIndex:o},c={cueIndex:s,textIndex:i-1}),{transcriptTextStartIndex:l,transcriptTextEndIndex:c}},Z=function mouseMovedInNeighborhoodOfHighlight(e,t,n){var i=t.transcriptTextStartIndex,r=t.transcriptTextEndIndex;if(!i||!r)return!1;var o=W(i.cueIndex),a=W(r.cueIndex);if(!o||!a)return!1;var s=o.getBoundingClientRect(),l=a.getBoundingClientRect(),c=n.getBoundingClientRect(),u=c.left+50,d=c.right-250,p=Math.min(s.top,l.top)-50,h=Math.max(s.bottom,l.bottom);return e.clientX>=u&&e.clientX<=d&&e.clientY>=p&&e.clientY<=h},ee=function getClosestTextNodeInTree(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=e;null!=i&&(3!==i.nodeType||i===n);){var r=i.childNodes,o="left"===t?r[r.length-1]:r[0],a=(i||{}).childNodes.length>0&&getClosestTextNodeInTree(o,t,n);i=a||("left"===t?i.previousSibling:i.nextSibling)}return i},te=function getAdjacentTextNode(e,t){var n=ee(e,t);if(n)return n;for(var i=e.parentElement;"left"===t?!i.previousSibling:!i.nextSibling;)i=i.parentElement;var r="left"===t?i.previousSibling:i.nextSibling;return 3===(null==r?void 0:r.nodeType)?r:ee(r,t)},ne=function getTextNodeWordStartingOffsets(e){var t,n=e.data.split(" ");if(1===n.length)return[0];return n.reduce((function(e,t,i){return[].concat(B()(e),[e[i]+t.length+(i!==n.length-1?1:0)])}),[0])},ie=function expandSelection(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(!i)return;var r=i.getRangeAt(0),o=r.startContainer,a=r.startOffset,s=r.endContainer,l=r.endOffset,c="left"===t?o:s,u="left"===t?a:l,d="left"===t?0===u:u>=c.length-1,p=d?te(c,t):c;if(!p)return;if("word"===n){var h=ne(p);if("left"===t){var m=d?p.length-1:u,f=h.find((function(e,t){return m>e&&m<=h[t+1]}))||0;r.setStart(p,f)}else{var g=d?0:u,v=h.find((function(e,t){return g>=h[t-1]&&g<e}))||h[h.length-1];r.setEnd(p,v)}}else if("phrase"===n)if("left"===t){var y=0;r.setStart(p,0)}else{var b=p.length-1;r.setEnd(p,b)}},re=function contractSelection(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(!i)return;var r=i.getRangeAt(0),o=r.startContainer,a=r.startOffset,s=r.endContainer,l=r.endOffset,c="left"===t?s:o,u="left"===t?l:a,d="left"===t?0===u:u>=c.length-1,p=d?te(c,t):c;if(!p)return;if("word"===n){var h=ne(p);if("left"===t){var m=d?p.length-1:u,f=h.find((function(e,t){return m>e&&m<=h[t+1]}))||0;r.setEnd(p,f)}else{var g=d?0:u,v=h.find((function(e,t){return g<e&&g>=h[t-1]}))||h[h.length-1];r.setStart(p,v)}}else if("phrase"===n)if("left"===t){var y=0;r.setEnd(p,0)}else{var b=p.length-1;r.setStart(p,b)}},oe=H,ae=U,se=W,le=z,ce=q,ue=Q,de=G,pe=Y,he=X,me=J,fe=Z,ge,ve=function styles(e){var t="rgba(42, 181, 115, 0.15)",n="rgba(42, 181, 115, 0.5)",i="rgba(59, 175, 218, 0.2)",r="rgba(59, 175, 218, 0.4)";return Object(d.c)(ge||(ge=u()(["\n    opacity: 1;\n    display: inline;\n\n    &:hover {\n      cursor: text;\n      background-color: #eee;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.active {\n      background-color: ",";\n      outline: 1px solid ",";\n      outline-offset: -1px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.highlighted {\n      .highlight {\n        background-color: ",";\n      }\n\n      &:hover {\n        background-color: transparent;\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background: transparent;\n        }\n      }\n    }\n\n    &.targeted {\n      &:hover {\n        background-color: transparent;\n      }\n\n      .highlight {\n        background-color: ",";\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background-color: transparent;\n        }\n      }\n    }\n  "])),t,n,i,t,r,t)},ye=function(e){function Phrase(t){var n;return(n=e.call(this,t)||this).setPhraseRef=function(e){n.phrase=e},n.handleClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t.preventDefault();var i=n.props,r=i.cue,o=i.onClick;n.phrase&&n.phrase.setAttribute("tabIndex","0");var a=window.getSelection();a&&a.toString()||n.phrase&&n.phrase.focus(),o&&o(r,e)}},n.handleFocus=function(){var e=n.props.onFocus;window.setTimeout((function(){var t=window.getSelection();if(n.phrase&&t){var i=n.getTextRangeForPhrase();i&&(t.removeAllRanges(),t.addRange(i)),e&&e()}}),0)},n.handleMouseDown=function(){var e=window.getSelection();e&&e.toString()&&e.empty(),n.phrase&&n.phrase.removeAttribute("tabIndex")},n.getTextRangeForPhrase=function(){if(!n.phrase)return null;var e=K(n.phrase),t=e[0],i=e[e.length-1],r=document.createRange();return r.setStart(t,0),r.setEnd(i,i.length-1),r},n.phrase=null,n}var t;return l()(Phrase,e),Phrase.prototype.render=function render(){var e=this,t=this.props,n=t.cue,i=t.highlights,r=t.isActive,o=t.isTargeted,a=0!==i.length,s=a&&!o,l=a&&o,c=D()("rc-Phrase",{active:r,targeted:l,highlighted:s}),u=i.map((function(e){return G(n,e)}));return Object(d.d)("div",{tabIndex:0,role:"button","data-cue":n.id,className:c,ref:this.setPhraseRef,"data-cue-index":n.index,onClick:this.handleClick(!1),onMouseDown:this.handleMouseDown,onKeyPress:function onKeyPress(t){return Object(F.a)(t,e.handleClick(!0))},onFocus:this.handleFocus,"aria-label":r?y()("toggle video from current lecture segment: #{cueText}",{cueText:n.text}):y()("toggle video from #{cueText}",{cueText:n.text}),css:ve(this.props.theme)},a&&Object(d.d)(m.a,{component:L.a,autoEscape:!0,searchWords:[],highlightClassName:"highlight",textToHighlight:"".concat(n.text," "),findChunks:function findChunks(){return u},"aria-hidden":!0}),!a&&Object(d.d)(m.a,{component:"span","aria-hidden":!0},"".concat(n.text," ")))},Phrase}(p.Component),be=Object(f.a)(ye);be.displayName="Phrase";var Ce=be,Se=t("F9YM"),ke,we,Te=function styles(){return Object(d.c)(ke||(ke=u()(["\n  .timestamp {\n    border: none;\n    height: 26px;\n    color: #666;\n    font-size: 12px;\n    line-height: 26px;\n    margin-right: 30px;\n    margin-left: -7px;\n    background: white;\n\n    &:focus {\n      color: #333;\n      outline: 2px solid #888;\n      outline-offset: -5px;\n    }\n\n    &:hover {\n      color: #333;\n      text-decoration: underline;\n    }\n  }\n"])))},Pe=function(e){function Paragraph(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleTimestampClick=function(e){e.preventDefault();var n=t.props,i=n.cues,r,o;(0,n.onCueClick)(i[0])},t}var t;return l()(Paragraph,e),Paragraph.prototype.render=function render(){var e=this.props,t=e.cues,n=e.onCueClick,i=e.onPhraseFocus,r=e.activeCues,o=e.targetedHighlight,a=e.highlights,s=e.hideTime,l=e.renderPlainText,c=e.theme,p=t[0];return Object(d.d)(N.a,{container:!0,css:Te},Object(d.d)(N.a,{item:!0,className:"rc-Paragraph",css:Object(d.c)(we||(we=u()(["\n            display: flex;\n            padding: ",";\n          "])),c.spacing(0,0,16,0))},!s&&Object(d.d)("button",{type:"button",className:"timestamp",onClick:this.handleTimestampClick,"aria-labelledby":"button-label-".concat(p.id)},Object(d.d)("span",{id:"button-label-".concat(p.id),className:"sr-only"},Object(d.d)(M.FormattedMessage,j()({message:y()("Play video starting at {hours}:{minutes}:{seconds} and follow transcript")},Object(Se.e)(p.startTime)))),Object(Se.c)(p.startTime)),Object(d.d)("div",{className:"phrases"},t.map((function(e){var t=r&&r.find((function(t){return e.id===t.id})),s=Q(e,a),c=!(!o||!X(e,o));return l?Object(d.d)("div",{className:"rc-Phrase"},Object(d.d)(m.a,null,e.text)):Object(d.d)(Ce,{cue:e,key:e.id,onClick:n,onFocus:i,isActive:!!t,isTargeted:c,highlights:s})})))))},Paragraph}(p.Component),Ee=Object(f.a)(Pe),xe=t("sOkY"),Oe={Transcript:Object(d.c)({padding:"0",lineHeight:"26px",position:"relative"}),Paragraph:Object(d.c)({marginBottom:"15px"})},Ae=function Transcript(e){var t=e.paragraphs,n=e.highlights,i=e.onCueClick,r=e.onPhraseFocus,o=e.activeCues,a=e.targetedHighlight,s=e.hideTime,l=e.renderPlainText;return Object(d.d)(xe.a,{trackingName:"interactive_transcript",trackMouseEnters:!0,trackMouseLeaves:!0,className:"rc-Transcript",css:Oe.Transcript},t.map((function(e){return Object(d.d)(Ee,{cues:e,key:e[0].startTime,onCueClick:i,onPhraseFocus:r,activeCues:o,highlights:n,targetedHighlight:a,hideTime:s,renderPlainText:l,css:Oe.Paragraph})})))};Ae.displayName="Transcript";var je=Ae,_e=t("sEfC"),Me=t.n(_e),Ne=t("AWZ4"),Ie=t("gNwb"),Le,Re,De=function styles(){return Object(d.c)(Le||(Le=u()(["\n  left: 320px;\n  z-index: 1000;\n  margin-top: -40px;\n  position: absolute;\n\n  button {\n    transition-property: background-color, border;\n  }\n\n  .transcript-highlight-btn-arrow-down {\n    width: 0;\n    height: 0;\n    bottom: -10px;\n    position: absolute;\n    border-top: 20px solid #2a73cc;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    transition: border 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  }\n\n  &:hover {\n    .transcript-highlight-btn-arrow-down {\n      border-top: 20px solid #0156b8;\n    }\n  }\n"])))},Fe=Object(Ie.d)({type:"BUTTON"})(Ne.b),Ve,Be=function TranscriptHighlightButton(e){var t=e.cueIndex,n=e.label,i=e.trackingName,r=e.onClick,o=U(t),a=null==o?void 0:o.offsetTop;return Object(d.d)("div",{className:"rc-TranscriptHighlightButton",style:{top:a},css:De},Object(d.d)(Fe,{size:"sm",label:n,type:"primary",onClick:r,trackingName:i,style:{fontWeight:"bold"},tabIndex:-1},Re||(Re=Object(d.d)("div",{className:"transcript-highlight-btn-arrow-down"}))))},He=function getModifierKeyForPlatform(){var e=!1;return"undefined"!=typeof window&&(e=window.navigator.platform.includes("Mac")),e?"⌘":y()("CTRL")},Ue,We=function RemoveTranscriptHighlight(e){var t=e.targetedHighlight,n=e.onRemove,i=e.showKeyboardControls,r=He(),o=y()("Press [#{modiferKey} + D] to Delete Note",{modiferKey:r}),a=i?o:y()("Delete Note"),s=Object(p.useCallback)((function(){return function(e){var t;e.target&&e.target.innerText===a&&n()}}),[a,n]);if(Object(p.useEffect)((function(){return document.addEventListener("mousedown",s()),function(){document.removeEventListener("mousedown",s())}}),[s]),!t.transcriptTextStartIndex)return null;var l=t.transcriptTextStartIndex.cueIndex;return(p.createElement(Be,{onClick:n,cueIndex:l,label:a,trackingName:"delete_transcript_highlight"}))},ze=800,qe,Ke=function SaveHighlightConfirmationPopup(e){var t=e.cueIndex,n=e.onTimeoutReached;if(Object(p.useEffect)((function(){var e=setTimeout(n,800);return function(){return clearTimeout(e)}}),[t,n]),!t&&0!==t)return null;return(p.createElement(Be,{cueIndex:t,label:y()("Note saved!"),trackingName:"transcript_highlight_saved_popup",onClick:function onClick(){n()}}))},Qe,Ge=function(e){function SaveTranscriptHighlight(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props.onSave,t=window.getSelection();t&&t.empty(),e()},n.handleDocumentMouseDown=function(e){var t=n.props.onCancel;n.saveHighlight&&!n.saveHighlight.contains(e.target)&&t()},n.saveHighlight=null,n}l()(SaveTranscriptHighlight,e);var t=SaveTranscriptHighlight.prototype;return t.componentDidMount=function componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown)},t.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.render=function render(){var e=this.props,t=e.showKeyboardControls,n=e.transcriptSelection.transcriptTextStartIndex.cueIndex,i=He(),r=y()("Press [#{modiferKey} + S] to Save Note",{modiferKey:i}),o=t?r:y()("Save Note");return p.createElement(Be,{cueIndex:n,label:o,onClick:this.handleClick,trackingName:"create_transcript_highlight"})},SaveTranscriptHighlight}(p.Component),Ye=function(e){function TranscriptSelectionAnnouncer(){return e.apply(this,arguments)||this}var t;return l()(TranscriptSelectionAnnouncer,e),TranscriptSelectionAnnouncer.prototype.render=function render(){var e=this.props.announcementText;return e?p.createElement("div",{className:"rc-TranscriptSelectionAnnouncer sr-only","aria-live":"assertive","aria-atomic":!0},p.createElement("span",{key:e},e)):null},TranscriptSelectionAnnouncer}(p.PureComponent),Xe=Object(d.c)({position:"relative"}),Je,Ze=function(e){function TranscriptHighlighter(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.props,t=e.onSave,i=e.showSaveConfirmations,r=n.state.transcriptSelection;if(r){t(r);var o=r.transcriptTextStartIndex.cueIndex;n.setState({transcriptSelection:void 0});var a=window.getSelection();a&&a.empty(),n.updateAnnouncementText(y()("Note Saved!")),i&&n.showSaveConfirmation(o)}},n.handleRemove=function(){var e=n.props.onRemove,t=n.state.targetedHighlight;t&&(e(t.id),n.setState({targetedHighlight:void 0}),n.updateAnnouncementText(y()("Note Deleted!")))},n.handleCancel=function(){var e=window.getSelection();e&&e.empty(),n.setState({transcriptSelection:void 0})},n.handleMouseUp=function(){n.updateSelection(),n.setState({showKeyboardControls:!1})},n.handleMouseMove=function(e){n.mouseMoveTimeout&&clearTimeout(n.mouseMoveTimeout),n.mouseMoveTimeout=window.setTimeout((function(){var t=n.state.targetedHighlight,i=n.props,r=i.highlights,o=i.onSelect,a=window.getSelection();if(a&&a.toString())return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();var s,l=e.target&&e.target.matches("mark")?H(e.target):null,c=l?Y(r,l):null;if(!c&&t&&n.transcriptHighlighter&&Z(e,t,n.transcriptHighlighter))return;if(!c)return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();n.setState({targetedHighlight:c}),o(c),n.mouseMoveTimeout=null}),0)},n.handleMouseLeave=function(){n.mouseMoveTimeout=null,n.resetTargetedHighlight()},n.handleKeyboardControls=function(e){if("Tab"===e.key&&n.setState({showKeyboardControls:!0}),!e.shiftKey||"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||window.setTimeout(n.updateSelection,0),e.metaKey||e.ctrlKey||e.ctrlKey&&e.altKey){var t=function modifySelection(t){return e.preventDefault(),e.stopPropagation(),e.shiftKey?re(t):ie(t)};switch(e.key){case"l":case"ArrowRight":t({direction:"right",magnitude:"word"});break;case"h":case"ArrowLeft":t({direction:"left",magnitude:"word"});break;case"j":case"ArrowDown":t({direction:"right",magnitude:"phrase"});break;case"k":case"ArrowUp":t({direction:"left",magnitude:"phrase"});break;case"s":e.preventDefault(),n.handleSave();break;case"d":e.preventDefault(),n.handleRemove();break;default:return}window.setTimeout(n.updateSelection,0)}},n.handleSelectingNote=function(e){var t=n.props.highlights,i=He(),r=H(e),o=r?Y(t,r):null;o&&(n.setState({targetedHighlight:o}),n.updateAnnouncementText(y()("Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note",{highlightedText:o.transcriptText,modifierKey:i})))},n.updateSelection=function(){var e=J(),t=He();n.setState({transcriptSelection:e});var i=window.getSelection();if(i){var r,o=Array.from(document.getElementsByTagName("mark")).filter((function(e){return i.containsNode(e,!0)}))[0];o?n.handleSelectingNote(o):(n.resetTargetedHighlight(),n.updateAnnouncementText(y()("#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note",{selectedText:i&&i.toString(),modifierKey:t})))}},n.resetTargetedHighlight=function(){var e=n.props.onSelect;n.setState({targetedHighlight:null}),e(null)},n.updateAnnouncementText=Me()((function(e){return n.setState({announcementText:e})}),250,{leading:!0}),n.clearSaveConfirmation=function(){n.setState({saveConfirmationCueIndex:void 0})},n.mouseMoveTimeout=null,n.transcriptHighlighter=null,n.saveHighlightButton=null,n.setTranscriptHighlighterRef=function(e){n.transcriptHighlighter=e},n.setSaveHighlightButtonRef=function(e){n.saveHighlightButton=e},n.state={announcementText:null,targetedHighlight:null,transcriptSelection:void 0,showKeyboardControls:!1},n}l()(TranscriptHighlighter,e);var t=TranscriptHighlighter.prototype;return t.componentDidMount=function componentDidMount(){this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("keydown",this.handleKeyboardControls)},t.componentWillUnmount=function componentWillUnmount(){this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("keydown",this.handleKeyboardControls)},t.showSaveConfirmation=function showSaveConfirmation(e){this.setState({saveConfirmationCueIndex:e})},t.render=function render(){var e=this.props,t=e.children,n=e.showSaveConfirmations,i=this.state,r=i.transcriptSelection,o=i.announcementText,a=i.targetedHighlight,s=i.showKeyboardControls,l=i.saveConfirmationCueIndex,c=He();return Object(d.d)("div",{className:"rc-TranscriptHighlighter",ref:this.setTranscriptHighlighterRef,css:Xe},r&&!a&&Object(d.d)(Ge,{onSave:this.handleSave,onCancel:this.handleCancel,transcriptSelection:r,showKeyboardControls:s}),a&&Object(d.d)(We,{targetedHighlight:a,onRemove:this.handleRemove,showKeyboardControls:s}),n&&Object(d.d)(Ke,{cueIndex:l,onTimeoutReached:this.clearSaveConfirmation}),Object(d.d)(O.b,{tagName:"p"},y()("You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key",{modifierKey:c})),p.cloneElement(t,{onPhraseFocus:this.updateSelection}),Object(d.d)(Ye,{announcementText:o}))},TranscriptHighlighter}(p.Component),$e=t("M743"),et,tt=function(e){function InteractiveTranscript(t){var n;(n=e.call(this,t)||this).handleTrackLoaded=function(){var e=n.state.track;if(!e||!e.cues)return;n.setState((function(){return{isLoading:!1,cues:e.cues}}))},n.handleCueClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.props,r=i.onTimeChange,o=i.handlePausePlayer,a=n.state.playingCue,s=a===e,l=!t||t&&!s;l?(r(e.startTime+.01),n.setState({playingCue:e})):(o(),n.setState({playingCue:null}))},n.handleHighlightSelection=function(e){var t;e!==n.state.targetedHighlight&&n.setState({targetedHighlight:e})},n.handleInteractiveEffectDisable=function(e){if(27===e.keyCode){var t=n.state.renderPlainText;n.setState({renderPlainText:!t})}};var i=t.track;return n.state={track:i,cues:i&&i.cues||[],isLoading:!0,playingCue:null,targetedHighlight:null,componentDidMount:!1,renderPlainText:!1},n}l()(InteractiveTranscript,e);var t=InteractiveTranscript.prototype;return t.componentDidMount=function componentDidMount(){var e=this.state.track;e&&Object(n.c)(e).then(this.handleTrackLoaded).done(),this.setState((function(){return{componentDidMount:!0}}))},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.track,i=e.track;i&&!i.error&&t&&i.languageCode!==t.languageCode&&(this.setState({track:i,isLoading:!0}),Object(n.c)(i).then(this.handleTrackLoaded).done())},t.render=function render(){var e=this.props,t=e.time,n=e.timeDiff,i=e.highlights,r=e.onSaveHighlight,o=e.onRemoveHighlight,a=e.hideTime,s=e.disableHighlighting,l=e.showSaveConfirmations,c=this.state,u=c.cues,d=c.track,h=c.isLoading,m=c.targetedHighlight,f=c.componentDidMount,g=c.renderPlainText,v=h&&(!d||!d.isLoaded),b=!s&&Object($e.a)();if(!d)return null;var C=f?Object(Se.b)(u,t):[],S=!v&&u&&u.length>0;return p.createElement("div",{onKeyDown:this.handleInteractiveEffectDisable},v&&p.createElement("div",{className:"horizontal-box align-items-absolute-center",style:{height:"100px"}},et||(et=p.createElement(x.a,null))),p.createElement(O.b,{tagName:"span"},p.createElement("h3",null,g?y()("Basic Transcript - Enable interactive transcript mode by pressing the escape key"):y()("Interactive Transcript - Enable basic transcript mode by pressing the escape key"))),S&&b&&p.createElement(Ze,{highlights:i,onSave:r,onRemove:o,onSelect:this.handleHighlightSelection,showSaveConfirmations:l},p.createElement(je,{highlights:i,activeCues:C,onCueClick:this.handleCueClick,targetedHighlight:m,paragraphs:n?Object(Se.a)(u,n):Object(Se.a)(u),hideTime:a,renderPlainText:g})),S&&!b&&p.createElement(je,{highlights:i,activeCues:C,targetedHighlight:null,onCueClick:this.handleCueClick,paragraphs:n?Object(Se.a)(u,n):Object(Se.a)(u),hideTime:a,renderPlainText:g}))},InteractiveTranscript}(p.Component);tt.defaultProps={highlights:[],onSaveHighlight:function onSaveHighlight(){},onRemoveHighlight:function onRemoveHighlight(){},handlePausePlayer:function handlePausePlayer(){}};var nt=tt,it=t("17x9"),rt=t.n(it),ot=t("cVIm"),at=t("GXs9"),st=t("BVC1"),lt=t("+2ZD"),ct,ut,dt=function styles(){return Object(d.c)(ct||(ct=u()(["\n  .primary-cta {\n    width: 400px;\n    display: block;\n    margin: 20px auto;\n  }\n\n  .secondary-cta {\n    max-width: 300px;\n    display: block;\n    margin: 0 auto;\n    margin-top: 10px;\n  }\n"])))},pt="https://translate-coursera.org",ht=function(e){function TranslationModal(){return e.apply(this,arguments)||this}var t;return l()(TranslationModal,e),TranslationModal.prototype.render=function render(){var e=this.props,t=e.courseId,n=e.trackingName,i=e.onClose,r=t?"".concat(pt,"/new_gtc/app/#/app/course_detail/").concat(t):"".concat(pt,"/new_gtc/app/#/overview");return Object(d.d)(lt.a,{handleClose:i,className:"rc-TranslationModal",modalName:y()("Help Us Translate"),trackingName:n,css:dt},Object(d.d)("div",{className:"content align-horizontal-center"},Object(d.d)(at.a,{height:88,width:202,alt:y()("Help us translate"),src:st.a.join(ot.a.url.assets,"/interactive-transcript/images/translate.png")}),Object(d.d)("div",{className:"display-4-text m-t-2"},Object(d.d)("h2",null,y()("Help Us Translate"))),Object(d.d)("div",{className:"body-1-text"},y()("Coursera video subtitles are translated by passionate learners like yourself."),ut||(ut=Object(d.d)("br",null)),y()("Join the Global Translator Community (GTC) to help make the world’s best education accessible to anyone, anywhere.")),Object(d.d)("a",{href:pt,rel:"noopener noreferrer",target:"_blank",className:"link-button primary cozy primary-cta"},y()("Sign up for the Global Translator Community")),Object(d.d)("div",{className:"body-1-text m-t-3"},Object(d.d)("h4",null,y()("Already a GTC translator?"))),Object(d.d)("a",{href:r,rel:"noopener noreferrer",target:"_blank",className:"link-button primary cozy secondary-cta"},y()("View my language community"))))},TranslationModal}(p.Component);ht.propTypes={courseId:rt.a.string,trackingName:rt.a.string.isRequired,onClose:rt.a.func.isRequired};var mt=ht,ft=t("IDuc"),gt,vt=function(e){function HelpUsTranslate(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showTranslationModal:!1},t.openTranslationModal=function(){t.setState({showTranslationModal:!0})},t.closeTranslationModal=function(){t.setState({showTranslationModal:!1})},t}var t;return l()(HelpUsTranslate,e),HelpUsTranslate.prototype.render=function render(){var e=this.props.courseId,t=this.state.showTranslationModal;return p.createElement("div",{className:"rc-HelpUsTranslate"},p.createElement(ft.a,{onClick:this.openTranslationModal,trackingName:"language_chooser_translation_link",className:"button-link align-self-end translate-btn"},y()("Help us translate!")),t&&p.createElement(mt,{courseId:e,onClose:this.closeTranslationModal,trackingName:"language_chooser_translation_modal"}))},HelpUsTranslate}(p.Component);t.d(e,"b",(function(){return E})),t.d(e,"a",(function(){return nt})),t.d(e,"c",(function(){return ht}));var yt=n.b,bt=n.a},"F+2o":function(module,exports,e){module.exports={default:e("UR8F"),__esModule:!0}},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return s})),t.d(e,"e",(function(){return l})),t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return u})),t.d(e,"d",(function(){return h}));var n=t("wd/R"),i=t.n(n),r=1,o=function findCueIndexForTimeHelper(e,t,n,i){if(t>n)return-1;var r=n-Math.floor((n-t)/2);return i<e[r].startTime?findCueIndexForTimeHelper(e,t,r-1,i):r!==e.length-1&&i>=e[r+1].startTime?findCueIndexForTimeHelper(e,r+1,n,i):r},a=function findCueIndexForTime(e,t){return o(e,0,e.length-1,t)},s=function formatTime(e){var t="m:ss",n=1e3*e,r,o;return i.a.duration(n).hours()>0&&(t="h:m"+t),i.a.utc(n).locale("en").format(t)},l=function getTimeFromDuration(e){var t=1e3*e,n=i.a.duration(t),r=n.hours(),o=n.minutes(),a;return{seconds:n.seconds(),minutes:o,hours:r}},c=function buildParagraphs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i,r,o;return e.forEach((function(e){r&&(o=e.startTime-r.endTime),(!i||o>=t)&&(i=[],n.push(i)),i.push(e),r=e})),n},u=function findCuesAroundTime(e,t){var n,i=e[a(e,t)];if(!i)return[];return[i]},d=function getSentenceCueIndices(e,t){for(var n=[],i=e-1;-1!==i;){var r=t[i];if("."===r.text[r.text.length-1])break;n.unshift(i),i-=1}for(var o=e;o<=t.length-1;){var a=t[o];if(n.push(o),"."===a.text[a.text.length-1])break;o+=1}return n},p=function getAdjancentCueIndices(e,t){var n=[],i=[];return e>=2&&i.push(e-2),e>=1&&i.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(i,[e],n)},h=function getAdjacentCues(e,t,n){var i=a(e,t);if(-1===i&&e.length>2)return[0,1,2].map((function(t){return e[t]}));if(i<0||i>=e.length)return[];if("en"===n)return d(i,e).map((function(t){return e[t]}));return p(i,e.length).map((function(t){return e[t]}))}},FAkQ:function(module,exports,e){},FYw3:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("EJiy"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},FgkJ:function(module,exports){module.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},G2bM:function(module,exports,e){},GDZC:function(module,exports,e){var t=e("bKEA"),n=e("ZDin").f,i={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return n(e)}catch(e){return r.slice()}};module.exports.f=function getOwnPropertyNames(e){return r&&"[object Window]"==i.call(e)?getWindowNames(e):n(t(e))}},GGkS:function(module,exports,e){},GRew:function(module,exports){exports.f={}.propertyIsEnumerable},Gcga:function(module,exports,e){},GfoU:function(module,exports,e){var t=e("/F7N"),n=e("yQFZ");module.exports=function(e){return function(i,r){var o=String(n(i)),a=t(r),s=o.length,l,c;if(a<0||a>=s)return e?"":void 0;return(l=o.charCodeAt(a))<55296||l>56319||a+1===s||(c=o.charCodeAt(a+1))<56320||c>57343?e?o.charAt(a):l:e?o.slice(a,a+2):c-56320+(l-55296<<10)+65536}}},GhSp:function(module,exports,e){var t=e("d+lc"),n=e("+vXQ"),i=e("M5dz"),r=Object.defineProperty;exports.f=e("C61u")?Object.defineProperty:function defineProperty(e,o,a){if(t(e),o=i(o,!0),t(a),n)try{return r(e,o,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[o]=a.value),e}},GmE1:function(module,exports,e){e("3If+")},GrJq:function(module,exports,e){e("ySBo")},Gytx:function(module,exports){module.exports=function shallowEqual(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(r=n?n.call(i,u,d,c):void 0)||void 0===r&&u!==d)return!1}return!0}},H3ix:function(module,exports,e){},H8ar:function(module,exports,e){e("Hduy")},HLRV:function(module,e,t){"use strict";var n=function(){function Track(e,t,n){this.languageCode=e,this.label=t,this.url=n,this.sourceContent=null,this.cues=[],this.isLoaded=!1}var e;return Track.prototype.getTextTranscript=function getTextTranscript(){return this.cues.map((function(e){return e.text})).join(" ")},Track}();e.a=n},Hduy:function(module,exports,e){},Ht4C:function(module,exports,e){e("4nIq")},"I/Al":function(module,exports,e){},"I90/":function(module,exports,e){var t=e("aqg2"),n=e("zBWt")("iterator"),i=e("ig3W");module.exports=e("VSTI").getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||i[t(e)]}},IFgl:function(module,exports,e){e("Tyr3")},Ibju:function(module,exports,e){},JAA1:function(module,e,t){"use strict";var n=t("F/us"),i=t.n(n),r=t("PTN7"),o=t.n(r),a=t("cVIm"),s=t("ROEb"),l=function ResolutionsHandler(e,t){this.player=e,this.sourcesByResolution=t.sourcesByResolution,this.supportedResolutions=i()(this._knownResolutions).intersection(i()(t.sourcesByResolution).keys()),this.resolution=this.isResolutionSupported(t.resolution)?t.resolution:"540p",this.possibleResolutions=this.supportedResolutions,this.player.on("error",function(){var e=this.player.error();if(e&&4===e.code&&"testing"!==a.a.environment){s.a.error("Attempted to get source for resolution, but server responded with an error");var t=this.getResolution();this.possibleResolutions=i()(this.possibleResolutions).without(t),this.possibleResolutions.length&&this.setResolution(this.possibleResolutions[0])}}.bind(this))};l.prototype.getResolution=function(){return this.resolution},l.prototype.getSupportedResolutions=function(){return this.supportedResolutions},l.prototype.getResolutionIndex=function(){return i()(this.supportedResolutions).indexOf(this.resolution)},l.prototype.isResolutionSupported=function(e){return i()(this.supportedResolutions).contains(e)},l.prototype.getSourceForResolution=function(e){if(!this.isResolutionSupported(e))return void s.a.error("Attempted to get source for unsupported resolution");var t=i()(this.sourcesByResolution[e]).findWhere({type:"video/mp4"});return t&&t.src},l.prototype.setResolution=function(e){if(this.resolution===e)return;if(!this.isResolutionSupported(e))return;var t=this.player.currentTime(),n=this.player.playbackRate(),i=this.player.paused();this.player.pause(),this.player.one("loadedmetadata",function(){this.player.currentTime(t),this.player.options().playbackRates&&this.player.playbackRate(n),i?this.player.pause():this.player.play()}.bind(this)),this.player.src(this.sourcesByResolution[e]),this.resolution=e,this.player.trigger("resolutionchange")},l.prototype.decreaseResolution=function(){0!==this.supportedResolutions.length&&this.getResolution!==i()(this.supportedResolutions).first()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()-1])},l.prototype.increaseResolution=function(){0!==this.supportedResolutions.length&&this.resolution!==i()(this.supportedResolutions).last()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()+1])},l.prototype._knownResolutions=["240p","360p","540p","720p"],o.a.registerPlugin("resolutions",(function(e){if(!this.resolutionsHandler_){var t=new l(this,e);this.resolutionsHandler_=t,this.resolution=function(e){return e?(t.setResolution(e),e):t.getResolution()},this.increaseResolution=t.increaseResolution.bind(t),this.decreaseResolution=t.decreaseResolution.bind(t),this.isResolutionSupported=t.isResolutionSupported.bind(t),this.getSupportedResolutions=t.getSupportedResolutions.bind(t),this.getResolutionIndex=t.getResolutionIndex.bind(t),this.getSourceForResolution=t.getSourceForResolution.bind(t)}}))},JO7F:function(module,exports,e){module.exports={default:e("ZblS"),__esModule:!0}},JpO0:function(module,exports,e){var t=e("CYMq"),n=e("znrX");e("czaS")("getPrototypeOf",(function(){return function getPrototypeOf(e){return n(t(e))}}))},JqCg:function(module,exports,e){var t=e("nQ+W"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},Jt1Q:function(module,exports,e){"use strict";var t=e("b08l"),n=e("ENu8"),i=e("kvAF"),r={};e("BRsN")(r,e("zBWt")("iterator"),(function(){return this})),module.exports=function(e,o,a){e.prototype=t(r,{next:n(1,a)}),i(e,o+" Iterator")}},KeZW:function(module,exports,e){e("rxKS")},KmnK:function(module,exports,e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},i=0;i<10;i++)n["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};if("abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join(""))return!1;return!0}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(e,r){for(var o,a=toObject(e),s,l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)i.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},KoCz:function(module,e,t){"use strict";t.d(e,"c",(function(){return useItemPageContext})),t.d(e,"a",(function(){return s}));var n=t("J4zp"),i=t.n(n),r=t("q1tI"),o=t.n(r),a=Object(r.createContext)({hasModalOpen:!1,setHasModalOpen:function setHasModalOpen(e){}});function useItemPageContext(){var e=Object(r.useContext)(a),t,n;return{hasModalOpen:e.hasModalOpen,setHasModalOpen:e.setHasModalOpen}}e.b=a;var s=function ItemPageContextProvider(e){var t=e.children,n=Object(r.useState)(!1),o=i()(n,2),s=o[0],l=o[1];return r.createElement(a.Provider,{value:{hasModalOpen:s,setHasModalOpen:l}},t)}},"L+Pa":function(module,exports,e){},L5pH:function(module,exports){module.exports=function(){}},LIAx:function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=addEventListener;var t,n=_interopRequireDefault(e("E0u0"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function addEventListener(e,t,i){function wrapCallback(t){var r=new n.default(t);i.call(e,r)}if(e.addEventListener)return e.addEventListener(t,wrapCallback,!1),{remove:function remove(){e.removeEventListener(t,wrapCallback,!1)}};if(e.attachEvent)return e.attachEvent("on"+t,wrapCallback),{remove:function remove(){e.detachEvent("on"+t,wrapCallback)}}}module.exports=exports.default},Lr1a:function(module,exports,e){e("JpO0"),module.exports=e("VSTI").Object.getPrototypeOf},"M+s9":function(module,exports,e){},M5dz:function(module,exports,e){var t=e("ekG2");module.exports=function(e,n){if(!t(e))return e;var i,r;if(n&&"function"==typeof(i=e.toString)&&!t(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!t(r=i.call(e)))return r;if(!n&&"function"==typeof(i=e.toString)&&!t(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},MBy0:function(module,exports,e){e("4Zg2")("asyncIterator")},MKs7:function(module,e,t){"use strict";var n=t("VkAN"),i=t.n(n),r=t("AeFk"),o=t("q1tI"),a=t("Z3v1"),s=t("+TN3"),l=t("2yix"),c=t("fAYU"),u=t("VTZa"),d=t("8Hdl"),p=t("UYTu"),h,m,f=Object(p.a)(h||(h=i()(["\n  query OnDemandCoursesPartnerDataQuery($courseId: String!) {\n    OnDemandCoursesV1Resource {\n      get(id: $courseId) {\n        id\n        partnerIds\n        name\n        slug\n        partners {\n          elements {\n            id\n            name\n            squareLogo\n          }\n        }\n      }\n      __typename\n    }\n  }\n"]))),g=t("2aIb"),v=t.n(g),y,b,C,S,k,w,T={attributionContainer:Object(r.c)(y||(y=i()(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  "]))),logo:Object(r.c)(b||(b=i()(["\n    flex: none;\n    margin-right: var(--cds-spacing-50);\n\n    img {\n      vertical-align: baseline;\n    }\n  "]))),name:Object(r.c)(C||(C=i()(["\n    flex: initial;\n    min-width: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  "]))),courseNameLink:Object(r.c)(S||(S=i()(["\n    color: var(--cds-color-grey-700) !important;\n  "]))),loadingLogo:Object(r.c)(k||(k=i()(["\n    padding: 3px;\n\n    > * {\n      border-radius: 4px;\n    }\n  "])))},P=o.memo((function(e){var t=e.className,n=e.includeCourseName;return Object(r.d)("div",{"data-testid":"loading",css:T.attributionContainer,className:t},Object(r.d)("div",{css:[T.logo,T.loadingLogo]},w||(w=Object(r.d)(l.a,{variant:"rect",height:24,width:24}))),Object(r.d)(l.a,{variant:"text",width:n?300:100,css:T.name}))})),E=function EmbeddedSourceCourseAttribution(e){var t,n,i,o=e.embeddedContentSourceCourseId,l=e.partner,p=e.courseName,h=e.courseSlug,m=e.includeCourseName,g=void 0!==m&&m,y=e.loading,b=void 0!==y&&y,C=e.boldPartnerName,S=void 0!==C&&C,k=e.className,w=Object(s.a)(f,{variables:{courseId:o},skip:!!l}),E=w.data,x=w.loading,O;if(w.error)return null;if(x||b)return Object(r.d)(P,{includeCourseName:g,className:k});var A=l||(null==E?void 0:null===(t=E.OnDemandCoursesV1Resource)||void 0===t?void 0:null===(n=t.get)||void 0===n?void 0:null===(i=n.partners)||void 0===i?void 0:i.elements[0]);if(!A)return null;var j=S?Object(r.d)("strong",null,A.name):A.name;if(g){var M,N,I,L,R=p||(null==E?void 0:null===(M=E.OnDemandCoursesV1Resource)||void 0===M?void 0:null===(N=M.get)||void 0===N?void 0:N.name),D=h||(null==E?void 0:null===(I=E.OnDemandCoursesV1Resource)||void 0===I?void 0:null===(L=I.get)||void 0===L?void 0:L.slug),F=Object(r.d)(c.a,{href:"/learn/".concat(D),target:"_blank",css:T.courseNameLink},R);j=Object(r.d)(a.FormattedMessage,{message:v()("From {courseNameLink} by {partnerName}"),courseNameLink:F,partnerName:A.name})}return Object(r.d)("div",{css:T.attributionContainer,className:"rc-EmbeddedSourceCourseAttribution ".concat(k)},Object(r.d)(u.a,{variant:"organization",size:24,showBorder:!0,imgProps:{src:A.squareLogo||void 0},"aria-hidden":!0,"data-testid":"partner-logo",css:T.logo}),Object(r.d)(d.a,{variant:"body2",component:"span",color:"supportText",css:T.name},j))},x=e.a=E},MmP8:function(module,exports,e){e("ostm")},MtUo:function(module,exports,e){},N4c9:function(module,exports,e){e("wYM1");var t=e("VSTI").Object;module.exports=function defineProperty(e,n,i){return t.defineProperty(e,n,i)}},N8J5:function(module,exports,e){var t=e("NFod"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},NC7b:function(module,exports,e){},NFod:function(module,exports){exports.default={"<span class=\"timer-red\">Autoplay Disabled</span>":"<span class=\"timer-red\">Lecture automatique désactivée</span>","Autoplay":"Lecture automatique","Autoplay is off":"La lecture automatique est désactivée","Autoplay is on":"La lecture automatique est activée","Cancel":"Annuler","High":"Haute","Low":"Basse","Lowest":"Le plus bas","Medium":"Moyenne","Off":"Arrêt","On":"Marche","Playback Rate":"Vitesse de lecture","Start":"Démarrer","Starts in <span class=\"timer\">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}":"{countdownTime, plural, one {Commence dans <span class=\"timer\">{countdownTime}</span> secondes} other {Commence dans <span class=\"timer\">{countdownTime}</span> secondes}}","Up Next":"Bientôt disponible","Video Progress":"Progression de la vidéo","Video Quality":"Qualité de la vidéo","decrease playback rate":"réduire la vitesse de lecture","decrease playback rate to #{lowerPlaybackRate}":"réduire la vitesse de lecture à #{lowerPlaybackRate}","decrease video quality":"réduire la qualité vidéo","decrease video quality to #{lowerResolution}":"réduire la qualité vidéo à #{lowerResolution}","disable autoplay":"désactiver la lecture automatique","enable autoplay":"activer la lecture automatique","increase playback rate":"augmenter la vitesse de lecture","increase playback rate to #{higherPlaybackRate}":"augmenter la vitesse de lecture à #{higherPlaybackRate}","increase video quality":"augmenter la qualité vidéo","increase video quality to #{higherResolution}":"augmenter la qualité vidéo à #{higherResolution}","|":"|"}},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},OIEB:function(module,exports){exports.default={"#{action} your thoughts#{noteText} for the note marked":"#{action} vos opinions #{noteText} pour la note marquée","#{itemName} from time #{noteStartTimestamp}":"#{itemName} à partir de #{noteStartTimestamp}","#{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}":"#{itemName} de #{noteStartTimestamp} à #{noteEndTimestamp}","Add":"Ajouter","Add your thoughts":"Ajoutez vos opinions","All notes":"Toutes les notes personnelles","Are you sure you want to delete the entire note?":"Voulez-vous vraiment supprimer l'ensemble de cette remarque ?","Cancel":"Annuler","Cancel changes for \"#{transcriptText}\" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds":"Annulez les changements pour \"#{transcriptText}\" de #{startHour} heures #{startMinute} minutes #{startSecond} secondes jusqu'à #{endHour} heures #{endMinute} minutes #{endSecond} secondes","Cancel deleting your notes for #{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}":"Annulez la suppression de vos notes pour #{itemName} de #{noteStartTimestamp} à #{noteEndTimestamp}","Cancel editing notes for #{text}":"Annuler la modification des notes pour #{text}","Click the “Save Note” button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript below. Add your own notes to anything you’ve captured.":"Cliquez sur le bouton « Enregistrer la note » sous la vidéo de cours lorsque vous souhaitez faire une capture d'écran. Vous pouvez également mettre en évidence et enregistrer des lignes de la transcription ci-dessous. Ajoutez vos propres notes personnelles à n'importe quel élément pour lequel vous avez fait une capture d'écran.","Click the “Save Note” button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything you’ve captured.":"Cliquez sur le bouton ’Enregistrer la note’ sous la vidéo de cours lorsque vous souhaitez faire une capture d’écran. Vous pouvez également surligner et enregistrer des lignes de la transcription. Ajoutez vos propres notes à n’importe quel élément pour lequel vous avez fait une capture d’écran.","Delete":"Supprimer","Delete Note?":"Voulez-vous supprimer la note ?","Delete note #{noteText}":"Supprimer la note #{noteText}","Delete your notes":"Supprimer vos notes","Delete your notes for #{itemName} from time #{noteStartTimestamp} to #{noteEndTimestamp}":"Supprimer vos notes pour la vidéo #{itemName} de #{noteStartTimestamp} à #{noteEndTimestamp}","Delete your notes for #{videoName} from time #{videoNoteStartTimestamp}":"Supprimer vos notes pour la vidéo #{videoName} à partir de #{videoNoteStartTimestamp}","Delete your notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}":"Supprimer vos notes pour la vidéo #{videoName} de #{videoNoteStartTimestamp} à #{videoNoteEndTimestamp}","Duration":"Durée","Edit":"Éditer","Edit your notes":"Modifier vos notes","Edit your notes for #{videoName} from time #{videoNoteStartTimestamp}":"Modifier vos notes pour la vidéo #{videoName} à partir de #{videoNoteStartTimestamp}","Edit your notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}":"Modifier vos notes pour la vidéo #{videoName} de #{videoNoteStartTimestamp} à #{videoNoteEndTimestamp}","Edit your thoughts":"Modifiez vos opinions","Filter":"Filtre","Go to video":"Accédez à la vidéo","Highlight":"Surbrillance","Loading Notes...":"Chargement des notes personnelles...","Loading notes...":"Chargement des notes personnelles...","Note placeholder":"Paramètre fictif de notes","Notes":"Notes Personnelles","Notes <span class=\"note-count\">({count})</span>":"Notes Personnelles <span class=\"note-count\">({count})</span>","Pause video clip #{startTime}":"Mettre en pause le clip vidéo #{startTime}","Pause video clip #{startTime} - #{endTime}":"Mettre en pause le clip vidéo #{startTime} - #{endTime}","Pause video for highlight marked":"Mettre la vidéo en pause pour les éléments marqués comme mis en évidence","Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked":"Mettre la vidéo en pause pour la transcription du texte #{formattedTranscriptText} marquée comme mise en évidence","Play video clip #{startTime}":"Lire le clip vidéo #{startTime}","Play video clip #{startTime} - #{endTime}":"Lire le clip vidéo #{startTime} - #{endTime}","Play video for highlight marked":"Lire la vidéo pour les éléments marqués comme mis en évidence","Play video for highlighted transcript with text, #{formattedTranscriptText}, marked":"Lire la vidéo pour la transcription du texte #{formattedTranscriptText} marquée comme mise en évidence","Save":"Sauvegarder","Save your notes for #{text}":"Sauvegarder vos notes pour #{text}","Save your thoughts for \"#{transcriptText}\" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds":"Sauvegardez votre travail pour \"#{transcriptText}\" de #{startHour} heures #{startMinute} minutes #{startSecond} secondes jusqu'à #{endHour} heures #{endMinute} minutes #{endSecond} secondes","Saving...":"Sauvegarde en cours...","See More Notes":"Voir plus de notes personnelles","Take notes":"Prenez des notes","There was an issue loading your notes data. Please try refreshing the page.":"Une erreur s'est produite lors du chargement des données des notes. Veuillez actualiser la page.","Toggle Notes Panel":"Faire basculer le panneau de notes","Video thumbnail":"Vignette vidéo","View all notes":"Voir toutes les notes","View all notes. Opens in new tab":"Voir toutes les notes. Ouvrir dans un nouvel onglet","You have not added any notes yet. Notes can be created from video pages.":"Vous n’avez encore ajouté aucune remarque. Les remarques peuvent être créées à partir des pages vidéo.","Your Notes":"Vos notes personnelles","Your note":"Votre note","{startText} for {hours} hours {minutes} minutes {seconds} seconds":"{startText} pendant {hours} heures {minutes} minutes {seconds} secondes","{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds":"{startText} de {fromHr} heures {fromMin} minutes {fromSec} secondes jusqu'à {toHr} heures {toMin} minutes {toSec} secondes"}},OMAK:function(module,exports){module.exports={name:"siteOnDemandCompletion",parameters:[{name:"assignmentVerificationSessions",value:["XttsmXm4EeWpCwrPNVXTlw","7P0bJnRZEeWgtQq7brjg6Q","IM53RnK_EeWpCwrPNVXTlw","jTosCG7UEeWPJBI9QEQKiQ","NrwvcW7VEeWWpw7gge8ZbQ","N7aolG-BEeWdPxJ-h_8T7w","NtSGgG-BEeWgtQq7brjg6Q","RpHdwHLAEeWXygocDxikNQ","dTeBf3K_EeWpCwrPNVXTlw","_MN8qm7UEeWgtQq7brjg6Q"]},{name:"showPhotoUploadInClassmates",value:!1},{name:"itemVideoDownloadBlacklist",value:["3EPZVpSGEeSb9SIACzCJlg"]},{name:"itemVideoContextMenuDenyList",value:["VNEblfJtEeyFUAphC_7O7w"]}]}},OTpG:function(module,exports,e){"use strict";var t=e("5ETA"),n=e("USwo"),i=e("ugGH"),r=e("BRsN"),o=e("ig3W"),a=e("Jt1Q"),s=e("kvAF"),l=e("znrX"),c=e("zBWt")("iterator"),u=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",h="values",returnThis=function(){return this};module.exports=function(e,m,f,g,v,y,b){a(f,m,g);var getMethod=function(e){if(!u&&e in w)return w[e];switch(e){case p:return function keys(){return new f(this,e)};case h:return function values(){return new f(this,e)}}return function entries(){return new f(this,e)}},C=m+" Iterator",S=v==h,k=!1,w=e.prototype,T=w[c]||w[d]||v&&w[v],P=T||getMethod(v),E=v?S?getMethod("entries"):P:void 0,x="Array"==m&&w.entries||T,O,A,j;if(x&&(j=l(x.call(new e)))!==Object.prototype&&j.next&&(s(j,C,!0),t||"function"==typeof j[c]||r(j,c,returnThis)),S&&T&&T.name!==h&&(k=!0,P=function values(){return T.call(this)}),t&&!b||!u&&!k&&w[c]||r(w,c,P),o[m]=P,o[C]=returnThis,v)if(O={values:S?P:getMethod(h),keys:y?P:getMethod(p),entries:E},b)for(A in O)A in w||i(w,A,O[A]);else n(n.P+n.F*(u||k),m,O);return O}},Oa1h:function(module,exports,e){var t=e("bKEA"),n=e("0WpP"),i=e("nRFE");module.exports=function(e){return function(r,o,a){var s=t(r),l=n(s.length),c=i(a,l),u;if(e&&o!=o){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((e||c in s)&&s[c]===o)return e||c||0;return!e&&-1}}},OsHj:function(module,exports,e){e("oynu")},P2sY:function(module,exports,e){module.exports={default:e("uccp"),__esModule:!0}},P8KX:function(module,exports,e){e("M+s9")},PFWz:function(module,exports,e){try{var t=e("zs13")}catch(n){var t=e("zs13")}var n=/\s+/,i=Object.prototype.toString;function ClassList(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}module.exports=function(e){return new ClassList(e)},ClassList.prototype.add=function(e){if(this.list)return this.list.add(e),this;var n=this.array(),i;return~t(n,e)||n.push(e),this.el.className=n.join(" "),this},ClassList.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var n=this.array(),r=t(n,e);return~r&&n.splice(r,1),this.el.className=n.join(" "),this},ClassList.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},ClassList.prototype.toggle=function(e,t){if(this.list)return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this;return void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},ClassList.prototype.array=function(){var e,t,i=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(n);return""===i[0]&&i.shift(),i},ClassList.prototype.has=ClassList.prototype.contains=function(e){return this.list?this.list.contains(e):!!~t(this.array(),e)}},Q64i:function(module,exports,e){var t=e("WXLS"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},QDlc:function(module,exports,e){"use strict";function returnFalse(){return!1}function returnTrue(){return!0}function EventBaseObject(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(exports,"__esModule",{value:!0}),EventBaseObject.prototype={isEventObject:1,constructor:EventBaseObject,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function preventDefault(){this.isDefaultPrevented=returnTrue},stopPropagation:function stopPropagation(){this.isPropagationStopped=returnTrue},stopImmediatePropagation:function stopImmediatePropagation(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},halt:function halt(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},exports.default=EventBaseObject,module.exports=exports.default},QRdY:function(module,exports,e){e("xfML"),module.exports=e("VSTI").Object.setPrototypeOf},QbLZ:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("P2sY"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},Qy3I:function(module,exports,e){e("/u3z")},"RY+i":function(module,exports,e){e("CdQ7")},Retq:function(module,e,t){"use strict";t.d(e,"a",(function(){return KeyboardControls}));var n=t("q1tI"),i=t.n(n);function KeyboardControls(e){return Object(n.useEffect)((function(){var t,n=function setFromEvent(t){var n,i;return null===(n=(i=e.keyActionMap)[t.key])||void 0===n?void 0:n.call(i,t)};if(null!==(t=document)&&void 0!==t&&t.addEventListener)return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[]),n.createElement(n.Fragment,null,e.children)}},RgwD:function(module,e,t){"use strict";t.d(e,"a",(function(){return d})),t.d(e,"c",(function(){return p})),t.d(e,"b",(function(){return PersistentFullScreen}));var n=t("fsL8"),i=t.n(n),r=t("yXPU"),o=t.n(r),a=t("AeFk"),s=t("q1tI"),l=t.n(s),c="persistent_fullscreen";function waitFor(e,t){return new Promise((function(n){setTimeout((function(){return n(e())}),t)}))}var u=Object(a.c)("\n  display: flex;\n  align-items: center;\n  .vjs-react.video-js {\n      padding: 0 !important;\n      position: relative;\n      height: 100%;\n      margin: 0 auto;\n  }\n"),d={isFullScreen:function isFullScreen(){var e=!1,t=document;return t.fullscreenElement?e=!!t.fullscreenElement:t.msFullscreenElement?e=!!t.msFullscreenElement:t.mozFullScreenElement?e=!!t.mozFullScreenElement:t.webkitIsFullScreen&&(e=t.webkitIsFullScreen),e},getFullScreenElement:function getFullScreenElement(){var e,t=document;return document.fullscreenElement?e=document.fullscreenElement:t.webkitCurrentFullScreenElement?e=t.webkitCurrentFullScreenElement:t.mozFullScreenElement?e=t.mozFullScreenElement:t.msCurrentFullScreenElement&&(e=t.msCurrentFullScreenElement),e},requestFullScreenExit:function(){var e=o()(i()().mark((function _callee(){var e,t;return i()().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=document).msExitFullscreen){n.next=7;break}return n.next=4,t.msExitFullscreen();case 4:e=n.sent,n.next=26;break;case 7:if(!t.mozExitFullScreen){n.next=13;break}return n.next=10,t.mozExitFullScreen();case 10:e=n.sent,n.next=26;break;case 13:if(!t.webkitExitFullscreen){n.next=19;break}return e=t.webkitExitFullscreen(),n.next=17,waitFor((function(){}),600);case 17:n.next=26;break;case 19:if(!t.exitFullscreen){n.next=25;break}return n.next=22,t.exitFullscreen();case 22:e=n.sent,n.next=26;break;case 25:e="Fullscreen API is not supported";case 26:return n.abrupt("return",e);case 27:case"end":return n.stop()}}),_callee)})));function requestFullScreenExit(){return e.apply(this,arguments)}return requestFullScreenExit}(),requestFullScreen:function(){var e=o()(i()().mark((function _callee2(e){var t;return i()().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(!e.msRequestFullscreen){n.next=4;break}t=e.msRequestFullscreen(),n.next=19;break;case 4:if(!e.mozRequestFullScreen){n.next=8;break}t=e.mozRequestFullScreen(),n.next=19;break;case 8:if(!e.webkitRequestFullscreen){n.next=12;break}t=e.webkitRequestFullscreen(),n.next=19;break;case 12:if(!e.requestFullscreen){n.next=18;break}return n.next=15,e.requestFullscreen();case 15:t=n.sent,n.next=19;break;case 18:t="Fullscreen API is not supported";case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}}),_callee2)})));function requestFullScreen(t){return e.apply(this,arguments)}return requestFullScreen}()},p={setFullScreenElRef:function setFullScreenElRef(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenEl:e}}))},setOriginalContainerElRef:function setOriginalContainerElRef(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{originalContainerEl:e}}))},setFullScreenContainerElRef:function setFullScreenContainerElRef(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenContainerEl:e}}))},isFullScreen:d.isFullScreen,getfullScreenElement:d.getFullScreenElement,enterFullScreen:function enterFullScreen(e){document.dispatchEvent(new CustomEvent("enterPersistentFullScreen",e))},exitFullScreen:function exitFullScreen(e){document.dispatchEvent(new CustomEvent("exitPersistentFullScreen",e))}};function isHandleFullScreenChangeEvent(e){return"detail"in e}function PersistentFullScreen(){var e=Object(s.useRef)(null),t=Object(s.useRef)(!1),n=null,i=null,r=!1;function updateFullScreen(r){isHandleFullScreenChangeEvent(r)&&(r.detail.originalContainerEl&&(n=r.detail.originalContainerEl),r.detail.fullScreenEl&&(i=r.detail.fullScreenEl),e.current&&p.isFullScreen()&&t.current&&i&&(e.current.innerHTML="",e.current.appendChild(i)))}function enterFullScreen(){i&&e.current&&d.requestFullScreen(e.current).then((function(){t.current=!0,e.current&&i&&(e.current.innerHTML="",e.current.appendChild(i))})),setTimeout((function(){r=!0}),600)}function exitFullScreen(){p.isFullScreen()&&r?d.requestFullScreenExit().then((function(){t.current=!1,n&&i&&n.appendChild(i)})):n&&i&&r&&n.appendChild(i),setTimeout((function(){r=!1}),600)}function handleChange(e){e.bubbles&&e.isTrusted&&r&&exitFullScreen()}return Object(s.useEffect)((function(){return document.addEventListener("enterPersistentFullScreen",enterFullScreen),document.addEventListener("exitPersistentFullScreen",exitFullScreen),document.addEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.addEventListener(e,handleChange)})),function(){document.removeEventListener("enterPersistentFullScreen",enterFullScreen),document.removeEventListener("exitPersistentFullScreen",exitFullScreen),document.removeEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.removeEventListener(e,handleChange)}))}}),[]),Object(a.d)("div",{css:u,ref:function ref(t){e.current=t},id:c})}},RrrT:function(module,e,t){"use strict";var n=function propertyComparator(e){return function(t,n){if(t[e]<n[e])return-1;if(t[e]>n[e])return 1;return 0}},i=function(){function TrackList(e){this.tracks=e.slice(),this.tracks.sort(n("label"))}var e=TrackList.prototype;return e.toArray=function toArray(){return this.tracks},e.getFromLanguageCode=function getFromLanguageCode(e){return this.tracks.find((function(t){return t.languageCode===e}))},TrackList}();e.a=i},S4vA:function(module,exports){module.exports=function(e){try{return!!e()}catch(e){return!0}}},SEkw:function(module,exports,e){module.exports={default:e("N4c9"),__esModule:!0}},Sa8Z:function(module,exports,e){e("Ibju")},SkeG:function(module,exports,e){"use strict";var t=e("GhSp"),n=e("ENu8");module.exports=function(e,i,r){i in e?t.f(e,i,n(0,r)):e[i]=r}},T4Yn:function(module,exports,e){},TSC6:function(module,exports,e){var t=e("GRew"),n=e("ENu8"),i=e("bKEA"),r=e("M5dz"),o=e("nA4W"),a=e("+vXQ"),s=Object.getOwnPropertyDescriptor;exports.f=e("C61u")?s:function getOwnPropertyDescriptor(e,l){if(e=i(e),l=r(l,!0),a)try{return s(e,l)}catch(e){}if(o(e,l))return n(!t.f.call(e,l),e[l])}},TYje:function(module,exports){var e={}.toString;module.exports=function(t){return e.call(t).slice(8,-1)}},TnF5:function(module,exports,e){e("4Zg2")("observable")},Trx6:function(module,exports,e){var t=e("TYje");module.exports=Array.isArray||function isArray(e){return"Array"==t(e)}},Tyr3:function(module,exports,e){},UE0t:function(module,exports,e){e("9B37")},UR8F:function(module,exports,e){e("C5kU"),e("ZY/g"),module.exports=e("/NTb").f("iterator")},USwo:function(module,exports,e){var t=e("7whZ"),n=e("VSTI"),i=e("nAx8"),r=e("BRsN"),o=e("nA4W"),a="prototype",$export=function(e,a,s){var l=e&$export.F,c=e&$export.G,u=e&$export.S,d=e&$export.P,p=e&$export.B,h=e&$export.W,exports=c?n:n[a]||(n[a]={}),m=exports.prototype,f=c?t:u?t[a]:(t[a]||{}).prototype,g,v,y;for(g in c&&(s=a),s){if((v=!l&&f&&void 0!==f[g])&&o(exports,g))continue;y=v?f[g]:s[g],exports[g]=c&&"function"!=typeof f[g]?s[g]:p&&v?i(y,t):h&&f[g]==y?function(e){var F=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return F.prototype=e.prototype,F}(y):d&&"function"==typeof y?i(Function.call,y):y,d&&((exports.virtual||(exports.virtual={}))[g]=y,e&$export.R&&m&&!m[g]&&r(m,g,y))}};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},Uhfz:function(module,exports,e){},V7oC:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("SEkw"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,n.default)(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()},VDEC:function(module,e,t){"use strict";t.r(e);var n=t("J4zp"),i=t.n(n),r=t("VkAN"),o=t.n(r),a=t("AeFk"),s=t("q1tI"),l=t("Gcrz"),c=t("/MKj"),u=t("agHs"),d=t("L1vm"),p=t("sQ/U"),h,m=Object(a.c)(h||(h=o()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"])));function CoachSmileIcon(e){var t,n="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(a.d)("svg",{css:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(a.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(a.d)("path",{className:n,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(a.d)("path",{id:"right-eye",cx:"257",cy:"257",className:n,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(a.d)("path",{id:"left-eye",className:n,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(a.d)("path",{className:n,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}var f=t("DU3t"),g=t("xeAZ"),v=t.n(g),y=t("ANjH"),b=t("lSNA"),C=t.n(b),S=t("3tO9"),k=t.n(S),w=function createReducer(e,t,n){return e[n.type]?e[n.type](t,n):t},T="BEHAVIOR/TOGGLE_CHAT",P="BEHAVIOR/TOGGLE_FULLSCREEN",E="BEHAVIOR/TOGGLE_INPUT_DISABLED",x="BEHAVIOR/TOGGLE_MSG_LOADER",O="BEHAVIOR/SET_BADGE_COUNT",A="MESSAGES/ADD_NEW_USER_MESSAGE",j="MESSAGES/ADD_NEW_RESPONSE_MESSAGE",M="MESSAGES/ADD_NEW_LINK_SNIPPET",N="MESSAGES/ADD_COMPONENT_MESSAGE",I="MESSAGES/DROP_MESSAGES",L="MESSAGES/HIDE_AVATAR",R="MESSAGES/DELETE_MESSAGES",D="MESSAGES/MARK_ALL_READ",F="MESSAGE/FEEDBACK_SET_LIKE",V="MESSAGE/FEEDBACK_SET_UNLIKE",B="MESSAGE/FEEDBACK_UNSET",H="INPUT/SET_USER_INPUT_TEXT",U="SESSION/NEW_CHAT_SESSION",W,z={showChat:!1,isFullScreen:!1,disabledInput:!1,messageLoader:!1},q=(W={},C()(W,T,(function(e){return k()(k()({},e),{},{showChat:!e.showChat})})),C()(W,P,(function(e){return k()(k()({},e),{},{isFullScreen:!e.isFullScreen})})),C()(W,E,(function(e){return k()(k()({},e),{},{disabledInput:!e.disabledInput})})),C()(W,x,(function(e){return k()(k()({},e),{},{messageLoader:!e.messageLoader})})),W),reducers_behaviorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return w(q,e,t)},K={inputText:""},Q=C()({},H,(function(e,t){return k()(k()({},e),{},{inputText:t.inputText})})),reducers_inputReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return w(Q,e,t)},G=t("RIqP"),Y=t.n(G),X=t("DxU6"),J=t.n(X),Z={CLIENT:"client",RESPONSE:"response"},ee={TEXT:"text",SNIPPET:{LINK:"snippet"},CUSTOM_COMPONENT:"component"},te="LIKE",ne="DISLIKE",ie="UNSET",re={VIDEO:"video",READING:"reading"},oe=function getErrorMessageText(){return J()("Sorry, there was an error responding. Please try your message again.")},ae=400,se="activeCourseraCoachSessionId",le=t("TNJZ"),ce=t.n(le),ue=t("1M3H"),de=t.n(ue),pe=t("1+lQ"),he=t.n(pe),me=t("MPo6"),fe=t.n(me),ge=t("e6bE"),ve=t.n(ge);function Message(e){var t=e.message,n=de()({break:!0}).use(ce.a,{img:["rcw-message-img"]}).use(ve.a).use(fe.a).use(he.a,{attrs:{target:"_blank",rel:"noopener"}}).render(t.text);return s.createElement("div",{className:"rcw-".concat(t.sender," rcw-message-text"),dangerouslySetInnerHTML:{__html:n.replace(/\n$/,"")}})}var ye=Message;function Snippet(e){var t=e.message;return(s.createElement("div",{className:"rcw-snippet"},s.createElement("h5",{className:"rcw-snippet-title"},t.title),s.createElement("div",{className:"rcw-snippet-details"},s.createElement("a",{href:t.link,target:t.target,className:"rcw-link"},t.link))))}var be=Snippet,Ce;function createNewMessage(e){var t=e.text,n=e.sender,i=e.id,r=e.clipRecommendations,o=e.userFeedback,a=e.timestamp;return{type:ee.TEXT,component:ye,text:t,sender:n,timestamp:a?new Date(a):new Date,showAvatar:!0,customId:i,unread:n===Z.RESPONSE,clipRecommendations:r,userFeedback:o}}function createLinkSnippet(e,t){return{type:ee.SNIPPET.LINK,component:be,title:e.title,link:e.link,target:e.target||"_blank",sender:Z.RESPONSE,timestamp:new Date,showAvatar:!0,customId:t,unread:!0}}function createComponentMessage(e,t,n,i){return{type:ee.CUSTOM_COMPONENT,component:e,props:t,sender:Z.RESPONSE,timestamp:new Date,showAvatar:n,customId:i,unread:!0}}function sinEaseOut(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function scrollWithSlowMotion(e,t,n){var i,r=null===(i=window)||void 0===i?void 0:i.requestAnimationFrame,o=0,a=function step(i){o||(o=i);var a=sinEaseOut(i-o,0,n,ae),s=t+a;e.scrollTop=s,s<t+n&&r(step)};r(a)}function scrollToBottom(e){if(!e)return;var t=e.clientHeight,n=e.scrollTop,i=e.scrollHeight-(n+t);i&&scrollWithSlowMotion(e,n,i)}var Se={messages:[],badgeCount:0},ke=(Ce={},C()(Ce,A,(function(e,t){var n=t.text,i=t.id,r=t.timestamp;return k()(k()({},e),{},{messages:[].concat(Y()(e.messages),[createNewMessage({text:n,sender:Z.CLIENT,id:i,timestamp:r})])})})),C()(Ce,j,(function(e,t){var n=t.text,i=t.id,r=t.clipRecommendations,o=t.userFeedback,a=t.timestamp;return k()(k()({},e),{},{messages:[].concat(Y()(e.messages),[createNewMessage({text:n,sender:Z.RESPONSE,id:i,clipRecommendations:r,userFeedback:o,timestamp:a})]),badgeCount:e.badgeCount+1})})),C()(Ce,M,(function(e,t){var n=t.link,i=t.id;return k()(k()({},e),{},{messages:[].concat(Y()(e.messages),[createLinkSnippet(n,i)])})})),C()(Ce,N,(function(e,t){var n=t.component,i=t.props,r=t.showAvatar,o=t.id;return k()(k()({},e),{},{messages:[].concat(Y()(e.messages),[createComponentMessage(n,i,r,o)])})})),C()(Ce,I,(function(e){return k()(k()({},e),{},{messages:[],badgeCount:0})})),C()(Ce,L,(function(e,t){var n=t.index;return e.messages[n].showAvatar=!1})),C()(Ce,R,(function(e,t){var n=t.count,i=t.id,r=i?e.messages.filter((function(_,t){var r=e.messages.findIndex((function(e){return e.customId===i}));return t<r-n+1||t>r})):e.messages.slice(0,e.messages.length-n);return k()(k()({},e),{},{messages:r,badgeCount:r.filter((function(e){return e.unread})).length})})),C()(Ce,O,(function(e,t){var n=t.count;return k()(k()({},e),{},{badgeCount:n})})),C()(Ce,D,(function(e){return k()(k()({},e),{},{messages:e.messages.map((function(e){return k()(k()({},e),{},{unread:!1})})),badgeCount:0})})),C()(Ce,F,(function(e,t){var n=t.id;return k()(k()({},e),{},{messages:e.messages.map((function(e){return k()(k()({},e),{},{userFeedback:n===e.customId?te:e.userFeedback})}))})})),C()(Ce,V,(function(e,t){var n=t.id;return k()(k()({},e),{},{messages:e.messages.map((function(e){return k()(k()({},e),{},{userFeedback:n===e.customId?ne:e.userFeedback})}))})})),C()(Ce,B,(function(e,t){var n=t.id;return k()(k()({},e),{},{messages:e.messages.map((function(e){return k()(k()({},e),{},{userFeedback:n===e.customId?ie:e.userFeedback})}))})})),Ce),reducers_messagesReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;return w(ke,e,t)},we=y.b,Te=Object(y.a)({behavior:reducers_behaviorReducer,messages:reducers_messagesReducer,input:reducers_inputReducer}),Pe=Object(y.c)(Te,we());function actions_toggleChat(){return{type:T}}function actions_toggleFullScreen(){return{type:P}}function toggleInputDisabled(){return{type:E}}function addUserMessage(e,t,n){return{type:A,text:e,id:t,timestamp:n}}function addResponseMessage(e,t,n,i,r){return{type:j,text:e,id:t,clipRecommendations:n,userFeedback:i,timestamp:r}}function toggleMsgLoader(){return{type:x}}function addLinkSnippet(e,t){return{type:M,link:e,id:t}}function renderCustomComponent(e,t,n,i){return{type:N,component:e,props:t,showAvatar:n,id:i}}function dropMessages(){return{type:I}}function hideAvatar(e){return{type:L,index:e}}function deleteMessages(e,t){return{type:R,count:e,id:t}}function setBadgeCount(e){return{type:O,count:e}}function markAllMessagesRead(){return{type:D}}function setUserInput(e){return{type:H,inputText:e}}function setLike(e){return{type:F,id:e}}function setUnLike(e){return{type:V,id:e}}function setUnSet(e){return{type:B,id:e}}function dispatcher_addUserMessage(e,t,n){Pe.dispatch(addUserMessage(e,t,n))}function dispatcher_addResponseMessage(e,t,n,i,r){Pe.dispatch(addResponseMessage(e,t,n,i,r))}function dispatcher_addLinkSnippet(e,t){Pe.dispatch(addLinkSnippet(e,t))}function dispatcher_toggleMsgLoader(){Pe.dispatch(toggleMsgLoader())}function dispatcher_renderCustomComponent(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;Pe.dispatch(renderCustomComponent(e,t,n,i))}function toggleWidget(){Pe.dispatch(actions_toggleChat())}function dispatcher_toggleFullScreen(){Pe.dispatch(actions_toggleFullScreen())}function dispatcher_toggleInputDisabled(){Pe.dispatch(toggleInputDisabled())}function dispatcher_dropMessages(){Pe.dispatch(dropMessages())}function dispatcher_deleteMessages(e,t){Pe.dispatch(deleteMessages(e,t))}function markAllAsRead(){Pe.dispatch(markAllMessagesRead())}function dispatcher_setBadgeCount(e){Pe.dispatch(setBadgeCount(e))}function setUserInputText(e){Pe.dispatch(setUserInput(e))}function clearUserInputText(){Pe.dispatch(setUserInput(""))}function ChatHistoryLoader(e){var t=e.loading,n=e.error,i=e.data,r=e.children;if(t)return r;if(n){var o,a=n;if((null==a?void 0:null===(o=a.graphQLErrors)||void 0===o?void 0:o.length)>0){var s=a.graphQLErrors[0];u.captureMessage(JSON.stringify(s))}return r}if(null!=i&&i.AiCoach.queryByChatSessionId){var l=i.AiCoach.queryByChatSessionId.elements;l.length>0&&dispatcher_dropMessages();for(var c=l.length-1;c>=0;c-=1){var d=l[c];d&&(d.senderType===f.b.User?dispatcher_addUserMessage(d.message,d.id,d.createdAt):d.senderType===f.b.System&&dispatcher_addResponseMessage(d.message,d.id,d.clipRecommendations||void 0,d.userFeedback,d.createdAt))}markAllAsRead()}return r}function ChatConversationHistoryProvider(e){var t=e.historyLimit,n=e.chatSessionId,i=e.children;if(!n)return i;return(s.createElement(l.c,{query:v.a,variables:{chatSessionId:n,limit:t},fetchPolicy:"cache-and-network",context:{clientName:"gatewayGql"}},(function(e){var t=e.loading,n=e.error,r=e.data;return(s.createElement(ChatHistoryLoader,{loading:t,error:n,data:r},i))})))}ChatConversationHistoryProvider.displayName="ChatConversationHistory";var Ee=ChatConversationHistoryProvider,xe=t("TSYQ"),Oe=t.n(xe),Ae=t("kgYC"),je=t("6/Gu"),_e=t("8Hdl"),Me=t("wC8J"),Ne=t("ZJgU"),Ie=t("sBcU"),Le=t("kyt0"),Re,De={container:Object(a.c)({width:"25px",display:"inline-block",padding:"5px 0 0 0",margin:"0 6px 0 0"})},Fe=function ChatSessionCreateIcon(){return Object(a.d)("span",{css:De.container},Re||(Re=Object(a.d)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 21.67"},Object(a.d)("defs",null,Object(a.d)("style",null,".cls-1{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;}")),Object(a.d)("g",null,Object(a.d)("path",{className:"cls-1",d:"m.5,16.25V2.95C.5,1.6,1.6.5,2.95.5h17.74c1.36,0,2.45,1.1,2.45,2.45v10.84c0,1.36-1.1,2.45-2.45,2.45H4.44"}),Object(a.d)("polyline",{className:"cls-1",points:"4.44 16.25 .5 21.17 .5 16.25"})),Object(a.d)("g",null,Object(a.d)("line",{className:"cls-1",x1:"7.39",y1:"8.38",x2:"16.25",y2:"8.38"}),Object(a.d)("line",{className:"cls-1",x1:"11.82",y1:"3.95",x2:"11.82",y2:"12.81"})))))};Fe.displayName="NewChatIcon";var Ve=Fe,Be=t("cAeq"),He=t("vUL0"),Ue,We,ze,qe,Ke,Qe,Ge,Ye,Xe,Je,Ze,$e={headerButtons:Object(a.c)(Ue||(Ue=o()(["\n    justify-content: flex-end;\n  "]))),betaTag:Object(a.c)(We||(We=o()(["\n    margin-right: var(--cds-spacing-100);\n    display: flex;\n    align-items: center;\n  "])))};function Header(e){var t=e.toggleChat,n=e.isFullScreen,i=e.toggleFullScreen,r=e.showCloseButton,s=e.showFullScreenButton,l=e.handleNewSession,c=Object(Ae.a)(),u=Object(d.b)();return Object(a.d)(je.a,{container:!0,className:"rcw-header",justifyContent:"space-between",css:Object(a.c)(ze||(ze=o()(["\n        border-radius: 10px 10px 0 0;\n        padding: ",";\n        align-items: center;\n      "])),c.spacing(4))},Object(a.d)(je.a,{item:!0,xs:7},Object(a.d)("div",{css:Object(a.c)(qe||(qe=o()(["\n            padding-top: 0;\n            "," {\n              padding-top: 4px;\n            }\n          "])),c.breakpoints.down("xs"))},Object(a.d)(He.a,{hexColorCode:"#ffffff",css:Object(a.c)(Ke||(Ke=o()(["\n              height: 16px;\n              width: 130px;\n              margin-bottom: 5px;\n            "])))}),Object(a.d)(_e.a,{variant:"h1semibold",color:"invertBody",css:Object(a.c)(Qe||(Qe=o()(["\n              font-weight: 300;\n              display: inline;\n            "])))},J()("coach")))),Object(a.d)(je.a,{item:!0,xs:5},Object(a.d)(je.a,{container:!0,alignItems:"center",justifyContent:"space-between",xs:12},Object(a.d)(je.a,{container:!0,item:!0,css:$e.headerButtons},Object(a.d)(je.a,{item:!0,css:$e.betaTag},Object(a.d)(Me.a,{variant:"status",priority:"primary",color:"highlight1"},J()("Beta"))),Object(a.d)(je.a,{item:!0},!!l&&Object(a.d)(Be.a,{message:J()("Start a new chat. This will clear your chat history so you can start fresh."),placement:"bottom"},Object(a.d)(Ne.a,{onClick:function onClick(){u({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_new_session_button",action:"click"}),l()},size:"small","data-testid":"rcw-new-chat",icon:Ge||(Ge=Object(a.d)(Ve,null)),iconPosition:"after",css:Object(a.c)(Ye||(Ye=o()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})),s&&Object(a.d)(Ie.a,{intent:n?"collapse":"expand",onClick:function onClick(){u({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_full_screen_".concat(n?"collapse":"expand","_button"),action:"click"}),i()},size:"medium",tooltipPlacement:"bottom","aria-label":n?J()("Minimize coursera coach chat."):J()("Maximize coursera coach chat."),tooltip:n?J()("Minimize"):J()("Maximize"),"data-testid":n?J()("rcw-minimize"):J()("rcw-maximize")}),r&&Object(a.d)(Be.a,{message:J()("Close chat."),placement:"bottom"},Object(a.d)(Ne.a,{onClick:function onClick(){u({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_close_button",action:"click"}),t()},size:"small",iconPosition:"after","data-testid":"rcw-close",icon:Object(a.d)("span",{css:Object(a.c)(Xe||(Xe=o()(["\n                          margin: 0 6px 0 0;\n                        "])))},Je||(Je=Object(a.d)(Le.a,{"aria-label":"close"}))),css:Object(a.c)(Ze||(Ze=o()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})))))))}var et=Header,tt=t("lPk7"),nt=t("HDKb"),it=t("5mFy"),rt=t("7Dw/"),ot=t("pVnL"),at=t.n(ot),st=t("wd/R"),lt=t.n(st),ct=t("GXs9"),ut=t("JJfJ"),dt=t("fAYU"),pt,ht,mt,ft,gt,vt,yt;function generateConsumerVideoPageLink(e,t,n){return"/lecture/".concat(e,"/").concat(t,"-").concat(n)}function Clip(e){var t=e.course,n=t.slug,i=t.name,r=e.duration,l=e.itemId,c=e.itemSlug,u=e.itemTitle,p=e.partners,h=e.previewImage,m=Object(Ae.a)(),f=Object(d.b)(),g={alt:"",imgParams:{fit:"fill",auto:"format,compress",quality:"80"},width:"90px"},v={imgParams:{fit:"fill",auto:"format,compress",quality:"80"},width:"20px"};return Object(a.d)("div",{className:"rcw-citation-clip",css:Object(a.c)(pt||(pt=o()(["\n        display: flex;\n        margin: ",";\n      "])),m.spacing(4,0,16,0))},Object(a.d)("div",{css:Object(a.c)(ht||(ht=o()(["\n          width: 90px;\n          min-width: 90px;\n          max-width: 90px;\n          margin: ",";\n        "])),m.spacing(0,8))},Object(a.d)(ct.a,at()({},g,{src:h,style:{border:"1px solid ".concat(m.palette.gray[300]),"border-radius":"4px"}}))),Object(a.d)("div",null,Object(a.d)("div",{css:Object(a.c)(mt||(mt=o()(["\n            display: flex;\n            flex-wrap: wrap;\n          "])))},p&&p.length>0&&Object(a.d)(s.Fragment,null,p[0].logo&&Object(a.d)("div",{css:Object(a.c)(ft||(ft=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),m.palette.gray[300],m.spacing(0,4,0,0))},Object(a.d)(ct.a,at()({},v,{alt:"".concat(p[0].name," logo"),src:p[0].logo,style:{"margin-bottom":"4px"}}))),p.length>1&&p[1].logo&&Object(a.d)("div",{css:Object(a.c)(gt||(gt=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),m.palette.gray[300],m.spacing(0,4,0,0))},Object(a.d)(ct.a,at()({},v,{alt:"".concat(p[1].name," logo"),src:p[1].logo,style:{"margin-bottom":"4px"}})))),Object(a.d)(_e.a,{component:"span",variant:"body2",color:"supportText"},p&&p.length>1?J()("#{partner1}, #{partner2}",{partner1:p[0].name,partner2:p[1].name}):p&&p[0].name)),Object(a.d)(_e.a,{variant:"h3semibold",css:Object(a.c)(vt||(vt=o()(["\n            margin: ",";\n          "])),m.spacing(4,0,4,0))},u),Object(a.d)(_e.a,{component:"span",variant:"body2",color:"supportText"},J()("From the course: ")),Object(a.d)(_e.a,{component:"span",variant:"body2",color:"supportText"},i),Object(a.d)(_e.a,{variant:"body2",color:"supportText",css:Object(a.c)(yt||(yt=o()(["\n            margin: ",";\n          "])),m.spacing(0,0,4,0))},Object(ut.x)(lt.a.duration(r))),Object(a.d)(dt.a,{href:generateConsumerVideoPageLink(n,c,l)+"?backenabled=1",variant:"quiet",typographyVariant:"body2",onClick:function onClick(){f({trackingData:{course_slug:n,item_slug:c,item_id:l,timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_clip_link",action:"click"})}},J()("Open video page"))))}var bt=Clip;function ClipRecommendations(e){var t=e.clips,n=Object(d.b)();return s.createElement(nt.a,{variant:"silent",className:"rcw-ClipRecommendations",onChange:function onChange(e,t){var i=t?"expand":"collapse";n({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_accordion_".concat(i),action:"click"})}},s.createElement(it.a,{label:J()("Explore this topic with related video clips")}),s.createElement(rt.a,null,t.map((function(e){return s.createElement(bt,e)}))))}var Ct=d.a.withVisibilityTracking(ClipRecommendations),St=function CoachAvatar(e){var t=e.imageUrl;return Object(a.d)("img",{src:t,className:"rcw-avatar",alt:"coach-profile"})};function isAlphaCharacters(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(!((t=e.charCodeAt(n))>64&&t<91||t>96&&t<123))return!1;return!0}function extractFirstAndLastNames(e){var t=0,n=e.length-1,i=[];if(!e||e.length<1)return["-","-"];if(e[0]&&!isAlphaCharacters(e[0][0])&&e.shift(),e[n]&&!isAlphaCharacters(e[n])&&e.pop(),e.length-1!==n)return extractFirstAndLastNames(e);if(e[0]){var r=e[0];i.push(r)}if(0!==n&&e[n]){var o=e[n];i.push(o)}return i}function initialsFromName(e){var t,n=extractFirstAndLastNames(e.split(" ")),r=i()(n,2),o=r[0],a=r[1],s=o?o[0]:"",l=a?a[0]:"";return"".concat(s).concat(l)}var kt=function LearnerAvatar(e){var t=e.imageUrl,n=e.fullName,i={borderRadius:"50px",width:"40x",height:"40x",alignItems:"center",justifyContent:"center",display:"flex",overflow:"hidden",verticalAlign:"middle",backgroundColor:"#3BAFDA",color:"#ffffff"},r=n&&initialsFromName(n)||"--";return t?Object(a.d)("img",{src:t,className:"rcw-avatar rcw-avatar-client",alt:"learner-profile"}):Object(a.d)(_e.a,{component:"span",variant:"h3bold",css:i,className:"rcw-avatar rcw-avatar-client"},r)},wt="hh:mm A";function Timestamp(e){var t=e.timestamp;return(s.createElement("span",{className:"rcw-timestamp"},Object(ut.w)(t,wt)))}var Tt=Timestamp,Pt=t("4gsa"),Et=t("wD02"),xt,Ot=function Dislike(e){var t=e.selected,n=e.onSelect,i=e.onDeselect;return(s.createElement("div",null,t?s.createElement(Pt.a,{color:"interactive",onClick:i,className:"rcw-feedback-icon"}):s.createElement(Et.a,{color:"interactive",onClick:n,className:"rcw-feedback-icon"})))},At=t("QILm"),jt=t.n(At),_t=t("7NTc"),Mt=t("dhC9"),Nt=["title","placeholder","onSubmit","onClose","onCancel"],It,Lt,Rt,Dt=function messagesContainer(e){return Object(a.c)(It||(It=o()(["\n    height: calc(100% - ",");\n  "])),e.spacing(24))},Ft,Vt=function FeedbackModal(e){var t,n=e.title,r=e.placeholder,l=e.onSubmit,c=e.onClose,u=e.onCancel,d=jt()(e,Nt),p=_t.a.Content,h=_t.a.Actions,m=s.useState(!0),f=i()(m,2),g=f[0],v=f[1],y=s.useRef(null),b=function handleOnClose(e){v(!1),c(e)},C=function handleOnSubmit(e){v(!1),l(e)},S=function handleOnCancel(e){v(!1),u(e)};return Object(a.d)(_t.a,at()({"aria-describedby":"dialog-content",open:g,sticky:"actions",onClose:b},d),Object(a.d)(p,{id:"dialog-content"},Object(a.d)(je.a,{container:!0},Object(a.d)(je.a,{item:!0,sm:12,xs:12},Object(a.d)(Mt.a,{maxLength:255,placeholder:r,inputRef:y,multiline:!0,fullWidth:!0,label:n,renderLabel:function renderLabel(){return t||(t=Object(a.d)(_e.a,{variant:"h1semibold"},n))}})))),Object(a.d)(h,{css:Object(a.c)(Lt||(Lt=o()(["\n          display: flex;\n        "])))},Object(a.d)(Ne.a,{size:"medium",variant:"primary",onClick:function onClick(e){var t;return C(k()(k()({},e),{},{data:{userComments:null===(t=y.current)||void 0===t?void 0:t.value}}))},css:Object(a.c)(Rt||(Rt=o()(["\n            margin: 0 24px 0 0;\n          "])))},J()("Submit")),Object(a.d)(Ne.a,{size:"medium",variant:"secondary",onClick:S},J()("Cancel"))))},Bt=t("8/sX"),Ht=t("LKFv"),Ut,Wt=function Like(e){var t=e.selected,n=e.onSelect,i=e.onDeselect;return(s.createElement("div",null,t?s.createElement(Bt.a,{color:"interactive",onClick:i,className:"rcw-feedback-icon"}):s.createElement(Ht.a,{color:"interactive",onClick:n,className:"rcw-feedback-icon"})))},zt=t("0/vS"),qt=t.n(zt),Kt,Qt=function Feedback(e){var t=e.message,n=Object(c.b)(),r=Object(d.b)(),o=s.useState(void 0),a=i()(o,2),u=a[0],p=a[1],h=t.customId,m=function handleTracking(e){r({trackingData:{message_id:h,coach_response:t.text,timestamp:Date.now()},trackingName:e,action:"click"})};if(t.text!==oe()){var f="";return u===te?f=J()("What do you like about this response?"):u===ne&&(f=J()("How could this response be improved?")),s.createElement(s.Fragment,null,"response"===t.sender&&s.createElement(l.b,{mutation:qt.a,context:{clientName:"gatewayGql"}},(function(e){var i={messageId:h,userComments:void 0},r=function onLikeSelect(){m("ai_course_coach_chat_user_feedback_like_select"),p(te),n(setLike(h)),e({variables:{input:k()(k()({},i),{},{userFeedback:te})}})},o=function onDislikeSelect(){m("ai_course_coach_chat_user_feedback_dislike_select"),p(ne),n(setUnLike(h)),e({variables:{input:k()(k()({},i),{},{userFeedback:ne})}})},a=function onDeselect(){m("ai_course_coach_chat_user_feedback_remove_selection"),n(setUnSet(h)),e({variables:{input:k()(k()({},i),{},{userFeedback:ie})}}),p(void 0)},l=function onFeedbackSubmit(t){var n=t.userComments;e({variables:{input:k()(k()({},i),{},{userFeedback:u,userComments:n})}})};return s.createElement("div",{className:"rcw-feedback-container"},u&&s.createElement(Vt,{title:f,onSubmit:function onSubmit(e){var t;null!==(t=e.data)&&void 0!==t&&t.userComments&&l({userComments:e.data.userComments}),m("ai_course_coach_chat_user_feedback_feedback_form_submit")},onClose:function onClose(){m("ai_course_coach_chat_user_feedback_feedback_form_close")},onCancel:function onCancel(){m("ai_course_coach_chat_user_feedback_feedback_form_cancel")}}),s.createElement(Wt,{selected:t.userFeedback===te,onSelect:r,onDeselect:a}),s.createElement(Ot,{selected:t.userFeedback===ne,onSelect:o,onDeselect:a}))})))}return null},Gt,Yt={loaderContainer:Object(a.c)({padding:"15px 15px 15px 88px",textAlign:"left"}),cursor:function cursor(e){var t=e.color,n=void 0===t?"grey":t,i=Object(a.e)(Gt||(Gt=o()(["\n      0% {background: transparent}\n      50% {background: ","}}\n      100% {background: transparent}\n    "])),n);return Object(a.c)({animationName:i,animationIterationCount:"infinite",height:"1.3rem",width:"0.6rem",animationDuration:"1s",display:"inline-block"})}};function Loader(e){var t,n=e.typing?Yt.cursor({color:"grey"}):Object(a.c)({});return Object(a.d)("div",null,Object(a.d)("div",{css:Yt.loaderContainer},Object(a.d)("span",{css:n})))}var Xt=Loader,Jt,Zt,$t,en,tn={messagesContainer:function messagesContainer(){return Object(a.c)(Jt||(Jt=o()(["\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n      display: none;\n    }\n\n    /* Hide scrollbar for IE, Edge and Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  "])))}},nn,rn=function Messages(e){var t,n=e.profileAvatar,i=e.profileClientAvatar,r=e.showTimeStamp,l=e.homeView,u=Object(Ae.a)(),d=Object(c.b)(),h=Object(c.c)((function(e){return{messages:e.messages.messages,badgeCount:e.messages.badgeCount,typing:e.behavior.messageLoader,showChat:e.behavior.showChat}})),m=h.messages,f=h.typing,g=h.showChat,v=h.badgeCount,y=Object(s.useRef)(null);Object(s.useEffect)((function(){null!=m&&m.length&&scrollToBottom(y.current),g&&v&&d(markAllMessagesRead())}),[d,v,g,m]),Object(s.useEffect)((function(){null!=m&&m.length&&scrollToBottom(y.current)}),[f,m]);var b=function getComponentToRender(e){var t=e.component;if("component"===e.type)return Object(a.d)(t,e.props);return Object(a.d)(t,{message:e})},C=function isClient(e){return e===Z.CLIENT},S=function isCoachResponse(e){return e===Z.RESPONSE},k,w=function isJSXElement(e){return"string"!=typeof e}(n)?n:Object(a.d)(St,{imageUrl:n});return Object(a.d)("div",{id:"messages",className:"rcw-messages-container",ref:y,css:tn.messagesContainer},!(null!=m&&m.length)&&l,null==m?void 0:m.map((function(e,n){var l,c;return Object(a.d)("div",{className:"rcw-message ".concat(C(e.sender)?"rcw-message-client":""),key:"".concat(n,"-").concat(e.timestamp.valueOf())},C(e.sender)?Object(a.d)(kt,{imageUrl:i,fullName:null===(l=p.a.get())||void 0===l?void 0:l.fullName}):t||(t=Object(a.d)("div",{className:"rcw-avatar rcw-avatar-client"},w)),Object(a.d)("div",{css:Object(a.c)(Zt||(Zt=o()(["\n              overflow: auto;\n            "])))},b(e),Object(a.d)("div",{css:Object(a.c)($t||($t=o()(["\n                display: flex;\n              "])))},r&&Object(a.d)(Tt,{timestamp:e.timestamp}),Object(a.d)(Qt,{message:e})),S(e.sender)&&e.clipRecommendations&&(null===(c=e.clipRecommendations)||void 0===c?void 0:c.length)>0&&Object(a.d)(s.Fragment,null,Object(a.d)(tt.a,{color:"dark",css:Object(a.c)(en||(en=o()(["\n                    margin: ",";\n                  "])),u.spacing(8,0))}),Object(a.d)(Ct,{clips:e.clipRecommendations,trackingName:"ai_course_coach_clips_recommendation"}))))})),Object(a.d)(Xt,{typing:f}))},on=t("IoQW"),an,sn,ln,cn=7,un={textBox:function textBox(e){return Object(a.c)(an||(an=o()(["\n    .cds-text-field-root {\n      margin-top: ",";\n    }\n\n    > label {\n      margin-bottom: 0;\n    }\n\n    /* Override CDS style to hide gray background of the Send button (non-standard use case) */\n    .cds-text-field-root .cds-inputAdornment-filled {\n      padding: 0;\n      background-color: white;\n    }\n  "])),e.spacing(8))},container:function container(e){return Object(a.c)(sn||(sn=o()(["\n    border-top: 1px solid ",";\n    padding: 0 ",";\n  "])),e.palette.gray[300],e.spacing(12))}};function Sender(e){var t=e.sendMessage,n=e.placeholder,i=e.disabledInput,r=e.autofocus,o=e.buttonAlt,l=e.onTextInputChange,u=Object(c.c)((function(e){return e.behavior.showChat})),p=Object(c.c)((function(e){return e.input.inputText})),h=Object(s.useRef)(null),m=Object(s.useRef)(null),f=Object(d.b)();Object(s.useEffect)((function(){var e;u&&r&&(null===(e=h.current)||void 0===e||e.focus())}),[r,u]);var g=function handleTextChange(e){var t=e.target.value;l&&l(t),setUserInputText(t)},v=function handleSendMessgeClick(){t(p),f({trackingData:{input_text:p,timestamp:Date.now()},trackingName:"ai_course_coach_chat_send_message",action:"click_send_message"}),clearUserInputText()},y=function handleKeyPress(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),v())},b=function handlePaste(e){var t,n=null==e?void 0:null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");n&&f({trackingData:{input_text:n,timestamp:Date.now()},trackingName:"ai_course_coach_chat_paste_message",action:"paste_message"})};Object(s.useEffect)((function(){var e=null;return h.current&&(e=h.current).addEventListener("paste",b),function(){e&&e.removeEventListener("paste",b)}}),[]);var C={onKeyPress:y};return Object(a.d)("div",{ref:m,css:un.container},Object(a.d)("div",{className:Oe()("rcw-new-message",{"rcw-message-disable":i})},Object(a.d)(Mt.a,{fullWidth:!0,multiline:!0,minRows:1,maxRows:cn,label:"",type:"text",readOnly:i,ref:h,placeholder:n,onChange:g,value:p,inputProps:C,css:un.textBox,"data-testid":"rcw-send-message",suffix:Object(a.d)(Ne.a,{variant:"ghost",onClick:v,disabled:i,"aria-label":o,"data-testid":"rcw-send-button"},ln||(ln=Object(a.d)(on.a,{size:"large"})))})))}var dn=Object(s.forwardRef)(Sender),pn=t("Z3v1"),hn=t("cVIm"),mn,fn;function Footer(){var e=Object(Ae.a)();return Object(a.d)(_e.a,{variant:"body2",color:"supportText",css:Object(a.c)(mn||(mn=o()(["\n        margin: 4px 20px 13px 20px;\n      "])))},Object(a.d)(pn.FormattedMessage,{message:J()("Coach is limited to course-related questions and powered by AI, so surprises and mistakes are possible. {privacyNotice}."),privacyNotice:Object(a.d)("a",{href:"".concat(hn.a.url.base,"about/privacy?trk_ref=coach"),target:"_blank",rel:"noreferrer","aria-label":J()("Privacy Notice"),css:Object(a.c)(fn||(fn=o()(["\n              color: ",";\n              text-decoration: underline;\n            "])),e.palette.gray[700])},J()("View Coursera's Privacy Notice"))}))}var gn=Footer,vn,yn,bn,Cn,Sn,kn=.3,wn=.15,Tn=410,Pn=663,En="100vh",xn=50,On=50,An=90,jn=20,_n=Object(a.e)(vn||(vn=o()(["\n  100% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n"]))),Mn=Object(a.e)(yn||(yn=o()(["\n  0% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n  100% {\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n  }\n"])),Pn,Tn,jn,An,Tn),Nn={enterFullScreenAnimation:_n,exitFullScreenAnimation:Mn,container:Object(a.c)(bn||(bn=o()(["\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n    max-height: ",";\n\n    @media screen and (max-width: 800px) {\n      width: 100vw !important;\n      max-width: 100vw !important;\n    }\n\n    @media screen and (max-width: 450px) {\n      height: 100vh !important;\n      top: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      left: 0 !important;\n      position: fixed !important;\n    }\n\n    animation-fill-mode: both;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),Pn,Tn,jn,An,Tn,En),exitFullScreen:Object(a.c)(Cn||(Cn=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n\n    .rcw-messages-container {\n      max-width: 100% !important;\n      height: 100% !important;\n    }\n\n    background-color: white;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: backwards;\n  "])),Mn,.15,.3),fullScreen:Object(a.c)(Sn||(Sn=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    background-color: white;\n    animation-fill-mode: forwards;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),_n,.15,.3)},In;function useFullScreenAnimation(e){var t=e.isFullScreen,n=Object(s.useState)([Nn.container]),r=i()(n,2),o=r[0],a=r[1];function toggleFullScreenAnimation(){var e=t?[Nn.container,Nn.exitFullScreen]:[Nn.container,Nn.fullScreen];a(e)}return{toggleFullScreenAnimation:toggleFullScreenAnimation,fullScreenCSS:o}}var Ln,Rn=function QuickMessage(e){var t=e.message,n=e.action,i=e.onClick,r=e.icon,s=Object(Ae.a)();return Object(a.d)("div",null,Object(a.d)(Ne.a,{variant:"secondary",fullWidth:!1,size:"small",onClick:function onClick(){return i(t,n)},icon:r,iconPosition:"before",css:Object(a.c)(In||(In=o()(["\n          text-align: left;\n          justify-content: flex-start;\n          padding: 6px ",";\n          max-width: 100%;\n          margin: ",";\n        "])),s.spacing(16),s.spacing(0,0,16,0))},t))},Dn,Fn,Vn,Bn,Hn,Un,Wn,zn={heading:function heading(e){return Object(a.c)(Dn||(Dn=o()(["\n      margin: ",";\n    "])),e.spacing(0,0,32,0))},valueProp:function valueProp(e){return Object(a.c)(Fn||(Fn=o()(["\n    display: flex;\n    margin-bottom: ",";\n  "])),e.spacing(24))},valuePropIcon:function valuePropIcon(e,t){return[Object(a.c)(Vn||(Vn=o()(["\n      margin: ",";\n      width: 36px;\n      padding: 0;\n    "])),e.spacing(8,12,0,0)),t]},icon:function icon(){return Object(a.c)(Bn||(Bn=o()(["\n      margin: 0 auto;\n      width: 65px;\n    "])))}},qn,Kn=function HomeView(e){var t=e.humanReadableItemType,n=e.onQuickMessageClick,i=Object(d.b)(),r=Object(Ae.a)(),s=function handleQuickMessageClick(e,r){n(e,r),i({trackingData:{item_type:t,example_text:e,timestamp:Date.now()},trackingName:"ai_course_coach_chat_quick_example",action:"click"})};return Object(a.d)("div",{className:"rcw-home-view",css:Object(a.c)(Hn||(Hn=o()(["\n        padding: ",";\n      "])),r.spacing(0,24,24))},Object(a.d)("div",{css:zn.heading},Object(a.d)("div",{css:zn.icon},Un||(Un=Object(a.d)(CoachSmileIcon,{variant:"dark","aria-hidden":!0}))),Object(a.d)(_e.a,{variant:"h3semibold"},J()("Ask me anything about what you're learning. I'm here to help!")),Object(a.d)(_e.a,{variant:"body1",css:Object(a.c)(Wn||(Wn=o()(["\n            margin: ",";\n          "])),r.spacing(12,0,24,0))},J()("To get started, type your question below or try one of these examples:"))),Object(a.d)(Rn,{message:J()("Can you explain this topic in simple terms?"),onClick:s}),Object(a.d)(Rn,{message:J()("Can you summarize this #{humanReadableItemType} for me?",{humanReadableItemType:t}),action:f.a.Summarize,onClick:s}),Object(a.d)(Rn,{message:J()("Can you generate practice questions based on this #{humanReadableItemType}?",{humanReadableItemType:t}),onClick:s}))},Qn,Gn,Yn,Xn,Jn,Zn,$n,ei,ti,ni,ii,ri,oi,ai={globalDesktop:Object(a.c)(Qn||(Qn=o()(["\n      .hide-smart-scroll-container,\n      .show-smart-scroll-container,\n      .SmartScrollWrapper {\n        z-index: -1 !important;\n      }\n    "]))),globalSmDown:function globalSmDown(e){return Object(a.c)(Gn||(Gn=o()(["\n    "," {\n      .show-smart-scroll-container {\n        z-index: -1 !important;\n      }\n    }\n  "])),e.breakpoints.down("sm"))},conversationContainerHeight:function conversationContainerHeight(e){return Object(a.c)(Yn||(Yn=o()(["\n      ","\n    "])),!e&&Object(a.c)(Xn||(Xn=o()(["\n        max-height: 70vh;\n\n        @media screen and (max-width: 800px) {\n          max-height: 100vh;\n        }\n      "]))))},conversationContainer:Object(a.c)(Jn||(Jn=o()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  "]))),conversationContainerCenterFullScreen:Object(a.c)(Zn||(Zn=o()(["\n    @media screen and (min-width: 800px) {\n      width: 770px;\n      margin: 0 auto;\n    }\n  "]))),headerContainer:Object(a.c)($n||($n=o()(["\n    flex-grow: 0;\n  "]))),messageContainer:Object(a.c)(ei||(ei=o()(["\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    justify-content: center;\n    max-width: 100%;\n    position: relative;\n  "]))),messageContainerConversationHistory:Object(a.c)(ti||(ti=o()([""]))),messageContainerResponses:Object(a.c)(ni||(ni=o()(["\n    height: 100%;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),senderContainer:Object(a.c)(ii||(ii=o()(["\n    flex-grow: 0;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),footerContainer:Object(a.c)(ri||(ri=o()(["\n    flex-grow: 0;\n    max-width: 770px;\n    margin: 0 auto;\n  "])))};function Conversation(e){var t=e.senderPlaceHolder,n=e.showCloseButton,i=e.showFullScreenButton,r=e.isFullScreen,o=e.disabledInput,s=e.autofocus,l=e.className,c=e.sendMessage,u=e.toggleChat,d=e.toggleFullScreen,p=e.profileAvatar,h=e.profileClientAvatar,m=e.onTextInputChange,f=e.sendButtonAlt,g=e.showTimeStamp,v=e.handleNewSession,y=e.humanReadableItemType,b=useFullScreenAnimation({isFullScreen:r}),C=b.fullScreenCSS,S=b.toggleFullScreenAnimation,k=function handleFullScreenToggle(){S(),d()};return Object(a.d)("div",{id:"rcw-conversation-container",className:Oe()("rcw-conversation-container",l),"aria-live":"polite",css:[C,ai.conversationContainerHeight(r)]},Object(a.d)(a.b,{styles:r?ai.globalDesktop:ai.globalSmDown}),Object(a.d)("div",{css:ai.conversationContainer},Object(a.d)("div",{css:ai.headerContainer},Object(a.d)(et,{toggleChat:u,showCloseButton:n,showFullScreenButton:i,toggleFullScreen:k,isFullScreen:r,handleNewSession:v})),Object(a.d)("div",{css:[r&&ai.conversationContainerCenterFullScreen,ai.messageContainer]},Object(a.d)("div",{css:ai.messageContainerResponses},Object(a.d)(rn,{profileAvatar:p,profileClientAvatar:h,showTimeStamp:g,homeView:Object(a.d)(Kn,{onQuickMessageClick:c,humanReadableItemType:y})}))),Object(a.d)("div",{css:[r&&ai.conversationContainerCenterFullScreen,ai.senderContainer]},Object(a.d)(dn,{sendMessage:c,placeholder:t,disabledInput:o,autofocus:s,onTextInputChange:m,buttonAlt:f})),Object(a.d)("div",{css:[r&&ai.conversationContainerCenterFullScreen,ai.footerContainer]},oi||(oi=Object(a.d)(gn,null)))))}var si=Conversation;function Badge(e){var t=e.badge;return t>0?s.createElement("span",{className:"rcw-badge"},t):null}var li=Badge;function Launcher(e){var t=e.toggle,n=e.chatId,i=e.openLabel,r=e.closeLabel,o=e.showBadge,a=Object(c.b)(),l=Object(c.c)((function(e){return{showChat:e.behavior.showChat,badgeCount:e.messages.badgeCount}})),u=l.showChat,p=l.badgeCount,h=Object(d.b)(),m=function toggleChat(){h({trackingData:{badge_count:p,timestamp:Date.now()},trackingName:"ai_course_coach_chat_toggle",action:"click_".concat(u?"close":"open")}),t(),u||a(setBadgeCount(0))};return s.createElement("button",{type:"button",className:Oe()("rcw-launcher",{"rcw-hide-sm":u}),onClick:m,"aria-controls":n},!u&&o&&s.createElement(li,{badge:p}),u?s.createElement(Le.a,{size:"large",color:"invert",className:"rcw-close-launcher","aria-label":r}):s.createElement(CoachSmileIcon,{variant:"light","aria-label":i}))}var ci=Launcher,ui,di,pi,hi,mi;function NewFeatureTooltip(e){var t=e.onDismiss,n=Object(Ae.a)();return Object(a.d)(Be.b,{placement:"top",id:"tooltip-introduce-coach",css:Object(a.c)(ui||(ui=o()(["\n        background-color: ",";\n        max-width: 400px;\n        width: 400px;\n        bottom: 75px;\n        right: 0;\n        padding: ",";\n        "," {\n          bottom: 95px;\n          right: 12px;\n        }\n        "," {\n          width: 300px;\n        }\n      "])),n.palette.blue[600],n.spacing(4,16,12,16),n.breakpoints.down("sm"),n.breakpoints.down("xs")),arrowCss:Object(a.c)(di||(di=o()(["\n        left: unset;\n        right: 24px;\n        border-top-color: ",";\n        "," {\n          right: 30px;\n        }\n      "])),n.palette.blue[600],n.breakpoints.down("sm"))},Object(a.d)("div",{css:Object(a.c)(pi||(pi=o()(["\n          text-align: left;\n        "])))},Object(a.d)(je.a,{container:!0,justifyContent:"space-between"},Object(a.d)(_e.a,{variant:"h4bold",color:"invertBody",css:Object(a.c)(hi||(hi=o()(["\n              padding: ",";\n            "])),n.spacing(8,0,16,0))},J()("👋 Hi! I’m Coach, your Coursera learning assistant!")),Object(a.d)(Ie.a,{variant:"ghostInvert",intent:"close",size:"small",onClick:t})),Object(a.d)(_e.a,{color:"invertBody",variant:"body2",css:Object(a.c)(mi||(mi=o()(["\n            margin-bottom: ",";\n          "])),n.spacing(16))},J()("Need extra explanations, examples, or practice? I’m here to answer questions and boost your learning!")),Object(a.d)(_e.a,{color:"invertBody",variant:"body2"},J()("Have any questions so far? Click here to get started!"))))}var fi=NewFeatureTooltip,gi=t("IWWe"),vi="coursera_coach_tooltip_dont_show";function WidgetLayout(e){var t=e.onSendMessage,n=e.onToggleConversation,r=e.onToggleFullScreen,o=e.senderPlaceHolder,l=e.profileAvatar,u=e.profileClientAvatar,d=e.showCloseButton,p=e.showFullScreenButton,h=e.autofocus,m=e.customLauncher,f=e.onTextInputChange,g=e.chatId,v=e.launcherOpenLabel,y=e.launcherCloseLabel,b=e.launcherCloseImg,C=e.launcherOpenImg,S=e.sendButtonAlt,k=e.showTimeStamp,w=e.showBadge,T=e.handleNewSession,P=e.humanReadableItemType,E=Object(c.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),x=E.dissableInput,O=E.showChat,A=E.isFullScreen,j=Object(s.useRef)(null),M=Object(s.useState)(gi.a.getItem(vi,(function(e){return"1"===e}),!1)),N=i()(M,2),I=N[0],L=N[1],R=function dontShowTooltipSaveToLocalStorage(){L(!0),gi.a.setItem(vi,!0,(function(e){return e?"1":"0"}))};return Object(s.useEffect)((function(){return O&&(j.current=document.getElementById("messages")),function(){j.current=null}}),[O]),Object(a.d)("div",{className:Oe()("rcw-widget-container",{"rcw-close-widget-container ":!O})},!O&&!I&&Object(a.d)(fi,{onDismiss:R}),O&&Object(a.d)(si,{sendMessage:t,senderPlaceHolder:o,profileAvatar:l,profileClientAvatar:u,toggleChat:n,showCloseButton:d,showFullScreenButton:p,isFullScreen:A,disabledInput:x,autofocus:h,className:O?"active":"hidden",onTextInputChange:f,sendButtonAlt:S,showTimeStamp:k,toggleFullScreen:r,handleNewSession:T,humanReadableItemType:P}),m?m(n):Object(a.d)(ci,{toggle:function toggle(){I||R(),n()},chatId:g,openLabel:v,closeLabel:y,closeImg:b,openImg:C,showBadge:w}))}var yi=WidgetLayout;function Widget(e){var t=e.handleNewSession,n=e.senderPlaceHolder,i=e.profileAvatar,r=e.profileClientAvatar,o=e.showCloseButton,a=e.showFullScreenButton,l=e.autofocus,u=e.customLauncher,d=e.handleNewUserMessage,p=e.handleTextInputChange,h=e.chatId,m=e.handleToggle,f=e.handleFullScreenToggle,g=e.launcherOpenLabel,v=e.launcherCloseLabel,y=e.launcherCloseImg,b=e.launcherOpenImg,C=e.sendButtonAlt,S=e.showTimeStamp,k=e.handleSubmit,w=e.showBadge,T=e.humanReadableItemType,P=Object(c.b)(),E=Object(c.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),x=E.showChat,O=E.isFullScreen,A=function toggleConversation(){P(actions_toggleChat()),m&&m(x)},j=function toggleFullScreen(){P(actions_toggleFullScreen()),f&&f(O)},M=function handleMessageRecieved(e){if(!e.trim())return;P(addResponseMessage(e))},N=function handleMessageSubmit(e,t){if(!e.trim())return;null==k||k(e),P(addUserMessage(e)),d(e,t)};return s.createElement(yi,{onToggleConversation:A,onToggleFullScreen:j,onSendMessage:N,senderPlaceHolder:n,profileAvatar:i,profileClientAvatar:r,showCloseButton:o,showFullScreenButton:a,handleNewSession:t,autofocus:l,customLauncher:u,onTextInputChange:p,chatId:h,launcherOpenLabel:g,launcherCloseLabel:v,launcherCloseImg:y,launcherOpenImg:b,sendButtonAlt:C,showTimeStamp:S,showBadge:w,humanReadableItemType:T})}var bi=Widget;function ConnectedWidget(e){var t=e.senderPlaceHolder,n=e.showFullScreenButton,i=e.autofocus,r=e.profileAvatar,o=e.profileClientAvatar,a=e.launcher,l=e.handleNewUserMessage,c=e.handleTextInputChange,u=e.chatId,d=e.handleToggle,p=e.launcherOpenLabel,h=e.launcherCloseLabel,m=e.launcherCloseImg,f=e.launcherOpenImg,g=e.sendButtonAlt,v=e.showTimeStamp,y=e.handleSubmit,b=e.showBadge,C=e.showCloseButton,S=e.handleNewSession,k=e.humanReadableItemType;return(s.createElement(bi,{handleNewUserMessage:l,senderPlaceHolder:t,profileAvatar:r,profileClientAvatar:o,showCloseButton:C,showFullScreenButton:n,autofocus:i,customLauncher:a,handleTextInputChange:c,chatId:u,handleToggle:d,launcherOpenLabel:p,launcherCloseLabel:h,launcherCloseImg:m,launcherOpenImg:f,sendButtonAlt:g,showTimeStamp:v,handleSubmit:y,showBadge:b,handleNewSession:S,humanReadableItemType:k}))}var Ci={senderPlaceHolder:"Type a message...",showCloseButton:!0,showFullScreenButton:!0,autofocus:!0,chatId:"rcw-chat-container",launcherOpenLabel:"Open chat",launcherCloseLabel:"Close chat",launcherOpenImg:"",launcherCloseImg:"",sendButtonAlt:"Send",showTimeStamp:!0,zoomStep:80,showBadge:!0};ConnectedWidget.defaultProps=Ci;var Si=ConnectedWidget,ki,wi=Object(a.c)(ki||(ki=o()(["\n  .rcw-message {\n    margin: 10px;\n    display: flex;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    position: relative;\n  }\n\n  .rcw-message .rcw-response.rcw-message-text li {\n    white-space: normal;\n  }\n\n  .rcw-message .rcw-response.rcw-message-text li ul {\n    white-space: pre-wrap;\n  }\n\n  .rcw-timestamp {\n    font-size: 10px;\n    margin-top: 5px;\n  }\n\n  .rcw-client {\n    display: flex;\n    flex-direction: column;\n    margin-left: auto;\n  }\n\n  .rcw-response {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .rcw-message-text p {\n    margin: 0;\n  }\n\n  .rcw-message-text img {\n    width: 100%;\n    -o-object-fit: contain;\n    object-fit: contain;\n  }\n\n  .rcw-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n    margin-right: 10px;\n  }\n\n  .rcw-avatar-client {\n    margin: 0 0 0 10px;\n  }\n\n  .rcw-snippet {\n    border-radius: 10px;\n    max-width: 215px;\n    padding: 15px;\n    text-align: left;\n  }\n\n  .rcw-snippet-title {\n    margin: 0;\n  }\n\n  .rcw-snippet-details {\n    border-left: 2px solid #35e65d;\n    margin-top: 5px;\n    padding-left: 10px;\n  }\n\n  .rcw-link {\n    font-size: 12px;\n  }\n\n  .quick-button {\n    background: none;\n    border-radius: 15px;\n    border: 2px solid #35cce6;\n    font-weight: 700;\n    padding: 5px 10px;\n    cursor: pointer;\n    outline: 0;\n  }\n\n  .quick-button:active {\n    background: #35cce6;\n    color: #fff;\n  }\n\n  .loader {\n    margin: 10px;\n    display: none;\n  }\n\n  .loader.active {\n    display: flex;\n  }\n\n  .rcw-messages-container {\n    height: 50vh;\n    max-height: 410px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .rcw-full-screen .rcw-messages-container {\n    height: 100%;\n    max-height: none;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-messages-container {\n      height: 100%;\n      max-height: none;\n    }\n  }\n\n  .rcw-sender {\n    align-items: flex-end;\n    background-color: #f4f7f9;\n    display: flex;\n    overflow: hidden;\n    padding: 10px;\n    position: relative;\n  }\n\n  .rcw-sender.expand {\n    height: 120px;\n  }\n\n  .rcw-new-message {\n    border: 0;\n    border-radius: 5px;\n    width: calc(100% - 75px);\n  }\n\n  .rcw-picker-btn,\n  .rcw-send {\n    background: #f4f7f9;\n    border: 0;\n    cursor: pointer;\n  }\n\n  .rcw-picker-btn .rcw-send-icon,\n  .rcw-send .rcw-send-icon {\n    height: 25px;\n  }\n\n  .rcw-message-disable {\n    background-color: #f4f7f9;\n    cursor: not-allowed;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-sender {\n      border-radius: 0;\n      flex-shrink: 0;\n    }\n  }\n\n  .quick-buttons-container {\n    background: #fff;\n    overflow-x: auto;\n    white-space: nowrap;\n    padding: 10px;\n  }\n\n  .quick-buttons-container .quick-buttons {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n  }\n\n  .quick-buttons-container .quick-buttons .quick-list-button {\n    display: inline-block;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 800px) {\n    .quick-buttons-container {\n      padding-bottom: 15px;\n    }\n  }\n\n  .rcw-conversation-container {\n    border-radius: 10px;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    min-width: 320px;\n    max-width: 90vw;\n    position: relative;\n    background-color: #fff;\n  }\n\n  .rcw-conversation-container.active {\n    opacity: 1;\n    transform: translateY(0);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n\n  .rcw-conversation-container.hidden {\n    z-index: -1;\n    pointer-events: none;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n\n  .rcw-conversation-resizer {\n    cursor: col-resize;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 5px;\n  }\n\n  .emoji-mart-preview {\n    display: none;\n  }\n\n  .rcw-full-screen .rcw-conversation-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-conversation-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n  }\n\n  .rcw-launcher .rcw-badge {\n    position: fixed;\n    top: -10px;\n    right: -5px;\n    background-color: red;\n    color: #fff;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    border-radius: 50%;\n  }\n\n  .rcw-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: slide-in;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: slide-in;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: slide-in;\n    animation-fill-mode: forwards;\n    align-self: flex-end;\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    height: 60px;\n    margin-top: 10px;\n    cursor: pointer;\n    width: 60px;\n  }\n\n  .rcw-launcher:focus {\n    outline: none;\n  }\n\n  .rcw-open-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-rl;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-rl;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-rl;\n    animation-fill-mode: forwards;\n  }\n\n  .rcw-close-launcher {\n    width: 20px;\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-lr;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-lr;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-lr;\n    animation-fill-mode: forwards;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-launcher {\n      bottom: 0;\n      margin: 20px;\n      position: fixed;\n      right: 0;\n    }\n\n    .rcw-hide-sm {\n      display: none;\n    }\n  }\n\n  .rcw-previewer-container {\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.75);\n    overflow: hidden;\n    position: fixed;\n    z-index: 9999;\n    left: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    transition: all 0.3s ease;\n  }\n\n  .rcw-previewer-container .rcw-previewer-tools {\n    position: fixed;\n    right: 16px;\n    bottom: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .rcw-previewer-container .rcw-previewer-button {\n    padding: 0;\n    margin: 16px;\n    box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    outline: none;\n    background-color: #fff;\n    border: none;\n  }\n\n  .rcw-previewer-container .rcw-previewer-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-veil {\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n  }\n\n  @keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n\n    100% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n\n  .rcw-widget-container {\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    margin: 0 20px 20px 0;\n    position: fixed;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .rcw-full-screen {\n    height: 100vh;\n    margin: 0;\n    max-width: none;\n    width: 100%;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-widget-container {\n      height: 100%;\n      height: 100vh;\n      margin: 0;\n      max-width: none;\n      width: 100%;\n    }\n  }\n\n  .rcw-previewer .rcw-message-img {\n    cursor: pointer;\n  }\n\n  .rcw-close-widget-container {\n    height: -webkit-max-content;\n    height: -moz-max-content;\n    height: max-content;\n    width: -webkit-max-content;\n    width: -moz-max-content;\n    width: max-content;\n  }\n\n  .rcw-feedback-icon {\n    cursor: pointer;\n  }\n\n  .rcw-feedback-container {\n    display: flex;\n    gap: 16px;\n    margin-left: auto;\n    margin-right: 0;\n    padding-top: 4px;\n  }\n"]))),Ti=t("b+Bk"),Pi=t.n(Ti),Ei=t("fsL8"),xi=t.n(Ei),Oi=t("yXPU"),Ai=t.n(Oi),ji=t("Y74u"),_i="Xpi8XRE5m7vf92d5iXCUPJdWQhw";function persistingCounter(e,t){var n=function get(){return gi.a.getItem(e,(function(e){var t=0;try{t=Number(e)}catch(e){t=0}return t}),t)},i=function set(t){gi.a.setItem(e,t,String)},r=function increment(){var e,t=n()+1;return i(t),t};return{get:n,set:i,increment:r}}function coachPendoTrigger(e){var t=e.triggerMessageCount,n=e.triggerOpenCount,i=persistingCounter("coach-open-count-pendo",0),r=persistingCounter("coach-message-count-pendo",0),o=function setComplete(){i.set(-1),r.set(-1)},a=p.a.get(),s=a.external_id,l=a.is_staff,c=a.is_superuser;ji.b.init({visitor:{id:s,isStaff:l,isSuperuser:c}},ji.a);var d=function isComplete(){return-1===i.get()&&-1===r.get()},h=function(){var e=Ai()(xi()().mark((function _callee(){var e,a,s;return xi()().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(!(e=d())){l.next=3;break}return l.abrupt("return");case 3:if(a=i.get(),s=r.get(),a>=n&&s>=t)try{ji.b.showGuideById(_i),o()}catch(e){u.captureException(e)}case 6:case"end":return l.stop()}}),_callee)})));return function conditionalTriggerPendo(){return e.apply(this,arguments)}}(),m=function handleIncrement(e){return function(){!1===d()&&e()}};return{messageIncrement:m(r.increment),openIncrement:m(i.increment),conditionalTriggerPendo:h}}var Mi=t("vDB9"),Ni,Ii;t.d(e,"overrideStyles",(function(){return Li})),t.d(e,"ChatWidget",(function(){return Ri})),t.d(e,"HumanReadableItemType",(function(){return re}));var Li=function overrideStyles(e){var t;return Object(a.c)(Ni||(Ni=o()(["\n    .rcw-full-screen .rcw-close-button,\n    .rcw-conversation-container .rcw-header,\n    .rcw-conversation-container .rcw-close-button,\n    .rcw-launcher {\n      background-color: ",";\n    }\n\n    .rcw-conversation-container {\n      width: 540px;\n      z-index: 10;\n    }\n\n    .rcw-message {\n      margin: ",";\n      padding: ",";\n      display: flex;\n      gap: ",";\n    }\n\n    .rcw-message.rcw-message-client {\n      background-color: ",";\n      flex-direction: row;\n    }\n\n    .rcw-message.rcw-message-client .rcw-client {\n      display: block;\n      margin-left: ",";\n    }\n\n    .rcw-message .rcw-response {\n      display: block;\n    }\n\n    .rcw-client.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n\n    .rcw-response.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n\n    .rcw-message-text p {\n      ","\n      color: ",";\n    }\n\n    .rcw-avatar {\n      margin-right: ",";\n    }\n\n    .rcw-avatar-client {\n      margin-left: ",";\n      flex-shrink: 0;\n    }\n\n    .rcw-header {\n      color: ",";\n    }\n\n    .rcw-picker-btn {\n      display: none;\n    }\n\n    .rcw-new-message {\n      width: 100%;\n    }\n\n    .rcw-input {\n      height: 60px;\n    }\n  "])),e.palette.blue[600],e.spacing(0),e.spacing(12,24,12),e.spacing(24),e.palette.gray[100],e.spacing(0),e.spacing(0),e.spacing(0),e.typography.body1,e.palette.black[500],e.spacing(0),e.spacing(0),e.palette.white)};function handleSubmitMessageCompleted(e,t){dispatcher_toggleMsgLoader();var n=e.AiCoach_CreateUserMessageAndReturnResponse,i=n.chatSessionId,r=n.messageByAiCoach,o=n.clipRecommendations;i&&Mi.a.setItem(se,i,(function(e){return e})),r&&(t(i),dispatcher_addResponseMessage(r.message,r.messageId,o))}function handleError(e){if(dispatcher_toggleMsgLoader(),dispatcher_addResponseMessage(oe()),e.graphQLErrors&&e.graphQLErrors.length>0){var t=e.graphQLErrors[0];u.captureMessage(JSON.stringify(t))}}function isFirstImpression(){var e=gi.a.getItem("ccfi",(function(e){return"1"!==e}),!0);return e&&gi.a.setItem("ccfi","1",(function(e){return e})),e}var Ri=function ChatWidget(e){var t=e.itemId,n=e.courseId,r=e.humanReadableItemType,o=e.cssOverrides,u=coachPendoTrigger({triggerMessageCount:3,triggerOpenCount:3}),h=Object(d.b)();Object(s.useEffect)((function(){h({trackingData:{timestamp:Date.now()},trackingName:"ai-course-coach-widget",action:"visible"}),isFirstImpression()&&toggleWidget()}),[]);var m=Mi.a.getItem(se,(function(e){return e}),""),f=m&&"undefined"!==m?m:void 0,g=s.useState(f),v=i()(g,2),y=v[0],b=v[1];function handleNewSession(){Mi.a.removeItem(se),b(void 0),dispatcher_dropMessages()}return Object(a.d)("div",{"data-testid":"coursera-coach-widget",css:[wi,o,Li]},Object(a.d)(c.a,{store:Pe},Object(a.d)(Ee,{historyLimit:5,chatSessionId:y},Object(a.d)(l.b,{mutation:Pi.a,onCompleted:function onCompleted(e){return handleSubmitMessageCompleted(e,b)},onError:handleError,context:{clientName:"gatewayGql"}},(function(e){return Object(a.d)("div",null,Object(a.d)(Si,{showTimeStamp:!0,showCloseButton:!0,profileAvatar:Ii||(Ii=Object(a.d)(CoachSmileIcon,{variant:"dark"})),profileClientAvatar:p.a.get().photo_120,handleNewSession:handleNewSession,handleNewUserMessage:function handleNewUserMessage(i,r){var o,a;u.messageIncrement(),e({variables:{input:{userId:String(null===p.a||void 0===p.a?void 0:null===(o=p.a.get)||void 0===o?void 0:null===(a=o.call(p.a))||void 0===a?void 0:a.id),message:i,courseId:n,itemId:t,chatSessionId:y,action:r}}}),setTimeout((function(){dispatcher_toggleMsgLoader()}),300)},handleToggle:function handleToggle(e){e||(u.openIncrement(),u.conditionalTriggerPendo())},autofocus:!1,senderPlaceHolder:J()("Ask Coach a question"),showFullScreenButton:!0,humanReadableItemType:r}))})))))},Di=d.a.withVisibilityTracking(Ri);Ri.displayName="ChatWidget";var Fi=e.default=Di},VSTI:function(module,exports){var e=module.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},"Vwt+":function(module,e,t){"use strict";t.d(e,"d",(function(){return u})),t.d(e,"c",(function(){return p})),t.d(e,"a",(function(){return h})),t.d(e,"b",(function(){return m}));var n=t("fw5G"),i=t.n(n),r=t("S+eF"),o=t.n(r),a=t("DnuM"),s=t("uKqt"),l="mock.dev-coursera.org",c=9443,u=function generateJsUriObjCurrentPage(e){var t=e.location,n=t.protocol,r=t.hostname,o=t.pathname,a=(new i.a).setProtocol(n).setHost(r).setPath(o);return r===l&&a.setPort(9443),a},d=function getAbsoluteUrlForPath(e,t){var n=e.location,r=n.protocol,o=n.hostname,a=(new i.a).setProtocol(r).setHost(o).setPath(t);return o===l&&a.setPort(9443),a.toString()},p=function createCustomUrlPromise(e,t){return new Promise((function(n,i){var r=Object(a.a)("",{type:"rest"});o()(r.post("".concat(s.b),{data:{targetUrl:e,customSlug:t||""}})).then((function(e){var t=e&&e.elements&&e.elements[0];n({customShareLink:t&&"https://coursera.org/share/".concat(t.customSlug)})})).catch((function(e){i(e)}))}))},h=function convertHmsStringIntoSeconds(e){var t=e.split(":").reverse(),n,i,r;return(t[2]&&60*Number(t[2])*60||0)+(t[1]&&60*Number(t[1])||0)+(t[0]&&Number(t[0])||0)},m=function convertSecondsIntoHmsString(e){var t="",n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=Math.floor(e-3600*n-60*i);return n>0&&(t+=(n<10?"0":"")+n+":"),t+=(i<10?"0":"")+i+":",t+=(r<10?"0":"")+r},f=function getLanguageRequestHeadersOverridesForMetaImageQuery(){return{"Accept-Language":"en","X-Coursera-Accept-Language":"en","X-Coursera-Language":"en"}}},WG1l:function(module,exports,e){module.exports=function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var module=t[n]={exports:{},id:n,loaded:!1};return e[n].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){module.exports=e(1)},function(module,exports,e){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t,n=_interopRequireDefault(e(2));exports.default=n.default,module.exports=exports.default},function(module,exports,e){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Highlighter;var t=e(3),n,i=_interopRequireDefault(e(4)),r,o=_interopRequireDefault(e(14)),a,s=_interopRequireDefault(e(15));function Highlighter(e){var n=e.activeClassName,i=void 0===n?"":n,r=e.activeIndex,a=void 0===r?-1:r,l=e.activeStyle,c=e.autoEscape,u=e.caseSensitive,d=void 0!==u&&u,p=e.className,h=e.findChunks,m=e.highlightClassName,f=void 0===m?"":m,g=e.highlightStyle,v=void 0===g?{}:g,y=e.highlightTag,b=void 0===y?"mark":y,C=e.sanitize,S=e.searchWords,k=e.textToHighlight,w=e.unhighlightClassName,T=void 0===w?"":w,P=e.unhighlightStyle,E=(0,t.findAll)({autoEscape:c,caseSensitive:d,findChunks:h,sanitize:C,searchWords:S,textToHighlight:k}),x=b,O=-1,A="",j=void 0,M=function lowercaseProps(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t},N=(0,s.default)(M);return o.default.createElement("span",{className:p},E.map((function(e,t){var n=k.substr(e.start,e.end-e.start);if(e.highlight){O++;var r=void 0;r="object"==typeof f?d?f[n]:(f=N(f))[n.toLowerCase()]:f;var s=O===+a;return A=r+" "+(s?i:""),j=!0===s&&null!=l?Object.assign({},v,l):v,o.default.createElement(x,{className:A,key:t,style:j},n)}return o.default.createElement("span",{className:T,key:t,style:P},n)})))}Highlighter.propTypes={activeClassName:i.default.string,activeIndex:i.default.number,activeStyle:i.default.object,autoEscape:i.default.bool,className:i.default.string,findChunks:i.default.func,highlightClassName:i.default.oneOfType([i.default.object,i.default.string]),highlightStyle:i.default.object,highlightTag:i.default.oneOfType([i.default.node,i.default.func,i.default.string]),sanitize:i.default.func,searchWords:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.instanceOf(RegExp)])).isRequired,textToHighlight:i.default.string.isRequired,unhighlightClassName:i.default.string,unhighlightStyle:i.default.object},module.exports=exports.default},function(module,exports){module.exports=function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var module=t[n]={exports:{},id:n,loaded:!1};return e[n].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){module.exports=e(1)},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=e(2);Object.defineProperty(exports,"combineChunks",{enumerable:!0,get:function get(){return t.combineChunks}}),Object.defineProperty(exports,"fillInChunks",{enumerable:!0,get:function get(){return t.fillInChunks}}),Object.defineProperty(exports,"findAll",{enumerable:!0,get:function get(){return t.findAll}}),Object.defineProperty(exports,"findChunks",{enumerable:!0,get:function get(){return t.findChunks}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.findAll=function findAll(e){var r=e.autoEscape,o=e.caseSensitive,a=void 0!==o&&o,s=e.findChunks,l=void 0===s?n:s,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:t({chunks:l({autoEscape:r,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})},t=exports.combineChunks=function combineChunks(e){var t=e.chunks;return t=t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var i=Math.max(n.end,t.end);e.push({start:n.start,end:i})}else e.push(n,t);return e}),[])},n=function defaultFindChunks(e){var t=e.autoEscape,n=e.caseSensitive,i=e.sanitize,r=void 0===i?identity:i,o=e.searchWords,a=e.textToHighlight;return a=r(a),o.filter((function(e){return e})).reduce((function(e,i){i=r(i),t&&(i=escapeRegExpFn(i));for(var o=new RegExp(i,n?"g":"gi"),s=void 0;s=o.exec(a);){var l=s.index,c=o.lastIndex;c>l&&e.push({start:l,end:c}),s.index==o.lastIndex&&o.lastIndex++}return e}),[])};exports.findChunks=n;var i=exports.fillInChunks=function fillInChunks(e){var t=e.chunksToHighlight,n=e.totalLength,i=[],r=function append(e,t,n){t-e>0&&i.push({start:e,end:t,highlight:n})};if(0===t.length)r(0,n,!1);else{var o=0;t.forEach((function(e){r(o,e.start,!1),r(e.start,e.end,!0),o=e.end})),r(o,n,!1)}return i};function identity(e){return e}function escapeRegExpFn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(module,exports,e){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i=!0;module.exports=e(6)(isValidElement,!0)}else module.exports=e(13)()}).call(exports,e(5))},function(module,exports){var e=module.exports={},t,n;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var i=[],r=!1,o,a=-1;function cleanUpNextTick(){if(!r||!o)return;r=!1,o.length?i=o.concat(i):a=-1,i.length&&drainQueue()}function drainQueue(){if(r)return;var e=runTimeout(cleanUpNextTick);r=!0;for(var t=i.length;t;){for(o=i,i=[];++a<t;)o&&o[a].run();a=-1,t=i.length}o=null,r=!1,runClearTimeout(e)}function Item(e,t){this.fun=e,this.array=t}function noop(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new Item(e,t)),1!==i.length||r||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=noop,e.addListener=noop,e.once=noop,e.off=noop,e.removeListener=noop,e.removeAllListeners=noop,e.emit=noop,e.prependListener=noop,e.prependOnceListener=noop,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(module,exports,e){(function(t){"use strict";var n=e(7),i=e(8),r=e(9),o=e(10),a=e(11),s=e(12);module.exports=function(e,l){var c="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";function getIteratorFn(e){var t=e&&(c&&e[c]||e[u]);if("function"==typeof t)return t}var d="<<anonymous>>",p={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){if("production"!==t.env.NODE_ENV)var n={},o=0;function checkType(s,c,u,p,h,m,f){if(p=p||d,m=m||u,f!==a)if(l)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=p+":"+u;!n[g]&&o<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,p),n[g]=!0,o++)}if(null==c[u]){if(s){if(null===c[u])return new PropTypeError("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `null`.");return new PropTypeError("The "+h+" `"+m+"` is marked as required in `"+p+"`, but its value is `undefined`.")}return null}return e(c,u,p,h,m)}var s=checkType.bind(null,!1);return s.isRequired=checkType.bind(null,!0),s}function createPrimitiveTypeChecker(e){function validate(t,n,i,r,o,a){var s=t[n],l,c;if(getPropType(s)!==e)return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+getPreciseType(s)+"` supplied to `"+i+"`, expected `"+e+"`.");return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(n.thatReturnsNull)}function createArrayOfTypeChecker(e){function validate(t,n,i,r,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=t[n],l;if(!Array.isArray(s))return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+getPropType(s)+"` supplied to `"+i+"`, expected an array.");for(var c=0;c<s.length;c++){var u=e(s,c,i,r,o+"["+c+"]",a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(t,n,i,r,o){var a=t[n],s;if(!e(a))return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+i+"`, expected a single ReactElement.");return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,n,i,r,o){if(!(t[n]instanceof e)){var a=e.name||d,s;return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+getClassName(t[n])+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull;function validate(t,n,i,r,o){for(var a=t[n],s=0;s<e.length;s++)if(is(a,e[s]))return null;var l;return new PropTypeError("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(e){function validate(t,n,i,r,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=t[n],l=getPropType(s);if("object"!==l)return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var u=e(s,c,i,r,o+"."+c,a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var i=0;i<e.length;i++){var o=e[i];if("function"!=typeof o)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",getPostfixForTypeWarning(o),i),n.thatReturnsNull}function validate(t,n,i,r,o){for(var s=0;s<e.length;s++){var l;if(null==(0,e[s])(t,n,i,r,o,a))return null}return new PropTypeError("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(e,t,n,i,r){if(!isNode(e[t]))return new PropTypeError("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.");return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(e){function validate(t,n,i,r,o){var s=t[n],l=getPropType(s);if("object"!==l)return new PropTypeError("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in e){var u=e[c];if(!u)continue;var d=u(s,c,i,r,o+"."+c,a);if(d)return d}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(e){function validate(t,n,i,r,s){var l=t[n],c=getPropType(l);if("object"!==c)return new PropTypeError("Invalid "+r+" `"+s+"` of type `"+c+"` supplied to `"+i+"`, expected `object`.");var u=o({},t[n],e);for(var d in u){var p=e[d];if(!p)return new PropTypeError("Invalid "+r+" `"+s+"` key `"+d+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(l,d,i,r,s+"."+d,a);if(h)return h}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var n=getIteratorFn(t);if(!n)return!1;var i=n.call(t),r;if(n!==t.entries){for(;!(r=i.next()).done;)if(!isNode(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!isNode(o[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){if("symbol"===e)return!0;if("Symbol"===t["@@toStringTag"])return!0;if("function"==typeof Symbol&&t instanceof Symbol)return!0;return!1}function getPropType(e){var t=typeof e;if(Array.isArray(e))return"array";if(e instanceof RegExp)return"object";if(isSymbol(t,e))return"symbol";return t}function getPreciseType(e){if(null==e)return""+e;var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getPostfixForTypeWarning(e){var t=getPreciseType(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function getClassName(e){if(!e.constructor||!e.constructor.name)return d;return e.constructor.name}return PropTypeError.prototype=Error.prototype,p.checkPropTypes=s,p.PropTypes=p,p}}).call(exports,e(5))},function(module,exports){"use strict";function makeEmptyFunction(e){return function(){return e}}var e=function emptyFunction(){};e.thatReturns=makeEmptyFunction,e.thatReturnsFalse=makeEmptyFunction(!1),e.thatReturnsTrue=makeEmptyFunction(!0),e.thatReturnsNull=makeEmptyFunction(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(e){return e},module.exports=e},function(module,exports,e){(function(e){"use strict";var t=function validateFormat(e){};function invariant(e,n,i,r,o,a,s,l){if(t(n),!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,r,o,a,s,l],d=0;(c=new Error(n.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}"production"!==e.env.NODE_ENV&&(t=function validateFormat(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),module.exports=invariant}).call(exports,e(5))},function(module,exports,e){(function(t){"use strict";var n,i=e(7);if("production"!==t.env.NODE_ENV){var r=function printWarning(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function warning(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0===t.indexOf("Failed Composite propType: "))return;if(!e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r.apply(void 0,[t].concat(i))}}}module.exports=i}).call(exports,e(5))},function(module,exports){"use strict";var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},i=0;i<10;i++)n["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};if("abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join(""))return!1;return!0}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(i,r){for(var o,a=toObject(i),s,l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))t.call(o,c)&&(a[c]=o[c]);if(e){s=e(o);for(var u=0;u<s.length;u++)n.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},function(module,exports){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=e},function(module,exports,e){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var n=e(8),i=e(9),r=e(11),o={};function checkPropTypes(e,a,s,l,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{n("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,u,typeof e[u]),d=e[u](a,u,l,s,null,r)}catch(e){d=e}if(i(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof d),d instanceof Error&&!(d.message in o)){o[d.message]=!0;var p=c?c():"";i(!1,"Failed %s type: %s%s",s,d.message,null!=p?p:"")}}}module.exports=checkPropTypes}).call(exports,e(5))},function(module,exports,e){"use strict";var t=e(7),n=e(8),i=e(11);module.exports=function(){function shim(e,t,r,o,a,s){if(s===i)return;n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return e.checkPropTypes=t,e.PropTypes=e,e}},function(module,exports){module.exports=e("q1tI")},function(module,exports){"use strict";var e=function simpleIsEqual(e,t){return e===t};function index(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=void 0,r=[],o=void 0,a=!1,s=function isNewArgEqualToLast(e,t){return n(e,r[t])},l;return function result(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];if(a&&i===this&&n.length===r.length&&n.every(s))return o;return a=!0,i=this,r=n,o=t.apply(this,n)}}module.exports=index}])},"WN/K":function(module,exports,e){e("NC7b")},WXLS:function(module,exports){exports.default={"#{courseOrS12n} Certificate for #{courseName}":"Certificat #{courseOrS12n} pour #{courseName}","Copy Link to share":"Copier le lien à partager","Course":"Cours","Email":"Adresse e-mail","Facebook":"Facebook","Full Screen Modal":"Modal plein écran","I completed #{courseName} from #{partnerName} on Coursera.org.":"J'ai terminé #{courseName} de #{partnerName} sur Coursera.org.","LinkedIn":"LinkedIn","Share":"Partager","Share this page":"Partager cette page","Show your friends what they can learn on Coursera":"Montrer à vos amis ce qu'ils peuvent apprendre sur Coursera","Specialization":"Spécialisation","Start at":"Commencer à","Twitter":"Twitter","WhatsApp":"WhatsApp"}},Wino:function(module,exports,e){},WpRT:function(module,exports,e){var t=e("s2er")("keys"),n=e("ixoo");module.exports=function(e){return t[e]||(t[e]=n(e))}},Y92w:function(module,exports,e){},YEIV:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("SEkw"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function(e,t,i){return t in e?(0,n.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},YH9Q:function(module,exports){exports.default={"Exit full Screen":"Quitter le plein écran","Full Screen":"Plein écran","Mute":"Couper le son","Pause":"Pause","Play":"Lecture","Play Video":"Lire la vidéo","Settings":"Paramètres","Subtitles":"Sous-titres","Subtitles Off":"Arrêt des sous-titres","Subtitles: closed":"Sous-titres : désactivés","Subtitles: open":"Sous-titres : activés","Unmute":"Rétablir le son","Volume":"Volume"}},YZMc:function(module,exports,e){e("3D6w")},"Yz+Y":function(module,exports,e){module.exports={default:e("Lr1a"),__esModule:!0}},ZDin:function(module,exports,e){var t=e("A9a0"),n=e("l0Kd").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return t(e,n)}},ZHJz:function(module,exports){exports.default={"Coursera for Android":"Coursera pour Android","Coursera for iOS":"Coursera pour iOS","GET":"OBTENIR"}},ZJ5c:function(module,exports,e){},"ZY/g":function(module,exports,e){e("aFj7");for(var t=e("7whZ"),n=e("BRsN"),i=e("ig3W"),r=e("zBWt")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<o.length;a++){var s=o[a],l=t[s],c=l&&l.prototype;c&&!c[r]&&n(c,r,s),i[s]=i.Array}},ZblS:function(module,exports,e){e("kcqV");var t=e("VSTI").Object;module.exports=function getOwnPropertyDescriptor(e,n){return t.getOwnPropertyDescriptor(e,n)}},aFj7:function(module,exports,e){"use strict";var t=e("L5pH"),n=e("6jRP"),i=e("ig3W"),r=e("bKEA");module.exports=e("OTpG")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;if(!e||i>=e.length)return this._t=void 0,n(1);if("keys"==t)return n(0,i);if("values"==t)return n(0,e[i]);return n(0,[i,e[i]])}),"values"),i.Arguments=i.Array,t("keys"),t("values"),t("entries")},aT0f:function(module,exports,e){"use strict";var t=e("7whZ"),n=e("nA4W"),i=e("C61u"),r=e("USwo"),o=e("ugGH"),a=e("40oJ").KEY,s=e("S4vA"),l=e("s2er"),c=e("kvAF"),u=e("ixoo"),d=e("zBWt"),p=e("/NTb"),h=e("4Zg2"),m=e("CuL1"),f=e("Trx6"),g=e("d+lc"),v=e("ekG2"),y=e("CYMq"),b=e("bKEA"),C=e("M5dz"),S=e("ENu8"),k=e("b08l"),w=e("GDZC"),T=e("TSC6"),P=e("/tXR"),E=e("GhSp"),x=e("mHY4"),O=T.f,A=E.f,j=w.f,M=t.Symbol,N=t.JSON,I=N&&N.stringify,L="prototype",R=d("_hidden"),D=d("toPrimitive"),F={}.propertyIsEnumerable,V=l("symbol-registry"),B=l("symbols"),H=l("op-symbols"),U=Object.prototype,W="function"==typeof M&&!!P.f,z=t.QObject,q=!z||!z.prototype||!z.prototype.findChild,K=i&&s((function(){return 7!=k(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=O(U,t);i&&delete U[t],A(e,t,n),i&&e!==U&&A(U,t,i)}:A,wrap=function(e){var t=B[e]=k(M.prototype);return t._k=e,t},Q=W&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},G=function defineProperty(e,t,i){if(e===U&&G(H,t,i),g(e),t=C(t,!0),g(i),n(B,t))return i.enumerable?(n(e,R)&&e[R][t]&&(e[R][t]=!1),i=k(i,{enumerable:S(0,!1)})):(n(e,R)||A(e,R,S(1,{})),e[R][t]=!0),K(e,t,i);return A(e,t,i)},Y=function defineProperties(e,t){g(e);for(var n=m(t=b(t)),i=0,r=n.length,o;r>i;)G(e,o=n[i++],t[o]);return e},X=function create(e,t){return void 0===t?k(e):Y(k(e),t)},J=function propertyIsEnumerable(e){var t=F.call(this,e=C(e,!0));if(this===U&&n(B,e)&&!n(H,e))return!1;return!(t||!n(this,e)||!n(B,e)||n(this,R)&&this[R][e])||t},Z=function getOwnPropertyDescriptor(e,t){if(e=b(e),t=C(t,!0),e===U&&n(B,t)&&!n(H,t))return;var i=O(e,t);return!i||!n(B,t)||n(e,R)&&e[R][t]||(i.enumerable=!0),i},ee=function getOwnPropertyNames(e){for(var t=j(b(e)),i=[],r=0,o;t.length>r;)n(B,o=t[r++])||o==R||o==a||i.push(o);return i},te=function getOwnPropertySymbols(e){for(var t=e===U,i=j(t?H:b(e)),r=[],o=0,a;i.length>o;)!n(B,a=i[o++])||t&&!n(U,a)||r.push(B[a]);return r};W||(o((M=function Symbol(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=u(arguments.length>0?arguments[0]:void 0),$set=function(t){this===U&&$set.call(H,t),n(this,R)&&n(this[R],e)&&(this[R][e]=!1),K(this,e,S(1,t))};return i&&q&&K(U,e,{configurable:!0,set:$set}),wrap(e)}).prototype,"toString",(function toString(){return this._k})),T.f=Z,E.f=G,e("ZDin").f=w.f=ee,e("GRew").f=J,P.f=te,i&&!e("5ETA")&&o(U,"propertyIsEnumerable",J,!0),p.f=function(e){return wrap(d(e))}),r(r.G+r.W+r.F*!W,{Symbol:M});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ne.length>ie;)d(ne[ie++]);for(var re=x(d.store),oe=0;re.length>oe;)h(re[oe++]);r(r.S+r.F*!W,"Symbol",{for:function(e){return n(V,e+="")?V[e]:V[e]=M(e)},keyFor:function keyFor(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),r(r.S+r.F*!W,"Object",{create:X,defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=s((function(){P.f(1)}));r(r.S+r.F*ae,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(e){return P.f(y(e))}}),N&&r(r.S+r.F*(!W||s((function(){var e=M();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function stringify(e){for(var t=[e],n=1,i,r;arguments.length>n;)t.push(arguments[n++]);if(r=i=t[1],!v(i)&&void 0===e||Q(e))return;return f(i)||(i=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Q(t))return t}),t[1]=i,I.apply(N,t)}}),M.prototype[D]||e("BRsN")(M.prototype,D,M.prototype.valueOf),c(M,"Symbol"),c(Math,"Math",!0),c(t.JSON,"JSON",!0)},"aqT/":function(module,exports,e){!function webpackUniversalModuleDefinition(t,n){module.exports=n(e("q1tI"),e("i8i4"))}(this,(function(e,t){return function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var module=t[n]={i:n,l:!1,exports:{}};return e[n].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(exports,e,t){__webpack_require__.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(n,i,function(t){return e[t]}.bind(null,i));return n},__webpack_require__.n=function(module){var e=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(module,exports,e){var t,n;module.exports=e(5)()},function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=function(e,t,n){var i=e.direction,r=e.value;switch(i){case"top":return n.top+r<t.top&&n.bottom>t.bottom&&n.left<t.left&&n.right>t.right;case"left":return n.left+r<t.left&&n.bottom>t.bottom&&n.top<t.top&&n.right>t.right;case"bottom":return n.bottom-r>t.bottom&&n.left<t.left&&n.right>t.right&&n.top<t.top;case"right":return n.right-r>t.right&&n.left<t.left&&n.top<t.top&&n.bottom>t.bottom}}},function(module,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return u}));var n=t(1),i=t.n(n),r=t(2),o=t.n(r),a=t(0),s=t.n(a),l=t(3),c=t.n(l);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;return _assertThisInitialized(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function normalizeRect(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}var u=function(e){function VisibilitySensor(e){var t;return _classCallCheck(this,VisibilitySensor),_defineProperty(_assertThisInitialized(t=_possibleConstructorReturn(this,_getPrototypeOf(VisibilitySensor).call(this,e))),"getContainer",(function(){return t.props.containment||window})),_defineProperty(_assertThisInitialized(t),"addEventListener",(function(e,n,i,r){var o,a;t.debounceCheck||(t.debounceCheck={});var s=function later(){o=null,t.check()},l={target:e,fn:a=r>-1?function func(){o||(o=setTimeout(s,r||0))}:function func(){clearTimeout(o),o=setTimeout(s,i||0)},getLastTimeout:function getLastTimeout(){return o}};e.addEventListener(n,l.fn),t.debounceCheck[n]=l})),_defineProperty(_assertThisInitialized(t),"startWatching",(function(){if(t.debounceCheck||t.interval)return;t.props.intervalCheck&&(t.interval=setInterval(t.check,t.props.intervalDelay)),t.props.scrollCheck&&t.addEventListener(t.getContainer(),"scroll",t.props.scrollDelay,t.props.scrollThrottle),t.props.resizeCheck&&t.addEventListener(window,"resize",t.props.resizeDelay,t.props.resizeThrottle),!t.props.delayedCall&&t.check()})),_defineProperty(_assertThisInitialized(t),"stopWatching",(function(){if(t.debounceCheck)for(var e in t.debounceCheck)if(t.debounceCheck.hasOwnProperty(e)){var n=t.debounceCheck[e];clearTimeout(n.getLastTimeout()),n.target.removeEventListener(e,n.fn),t.debounceCheck[e]=null}t.debounceCheck=null,t.interval&&(t.interval=clearInterval(t.interval))})),_defineProperty(_assertThisInitialized(t),"check",(function(){var e=t.node,n,i;if(!e)return t.state;if(n=normalizeRect(t.roundRectDown(e.getBoundingClientRect())),t.props.containment){var r=t.props.containment.getBoundingClientRect();i={top:r.top,left:r.left,bottom:r.bottom,right:r.right}}else i={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var o=t.props.offset||{},a;"object"===_typeof(o)&&(i.top+=o.top||0,i.left+=o.left||0,i.bottom-=o.bottom||0,i.right-=o.right||0);var s={top:n.top>=i.top,left:n.left>=i.left,bottom:n.bottom<=i.bottom,right:n.right<=i.right},l=n.height>0&&n.width>0,u=l&&s.top&&s.left&&s.bottom&&s.right;if(l&&t.props.partialVisibility){var d=n.top<=i.bottom&&n.bottom>=i.top&&n.left<=i.right&&n.right>=i.left;"string"==typeof t.props.partialVisibility&&(d=s[t.props.partialVisibility]),u=t.props.minTopValue?d&&n.top<=i.bottom-t.props.minTopValue:d}"string"==typeof o.direction&&"number"==typeof o.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",o.direction,o.value),u=c()(o,n,i));var p=t.state;return t.state.isVisible!==u&&(p={isVisible:u,visibilityRect:s},t.setState(p),t.props.onChange&&t.props.onChange(u)),p})),t.state={isVisible:null,visibilityRect:{}},t}return _inherits(VisibilitySensor,e),_createClass(VisibilitySensor,[{key:"componentDidMount",value:function componentDidMount(){this.node=o.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.stopWatching()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.node=o.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function roundRectDown(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function render(){if(this.props.children instanceof Function)return this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect});return i.a.Children.only(this.props.children)}}]),VisibilitySensor}(i.a.Component);_defineProperty(u,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:i.a.createElement("span",null)}),_defineProperty(u,"propTypes",{onChange:s.a.func,active:s.a.bool,partialVisibility:s.a.oneOfType([s.a.bool,s.a.oneOf(["top","right","bottom","left"])]),delayedCall:s.a.bool,offset:s.a.oneOfType([s.a.shape({top:s.a.number,left:s.a.number,bottom:s.a.number,right:s.a.number}),s.a.shape({direction:s.a.oneOf(["top","right","bottom","left"]),value:s.a.number})]),scrollCheck:s.a.bool,scrollDelay:s.a.number,scrollThrottle:s.a.number,resizeCheck:s.a.bool,resizeDelay:s.a.number,resizeThrottle:s.a.number,intervalCheck:s.a.bool,intervalDelay:s.a.number,containment:"undefined"!=typeof window?s.a.instanceOf(window.Element):s.a.any,children:s.a.oneOfType([s.a.element,s.a.func]),minTopValue:s.a.number})},function(module,exports,e){"use strict";var t=e(6);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(e,n,i,r,o,a){if(a===t)return;var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},function(module,exports,e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=t}])}))},aqg2:function(module,exports,e){var t=e("TYje"),n=e("zBWt")("toStringTag"),i="Arguments"==t(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}};module.exports=function(e){var r,o,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=tryGet(r=Object(e),n))?o:i?t(r):"Object"==(a=t(r))&&"function"==typeof r.callee?"Arguments":a}},arBt:function(module,exports){exports.default={"Volunteer to translate subtitles":"Portez-vous volontaire pour traduire les sous-titres","Volunteer to translate subtitles for this course":"Portez-vous volontaire pour traduire les sous-titres de ce cours"}},"b+Bk":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponseInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageByAiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chatSessionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:519}};e.loc.source={body:"mutation AiCoach_CreateUserMessageAndReturnResponse($input: AiCoach_CreateUserMessageAndReturnResponseInput!) {\n  AiCoach_CreateUserMessageAndReturnResponse(input: $input) {\n    messageByAiCoach {\n      message\n      senderType\n      messageId\n    }\n    chatSessionId\n    clipRecommendations {\n      course {\n        id\n        slug\n        name\n      }\n      partners {\n        abbreviatedName\n        name\n        logo\n      }\n      itemTitle\n      itemSlug\n      itemId\n      previewImage\n      duration\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}var n={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function oneQuery(e,t){var i={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){var t;o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var t=new Set;collectFragmentReferences(e,t),n[e.name.value]=t}}))}(),module.exports=e,module.exports.AiCoach_CreateUserMessageAndReturnResponse=oneQuery(e,"AiCoach_CreateUserMessageAndReturnResponse")},b08l:function(module,exports,e){var t=e("d+lc"),n=e("heda"),i=e("l0Kd"),r=e("WpRT")("IE_PROTO"),Empty=function(){},o="prototype",createDict=function(){var t=e("BfU5")("iframe"),n=i.length,r="<",o=">",a;for(t.style.display="none",e("kUGv").appendChild(t),t.src="javascript:",(a=t.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),createDict=a.F;n--;)delete createDict.prototype[i[n]];return createDict()};module.exports=Object.create||function create(e,i){var o;return null!==e?(Empty.prototype=t(e),o=new Empty,Empty.prototype=null,o[r]=e):o=createDict(),void 0===i?o:n(o,i)}},bKEA:function(module,exports,e){var t=e("n7vu"),n=e("yQFZ");module.exports=function(e){return t(n(e))}},bS86:function(module,exports,e){var t=e("ig3W"),n=e("zBWt")("iterator"),i=Array.prototype;module.exports=function(e){return void 0!==e&&(t.Array===e||i[n]===e)}},bj3z:function(module,exports,e){e("H3ix")},"bt/X":function(module,exports,e){var t=e("hypo"),n=e("UMY1"),i,r=Object.prototype.hasOwnProperty,o=n((function(e,n,i){r.call(e,i)?e[i].push(n):t(e,i,[n])}));module.exports=o},cKta:function(module,e,t){"use strict";t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return a}));var n=t("z6VC"),i=t("RIsm"),r=function isFinancialAidCeilingOptedOut(){return"optOut"===i.a.preview("finaidCeilingVariant")&&"optOut"===i.a.preview("finaidCeilingVariantV2")},o=function getFinaidCeilingDiscountPercentage(){if("optOut"!==i.a.preview("finaidCeilingVariantV2"))return"IN"===n.a.get()?i.a.preview("finaidCeilingDiscountPercentageIndia"):i.a.preview("finaidCeilingDiscountPercentageNonUSDeveloped");return i.a.preview("finaidCeilingDiscountPercentage")},a=function isFinaidCeilingEnabled(){return 100!==o()}},ct0W:function(module,e,t){"use strict";var n=t("PTN7"),i=t.n(n),r=t("Ji/E"),o=function supportsNativeTextTracks(){var e,t=i.a.getTech("html5");if(!t.TEST_VID||!r.a.browser)return!1;return(e=!!t.TEST_VID.textTracks)&&t.TEST_VID.textTracks.length>0&&(e="number"!=typeof t.TEST_VID.textTracks[0].mode),!e||"onremovetrack"in t.TEST_VID.textTracks||(e=!1),e};e.a=o},czaS:function(module,exports,e){var t=e("USwo"),n=e("VSTI"),i=e("S4vA");module.exports=function(e,r){var o=(n.Object||{})[e]||Object[e],a={};a[e]=r(o),t(t.S+t.F*i((function(){o(1)})),"Object",a)}},"d+lc":function(module,exports,e){var t=e("ekG2");module.exports=function(e){if(!t(e))throw TypeError(e+" is not an object!");return e}},dWuz:function(module,e,t){"use strict";t.d(e,"a",(function(){return n}));var n={namespace:{app:"ondemand",page:"interactive_transcript"}}},"dY//":function(module,exports,e){e("T4Yn")},"du/1":function(module,exports,e){var t=e("USwo");t(t.S,"Object",{create:e("b08l")})},eEox:function(module,exports,e){e("1ASi")},eMqL:function(module,e,t){"use strict";var n=t("IWWe"),i="InteractiveTranscript",r={set:function set(e,t){return n.a.setItem(i+":"+e,t,String)},get:function get(e){return n.a.getItem(i+":"+e,String,void 0)}};e.a=r},ekG2:function(module,exports){module.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"f+IC":function(module,exports,e){e("j69+")},fsNN:function(module,e,t){"use strict";var n=t("MnCE"),i=t("l1ss"),r=t("Vwt+"),o="mock.dev-coursera.org",a=function withCustomUrl(){return Object(n.b)(i.a,Object(n.f)({componentDidMount:function componentDidMount(){var e=this,t=this.props,n=t.targetShareLink,i;t.useCustomUrl&&window.location.hostname!==o&&Object(r.c)(n).then((function(t){var n,i=t.customShareLink;e.setState({customShareLink:i})}))}}))};e.a=a},gP3f:function(module,exports,e){e("CI33")},gRli:function(module,exports,e){e("aT0f"),e("3+Ww"),e("MBy0"),e("TnF5"),module.exports=e("VSTI").Symbol},ghjH:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("JYd8"),o=Object(r.a)("ShareIcon",{ltr:{small:function small(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.742 2.68l-1.395-1.316.686-.728L14.73 3.18l-2.696 2.544-.686-.728 1.395-1.316h-.992c-1.426 0-2.397.347-3.018.981-.622.636-.982 1.653-.982 3.189V9h-1V7.85c0-1.674.39-2.992 1.268-3.889.88-.898 2.158-1.281 3.732-1.281h.992zM1.5 4.5H6v1H2.5v8h8V10h1v4.5h-10v-10z",fill:"currentColor"}))},medium:function medium(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.77 3.5l-2.199-2.142.698-.716L18.717 4l-3.448 3.358-.698-.716 2.2-2.142H15c-1.923 0-3.266.48-4.137 1.397C9.986 6.819 9.5 8.275 9.5 10.42V12h-1v-1.58c0-2.275.514-4.029 1.637-5.212C11.267 4.02 12.923 3.5 15 3.5h1.77zM1.5 5.5H7v1H2.5v11h11v-4.52h1v5.52h-13v-13z",fill:"currentColor"}))},large:function large(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.758 4.21l-2.964-2.85.692-.72 4.236 4.07-4.236 4.061-.692-.722 2.962-2.839H18.25c-2.424 0-4.144.598-5.265 1.763-1.124 1.168-1.735 2.998-1.735 5.657v2h-1v-2c0-2.791.64-4.921 2.015-6.35 1.379-1.433 3.41-2.07 5.985-2.07h2.508zM1.5 6.5h6.75v1H2.5v14h14v-5.78h1v6.78h-16v-16z",fill:"currentColor"}))}}},!1);e.a=o},h3Hq:function(module,exports,e){var t=e("zBWt")("iterator"),n=!1;try{var i=[7][t]();i.return=function(){n=!0},Array.from(i,(function(){throw 2}))}catch(e){}module.exports=function(e,i){if(!i&&!n)return!1;var r=!1;try{var o=[7],a=o[t]();a.next=function(){return{done:r=!0}},o[t]=function(){return a},e(o)}catch(e){}return r}},hMuw:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("JYd8"),o=Object(r.a)("StackedFileIcon",{ltr:{small:function small(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 7.5h-4v-1h4v1zM11.5 10h-4V9h4v1zM11.5 12.5h-4v-1h4v1z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 .5h9V4h-1V1.5H3v11h2.5v1H2V.5z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3.5h9v12H5v-12zm1 1v10h7v-10H6z",fill:"currentColor"}))},medium:function medium(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.61.5h12.67v3.77h-1V1.5H3.61v14.55h2.61v1H2.61V.5z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.61 3.5H17.5v16H5.61v-16zm1 1v14h9.89v-14H6.61z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.56 7.83h-6v-1h6v1zM14.56 10.61h-6v-1h6v1zM14.56 13.39h-6v-1h6v1zM14.56 16.17h-6v-1h6v1z",fill:"currentColor"}))},large:function large(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.5h16V5h-1V1.5h-14v18H7v1H2.5V.5z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 4.5h15v19h-15v-19zm1 1v17h13v-17h-13z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 9.5h-8v-1h8v1zM18 12.83h-8v-1h8v1zM18 16.17h-8v-1h8v1zM18 19.5h-8v-1h8v1z",fill:"currentColor"}))}}},!1);e.a=o},heda:function(module,exports,e){var t=e("GhSp"),n=e("d+lc"),i=e("mHY4");module.exports=e("C61u")?Object.defineProperties:function defineProperties(e,r){n(e);for(var o=i(r),a=o.length,s=0,l;a>s;)t.f(e,l=o[s++],r[l]);return e}},iCc5:function(module,exports,e){"use strict";exports.__esModule=!0,exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},iR3l:function(module,exports,e){var t=e("rO66"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},ig3W:function(module,exports){module.exports={}},ixoo:function(module,exports){var e=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++e+t).toString(36))}},j0VE:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),o=t.n(r),a=t("MnCE"),s=t("ZJgU"),l=t("KXbA"),c=t("G2Rf"),u=t("PamN"),d=t("9A5E"),p=t("NzvK"),h=t.n(p),m,f=function(e){function LabSandboxLauncherButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(){var e=t.props.courseSlug,n=Object(u.c)(e);window.open(n,"_blank")},t}var t;return i()(LabSandboxLauncherButton,e),LabSandboxLauncherButton.prototype.render=function render(){var e=this.props,t=e.courseId,n=e.courseBranchId,i=e.itemId,o=e.ownsCourse,a=e.isFreeTrial;if(!Object(u.b)(t,n,i,o,a))return null;return(r.createElement("div",{className:"rc-LabSandboxLauncherButton"},r.createElement(s.a,{variant:"ghost",component:d.a,iconPosition:"before",trackingName:"lab_sandbox",href:"/learn/".concat(this.props.courseSlug,"/lab-sandbox"),target:"_blank",icon:m||(m=r.createElement(l.a,{size:"small"})),"aria-label":h()("open lab sandbox")},h()("Practice with Lab Sandbox"))))},LabSandboxLauncherButton}(r.Component);e.a=Object(a.b)(c.a)(f)},"j69+":function(module,exports,e){},jkGH:function(module,e,t){"use strict";t.r(e);var n=t("S+eF"),i=t.n(n),r=t("DnuM"),o=t("juwT"),a=t("zXDh"),s=t("nkpE"),l=t("KMW/"),c=t("OMAK"),u=t.n(c),d,p="siteOnDemandCompletion";null===(d=l.a.addDefaults)||void 0===d||d.call(l.a,[u.a]);var h,m={get:function get(e,t){return l.a.get(p,e,t)},preview:function preview(e,t,n){return l.a.preview(p,e,t)}},f=t("fw5G"),g=t.n(f),v=t("TSOT"),y=Object(v.a)("/api/onDemandLectureAssets.v1",{type:"rest"}),b={getLectureAssets:function getLectureAssets(e,t){var n=new g.a("".concat(e,"~").concat(t)).addQueryParam("includes","openCourseAssets");return i()(y.get(n.toString()))}},C=b,S=b.getLectureAssets,k={videoEndPercentage:.9,videoStartPlaybackDelay:3,playbackRates:[.75,1,1.25,1.5,1.75,2]},w=k,T=k.videoEndPercentage,P=k.videoStartPlaybackDelay,E=k.playbackRates,x="240p",O="360p",A="540p",j="720p",M="1080p",N="//imasdk.googleapis.com/js/sdkloader/ima3.js",I="https://pubads.g.doubleclick.net/gampad/ads?iu=/22892572982/Pre-roll&description_url=https%3A%2F%2Fwww.coursera.org%2F&tfcd=0&npa=0&sz=640x480&min_ad_duration=30000&max_ad_duration=120000&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=",L={START:"start",SKIP:"skip",COMPLETE:"complete"},R=t("JqCg"),D=t.n(R),F=function getLanguageCode(e,t,n){var i=e&&e.get("course"),r=i&&i.get("course.primaryLanguageCodes"),o=r&&r[0]||"en",s=t&&t.currentTrack();if(s)o=s.language;else{var l=a.default.getLanguageCode(),c;if(n)!!n.getCaptionForLanguage(l)&&(o=l)}return o},V=function fetchLectureAssets(e){var t=Object(r.a)("",{type:"rest"});return new i.a.Promise((function(n,r){i()(C.getLectureAssets(e.get("course").get("id"),e.get("id"))).then((function(e){i.a.all(e.linked["openCourseAssets.v1"].map((function(e){return i()(t.get("/api/openCourseAssets.v1/"+o.a.unversionUrl(e.id)))}))).then((function(e){return i.a.all(e.map((function(e){var n=e.elements[0];if(!n)return!1;var r=n.typeName;if("url"===r){var o=n.definition,a=o.url,s=o.name;return i()().then((function(){return{typeName:r,url:a,itemName:s,fileType:D()("Link")}}))}var l=n.definition.assetId;return i()(t.get("api/assets.v1/".concat(l),{data:{fields:"fileExtension"}})).then((function(e){var t=e.elements[0],i=t.url.url,o=t.name,a=t.fileExtension,s=n.definition.name||o;return{typeName:r,url:i,itemName:s,fileType:a}}))}))).then((function(e){n(e)}))}))}))}))},B=function areDownloadsEnabled(e){return!Object(s.a)(m.get("itemVideoDownloadBlacklist"),e)},H=function isContextMenuEnabled(e){return!Object(s.a)(m.get("itemVideoContextMenuDenyList"),e)},U=["240p","360p","540p","720p","1080p"];function getHighestResolution(e){for(var t=U.length-1;t>=0;t--)if(e.getSourcesForResolution(U[t]))return U[t]}function getLowestResolution(e){for(var t=0;t<U.length;t++)if(e.getSourcesForResolution(U[t]))return U[t]}function getResolutionRange(e){var t=[],n=getLowestResolution(e),i=getHighestResolution(e);return n&&t.push(n),i&&n!==i&&t.push(i),t}var W=t("MnCE"),z=t("L1vm"),q=t("pVnL"),K=t.n(q),Q=t("fsL8"),G=t.n(Q),Y=t("yXPU"),X=t.n(Y),J=t("3tO9"),Z=t.n(J),ee=t("J4zp"),te=t.n(ee),ne=t("VkAN"),ie=t.n(ne),re=t("E+oP"),oe=t.n(re),ae=t("AeFk"),se=t("q1tI"),le=t.n(se),ce=t("aqT/"),ue=t.n(ce),de=t("17x9"),pe=t.n(de),he=t("8cuT"),me=t("sQ/U"),fe=t("kgYC"),ge=t("gksZ"),ve=t("6/Gu"),ye=t("8Hdl"),be=t("lPk7"),Ce=t("VDEC"),Se=t("MKs7"),ke=t("YmkS"),we=t("qJwm"),Te=t("1lFr"),Pe=t("RgwD"),Ee=t("+rcu"),xe=t("jzkQ"),Oe=t("ZJgU"),Ae=t("HHRp"),je=t("gNwb"),_e=t("RIqP"),Me=t.n(_e),Ne=t("mqQf"),Ie=t("wC8J"),Le=t("sAJn"),Re=t("U5zp"),De=t("uEzg"),Fe=400,Ve=530,Be=750,He=240,Ue=68,We=t("8SUX"),ze,qe,Ke,Qe=Object(je.d)({type:"BUTTON"})(Ne.a),Ge={transcript:{value:"TRANSCRIPT",trackingName:"focused_lex_lecture_tabs_transcript",justifyContent:"space-around",getLabel:function getLabel(){return D()("Transcript")}},notes:{value:"NOTES",trackingName:"focused_lex_lecture_tabs_notes",justifyContent:"space-around",getLabel:function getLabel(){return D()("Notes")}},downloads:{value:"DOWNLOADS",trackingName:"focused_lex_lecture_tabs_download",justifyContent:"flex-start",getLabel:function getLabel(){return D()("Downloads")}},discuss:{value:"DISCUSS",trackingName:"focused_lex_lecture_tabs_discuss",justifyContent:"space-around",getLabel:function getLabel(){return D()("Discuss")}},lectureSummary:{value:"LECTURE_SUMMARY",trackingName:"focused_lex_lecture_tabs_lecture_summary",justifyContent:"space-around",getLabel:function getLabel(){return D()("Lecture Summary")}}},Ye=["transcript","notes","downloads","discuss","lectureSummary"],Xe=["transcript","downloads","discuss"],Je=52,Ze={tabs:function tabs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return Object(ae.c)(ze||(ze=ie()(["\n        "," {\n          position: ",";\n          top: ","px;\n          z-index: 3;\n          background-color: ",";\n        }\n      "])),t.breakpoints.up("md"),e?"sticky":"static",e,t.palette.white)}},tabPanel:function tabPanel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return function(n){return Object(ae.c)(qe||(qe=ie()(["\n        position: ",";\n        top: ","px;\n        display: flex;\n        flex-wrap: nowrap;\n        justify-content: ",";\n        padding-top: ",";\n        min-height: calc(100vh + ","px);\n\n        & .rc-TranscriptHighlightButton {\n          z-index: 1;\n        }\n      "])),e?"sticky":"static",e+52,t,n.spacing(16),308)}},overrideTabWrapperStyles:function overrideTabWrapperStyles(){return Object(ae.c)(Ke||(Ke=ie()(["\n    .cds-tab-wrapper {\n      flex-direction: row-reverse;\n    }\n\n    .cds-tab-wrapper .cds-tag-status {\n      margin-left: var(--cds-spacing-100);\n      margin-right: 0;\n    }\n  "])))}},$e=function LectureTabs(e){var t=e.isLoggedIn,n=e.stickyTop,i=e.transcriptTabContent,r=e.discussTabContent,o=e.downloadTabContent,a=e.notesTabContent,s=e.lectureSummaryTabContent,l=e.notifyOnTabChange,c=e.itemSummaryHtml,u={transcript:i,discuss:r,notes:a,downloads:o,lectureSummary:s},d=t?Ye:Xe,p=Object(We.b)(),h=d.filter((function(e){var t,n;return!!u[e]&&("lectureSummary"===e&&p&&c||("transcript"===e||"notes"===e||"downloads"===e||"discuss"===e))})),m=ri(),f=m.selectedTab,g=m.setSelectedTab,v=function handleTabChange(e){null==g||g(e),null==l||l()},y=Object(ae.d)(Ie.a,{variant:"status",priority:"primary",color:"highlight1"},D()("New"));return Object(ae.d)(Le.a,{value:f},Object(ae.d)(Re.a,{variant:"section","aria-label":D()("Related lecture content tabs"),onChange:v,css:Ze.tabs(n)},h.map((function(e){return Object(ae.d)(Qe,{label:Ge[e].getLabel(),value:Ge[e].value,trackingName:Ge[e].trackingName,key:e,icon:"lectureSummary"===e?y:void 0,css:Ze.overrideTabWrapperStyles})}))),h.map((function(e){return Object(ae.d)(De.a,{value:Ge[e].value,css:Ze.tabPanel(n,Ge[e].justifyContent),key:e},u[e])})))},et=t("TSYQ"),tt=t.n(et),nt=t("al67"),it=function style(e){return Object(ae.c)({bottom:"10px",right:"10px",padding:"5px",zIndex:1999,position:"fixed",background:"white",transition:"1s",boxShadow:"-1px 0px 20px -1px rgba(204,204,204,1)",img:{width:"280px"},opacity:e?"1":"0",visibility:e?"visible":"hidden"})},rt,ot=function HighlightCapturePreview(e){var t=e.show,n=e.highlight,i=e.onClick;return Object(ae.d)("div",{tabIndex:0,role:"button",onClick:i,onKeyPress:function onKeyPress(e){return Object(nt.a)(e,i)},className:tt()("rc-HighlightCapturePreview",{show:t}),css:it(t)},n&&Object(ae.d)("img",{alt:n.transcriptText,src:n.snapshotDataUrl}))},at=t("BxDD"),st=t("TOZ3"),lt=t("CsdX"),ct=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n=_objectWithoutPropertiesLoose(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(i=o[r],t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++){if(r=i[o],t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ut=function SvgNotes(e){var t=e.title,n=void 0===t?"Notes":t,i=_objectWithoutProperties(e,["title"]);return se.createElement(ct.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),se.createElement("path",{d:"M41,14 L41,43 L41,45 L10,45 L8,45 L8,5 L8,3 L31,3 L41,3 L41,5 L41,14 Z M39,14 L39,5 L31,5 L10,5 L10,43 L39,43 L39,14 Z M16,13 L33,13 L33,15 L16,15 L16,13 Z M16,20 L33,20 L33,22 L16,22 L16,20 Z M16,27 L33,27 L33,29 L16,29 L16,27 Z M16,34 L33,34 L33,36 L16,36 L16,34 Z"}))};(ut=Object(W.i)(ut)).displayName="SvgNotes";var dt=ut,pt=t("Ne6o"),ht=t.n(pt),mt=Object(je.d)({type:"BUTTON"})(at.a),ft,gt=function HighlightSidebarTogglePanel(e){var t=e.active,n=e.onToggleClick;return(le.a.createElement(st.b,{rootClassName:"rc-HighlightSidebarTogglePanel",justifyContent:"start",alignItems:"center",flexDirection:"column"},le.a.createElement(mt,{trackingName:"toggle_highlight_panel",trackingData:{currentlyActive:t},rootClassName:tt()("notes-tool-button",{active:t}),onClick:n,htmlAttributes:{"aria-label":ht()("Toggle Notes Panel"),"aria-expanded":t},size:"zero",type:"icon",svgElement:le.a.createElement(dt,{color:lt.b.black,hoverColor:lt.b.black,size:20,suppressTitle:!0})})))},vt=t("VbXa"),yt=t.n(vt),bt=function setUIPanelVisibilityPreference(e,t){e.dispatch("setHighlightingUIPanelVisibilityPreference",t)},Ct=function setUIPanelEnabled(e,t){e.dispatch("setHighlightingUIPanelEnabled",t)},St=function setHighlightsCount(e,t){e.dispatch("setHighlightsCount",t)},kt=function getUIPanelVisibilityPreference(e){return Object(W.b)(Object(he.a)(["HighlightingUIPanelVisibilityPreferenceStore"],(function(e){var t=e.HighlightingUIPanelVisibilityPreferenceStore;return{expanded:t.getUIPanelVisibilityPreference(),highlightsCount:t.getHighlightsCount()}})))(e)},wt=bt,Tt=Ct,Pt=St,Et=kt,xt=function(e){function VideoHighlightSidebar(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).toggleExpansion=function(){var e=t.props.expanded,n;(0,t.context.executeAction)(bt,!e)},t}var t;return yt()(VideoHighlightSidebar,e),VideoHighlightSidebar.prototype.render=function render(){var e=this.props,t=e.loading,n=e.expanded,i=e.videoPlayer,r=e.highlights,o=e.notificationAnnouncement,a=e.onDelete,s=e.onUpdate,l=tt()("rc-VideoHighlightSidebar",{expanded:n});return le.a.createElement(st.b,{rootClassName:l,flexDirection:"row",justifyContent:"start",alignItems:"stretch"},le.a.createElement(gt,{active:n,onToggleClick:this.toggleExpansion}),le.a.createElement($n,{loading:t,videoPlayer:i,highlights:r,notificationAnnouncement:o,onDelete:a,onUpdate:s}))},VideoHighlightSidebar}(le.a.Component);xt.contextTypes={executeAction:pe.a.func.isRequired};var Ot=kt(xt),At=t("kvW3"),jt=t("PB6g"),_t=t("cDf5"),Mt=t.n(_t),Nt=t("Z3v1"),It=t("F9YM"),Lt,Rt=function HighlightButtonLabel(e){var t=e.startText,n=e.highlight,i=e.id,r=n.noteStartTs,o=n.noteEndTs,a=n.captureTs,s;if(r&&o){var l=Object(It.e)(r),c=Object(It.e)(o);s=le.a.createElement(ye.a,{component:Nt.FormattedMessage,message:ht()("{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds"),fromSec:l.seconds||"0",fromMin:l.minutes||"0",fromHr:l.hours||"0",toSec:c.seconds||"0",toMin:c.minutes||"0",toHr:c.hours||"0",startText:t})}else{var u=Object(It.e)(a);s=le.a.createElement(ye.a,{component:Nt.FormattedMessage,message:ht()("{startText} for {hours} hours {minutes} minutes {seconds} seconds"),hours:u.hours||"0",minutes:u.minutes||"0",seconds:u.seconds||"0",startText:t})}return(le.a.createElement(ye.a,{component:"span",id:i,className:"sr-only"},s))},Dt=Object(je.d)({type:"BUTTON"})(Oe.a);function HighlightDeleteButton(e){var t,n=Object(se.useState)(!1),i=te()(n,2),r=i[0],o=i[1],a=e.disabled,s=e.highlight,l=e.onDelete,c=Object(fe.a)(),u=Object(se.useRef)(null),d=Object(se.useRef)(null),p=Object(We.c)();return Object(se.useEffect)((function(){r&&null!=u&&u.current?u.current.focus():r||!d.current||p||d.current.focus()}),[r,p]),Object(ae.d)("div",null,!r&&Object(ae.d)(Dt,{size:"small",_refAltAsTrueRef:d,variant:"ghost",disabled:a,onClick:function onClick(){o(!0)},trackingName:"delete_highlight_pre","aria-label":ht()("Delete note #{noteText}",{noteText:null==s?void 0:null===(t=s.noteText)||void 0===t?void 0:t.substr(0,50)})},ht()("Delete")),r&&Object(ae.d)(ve.a,{container:!0,className:"HighlightDeleteButton_confirmation_controls",css:Object(ae.c)({gap:c.spacing(16)})},Object(ae.d)(ve.a,{item:!0,"aria-live":"assertive"},Object(ae.d)(ye.a,{component:"div",className:"highlight-delete-btn-confirm",css:Object(ae.c)({lineHeight:"36px",margin:c.spacing(0,0,0,8)})},ht()("Delete Note?"))),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Dt,{_refAltAsTrueRef:u,size:"small",variant:"primary",onClick:function onClick(){var e;o(!1),l(),null===(e=document.getElementById("note_sidebar_to_review_link_id"))||void 0===e||e.focus()},trackingName:"delete_highlight",className:"HighlightDeleteButton_confirmation_controls_yes"},ht()("Delete"))),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Dt,{size:"small",variant:"secondary",onClick:function onClick(){return o(!1)},trackingName:"cancel_delete_highlight",className:"HighlightDeleteButton_confirmation_controls_no"},ht()("Cancel")))))}Dt.displayName="TrackedButton",HighlightDeleteButton.displayName="HighlightDeleteButton";var Ft=HighlightDeleteButton,Vt,Bt=function HighlightEditButton(e){var t=e.disabled,n=e.onClick,i=e.ariaLabelledBy,r=e.hasComment,o=e.forwardRef,a=r?ht()("Edit your thoughts"):ht()("Add your thoughts");return le.a.createElement(Oe.a,{ref:o,variant:"ghost",onClick:n,size:"small",disabled:t,"aria-labelledby":i,onKeyPress:function onKeyPress(e){return Object(nt.a)(e,n)}},a)},Ht=t("wx14"),Ut=t("zLVn"),Wt=t("dI71"),zt=t("JX7q"),qt=!!document.documentElement.currentStyle,Kt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Qt=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],Gt={},Yt=document.createElement("textarea"),Xt=function forceHiddenStyles(e){Object.keys(Kt).forEach((function(t){e.style.setProperty(t,Kt[t],"important")}))};function calculateNodeHeight(e,t,n,i,r){void 0===n&&(n=!1),void 0===i&&(i=null),void 0===r&&(r=null),null===Yt.parentNode&&document.body.appendChild(Yt);var o=calculateNodeStyling(e,t,n);if(null===o)return null;var a=o.paddingSize,s=o.borderSize,l=o.boxSizing,c=o.sizingStyle;Object.keys(c).forEach((function(e){Yt.style[e]=c[e]})),Xt(Yt),Yt.value=e.value||e.placeholder||"x";var u=-1/0,d=1/0,p=Yt.scrollHeight;"border-box"===l?p+=s:"content-box"===l&&(p-=a),Yt.value="x";var h=Yt.scrollHeight-a,m=Math.floor(p/h),f;return null!==i&&(u=h*i,"border-box"===l&&(u=u+a+s),p=Math.max(u,p)),null!==r&&(d=h*r,"border-box"===l&&(d=d+a+s),p=Math.min(d,p)),{height:p,minHeight:u,maxHeight:d,rowCount:Math.floor(p/h),valueRowCount:m}}function calculateNodeStyling(e,t,n){if(void 0===n&&(n=!1),n&&Gt[t])return Gt[t];var i=window.getComputedStyle(e);if(null===i)return null;var r=Qt.reduce((function(e,t){return e[t]=i.getPropertyValue(t),e}),{}),o=r["box-sizing"];if(""===o)return null;qt&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(i["border-right-width"])+parseFloat(i["border-left-width"])+parseFloat(i["padding-right"])+parseFloat(i["padding-left"])+"px");var a,s,l={sizingStyle:r,paddingSize:parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),borderSize:parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),boxSizing:o};return n&&(Gt[t]=l),l}Xt(Yt);var Jt=function purgeCache(e){delete Gt[e]},Zt=function noop(){},$t=0,en=function(e){function TextareaAutosize(t){var n;return(n=e.call(this,t)||this)._onRef=function(e){n._ref=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e,Object(zt.a)(Object(zt.a)(n)))},n._resizeComponent=function(e){void 0===e&&(e=Zt);var t=calculateNodeHeight(n._ref,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null===t)return void e();var i=t.height,r=t.minHeight,o=t.maxHeight,a=t.rowCount,s=t.valueRowCount;if(n.rowCount=a,n.valueRowCount=s,n.state.height!==i||n.state.minHeight!==r||n.state.maxHeight!==o)return void n.setState({height:i,minHeight:r,maxHeight:o},e);e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=$t++,n._controlled=void 0!==t.value,n._resizeLock=!1,n}Object(Wt.a)(TextareaAutosize,e);var t=TextareaAutosize.prototype;return t.render=function render(){var e=this.props,t=e.inputRef,n=e.maxRows,i=e.minRows,r=e.onHeightChange,o=e.useCacheForDOMMeasurements,a=Object(Ut.a)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]),s;return a.style=Object(Ht.a)({},a.style,{height:this.state.height}),Math.max(a.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(a.style.overflow="hidden"),le.a.createElement("textarea",Object(Ht.a)({},a,{onChange:this._onChange,ref:this._onRef}))},t.componentDidMount=function componentDidMount(){var e=this;this._resizeComponent(),this._resizeListener=function(){if(e._resizeLock)return;e._resizeLock=!0,e._resizeComponent((function(){e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},t.componentDidUpdate=function componentDidUpdate(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},t.componentWillUnmount=function componentWillUnmount(){window.removeEventListener("resize",this._resizeListener),Jt(this._uid)},TextareaAutosize}(le.a.Component);en.defaultProps={inputRef:Zt,onChange:Zt,onHeightChange:Zt,useCacheForDOMMeasurements:!1};var tn=en,nn=t("SJ7i"),rn=Object(je.d)({type:"BUTTON"})(Oe.a);rn.displayName="TrackedButton";var on=function styles(e){return Object(ae.c)({".note-textarea":{width:"100%",color:"#555",resize:"none",padding:"10px",fontSize:"14px",border:"1px solid ".concat(e.palette.black[500]),borderRadius:4},"&:focus":{outline:"1px solid #ccc"}})},an=function(e){function HighlightNoteEditor(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.state.noteText,t;(0,n.props.onSave)(e)},n.handleChange=function(e){n.setState({noteText:e.target.value})},n.state={noteText:t.initialNoteText},n.textarea=null,n.setTextareaRef=function(e){n.textarea=e,n.props.forwardRef&&(n.props.forwardRef.current=e)},n}yt()(HighlightNoteEditor,e);var t=HighlightNoteEditor.prototype;return t.componentDidMount=function componentDidMount(){this.textarea&&this.textarea.focus()},t.render=function render(){var e,t,n=this.state.noteText,i=this.props,r=i.highlight,o=i.initialNoteText,a=i.onCancel,s=i.ariaLabelledBy,l=n===o||n.length>1e3,c=Object(It.e)(null!==(e=null==r?void 0:r.noteStartTs)&&void 0!==e?e:0),u=Object(It.e)(null!==(t=null==r?void 0:r.noteEndTs)&&void 0!==t?t:0),d=ht()('Save your thoughts for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:c.hours,startMinute:c.minutes,startSecond:c.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds}),p=ht()('Cancel changes for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==r?void 0:r.transcriptText,startHour:c.hours,startMinute:c.minutes,startSecond:c.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds});return Object(ae.d)("div",{className:"rc-HighlightNoteEditor",css:on},Object(ae.d)(tn,{id:"note-text",name:"note-text",minRows:1,maxRows:20,value:n,className:"note-textarea","aria-labelledby":s,onChange:this.handleChange,inputRef:this.setTextareaRef}),Object(ae.d)(ve.a,{container:!0,justifyContent:"flex-start",css:Object(ae.c)({gap:this.props.theme.spacing(16)})},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(rn,{type:"button",size:"small","aria-label":d,disabled:l,onClick:this.handleSave,trackingName:"edit_highlight"},ht()("Save"))),Object(ae.d)(ve.a,null,Object(ae.d)(rn,{type:"button",size:"small","aria-label":p,variant:"secondary",onClick:a,trackingName:"cancel_edit_highlight"},ht()("Cancel")))))},HighlightNoteEditor}(le.a.Component),sn=Object(nn.a)(an),ln=t("JYd8"),cn,un=Object(ln.a)("PauseIcon",{ltr:{small:function small(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.5H7v15H2.5V.5zm1 1v13H6v-13H3.5zM8.93.5h4.57v15H8.93V.5zm1 1v13h2.57v-13H9.93z",fill:"currentColor"}))},medium:function medium(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.5h6v19h-6V.5zm1 1v17h4v-17h-4zM11.5.5h6v19h-6V.5zm1 1v17h4v-17h-4z",fill:"currentColor"}))},large:function large(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.5h7.35v23H2.5V.5zm1 1v21h5.35v-21H3.5zM14.15.5h7.35v23h-7.35V.5zm1 1v21h5.35v-21h-5.35z",fill:"currentColor"}))}}},!1),dn,pn=Object(ln.a)("PlayIcon",{ltr:{small:function small(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.04L13.872 8 2.5 15.96V.04zm1 1.92v12.08L12.128 8 3.5 1.96z",fill:"currentColor"}))},medium:function medium(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.084L17.925 10 2.5 19.916V.084zm1 1.832v16.168L16.075 10 3.5 1.916z",fill:"currentColor"}))},large:function large(e){return le.a.createElement(le.a.Fragment,null,le.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5.08L20.92 12 2.5 23.92V.08zm1 1.84v20.16L19.08 12 3.5 1.92z",fill:"currentColor"}))}}},!1),hn=t("IDuc"),mn,fn,gn=function HighlightPlayButton(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.id,o=t.noteStartTs,a=t.noteEndTs,s=t.captureTs,l;return l=o&&a?i?ht()("Pause video clip #{startTime} - #{endTime}",{startTime:Object(It.c)(o),endTime:Object(It.c)(a)}):ht()("Play video clip #{startTime} - #{endTime}",{startTime:Object(It.c)(o),endTime:Object(It.c)(a)}):i?ht()("Pause video clip #{startTime}",{startTime:Object(It.c)(s)}):ht()("Play video clip #{startTime}",{startTime:Object(It.c)(s)}),Object(ae.d)(Oe.a,{type:"button",variant:"ghost",size:"small",component:hn.a,onClick:n,trackingName:"highlight_timestamp","aria-label":l,"aria-live":"off",icon:i?mn||(mn=Object(ae.d)(un,{size:"medium"})):fn||(fn=Object(ae.d)(pn,{size:"medium"})),iconPosition:"before",css:Object(ae.c)({marginLeft:"-16px"})},l)},vn=gn;gn.displayName="HighlightPlayButton";var yn={highlightButton:function highlightButton(e){return Object(ae.c)({margin:e.spacing(0,0,16,0),background:"none",border:0,width:"120px",textAlign:"left",padding:0})},videoThumbnail:function videoThumbnail(){return Object(ae.c)({maxWidth:"120px",maxHeight:"80px"})}},bn,Cn=function HighlightSnapshot(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotDataUrl,o=t.snapshotUrl,a=t.noteStartTs,s=t.captureTs,l=o||r,c=Object(fe.a)();if(!l)return null;return Object(ae.d)(hn.a,{trackingName:"highlight_snapshot",type:"button",className:"rc-HighlightSnapshot",onClick:n,"aria-labelledby":"snapshot-btn-label-".concat(a||s),css:yn.highlightButton(c)},Object(ae.d)(Rt,{id:"snapshot-btn-label-".concat(a||s),startText:i?ht()("Pause video for highlight marked"):ht()("Play video for highlight marked"),highlight:t}),Object(ae.d)("img",{alt:ht()("Video thumbnail"),src:l,css:yn.videoThumbnail}))},Sn=t("sOkY"),kn,wn=function HighlightTranscript(e){var t=e.highlight,n=e.onClick,i=e.playing,r=t.snapshotUrl,o=t.snapshotDataUrl,a=t.transcriptText,s=t.noteStartTs,l=t.captureTs;if(!a)return null;var c,u=r||o?300:500,d=a.length>u?"".concat(a.substring(0,u),"..."):a;return le.a.createElement(ye.a,{component:Sn.a,role:"button",tabIndex:0,onClick:n,className:"rc-HighlightTranscript",trackingName:"highlight_transcript",onKeyPress:function onKeyPress(e){return Object(nt.a)(e,n)},"aria-labelledby":"transcript-btn-label-".concat(s||l)},le.a.createElement(Rt,{id:"transcript-btn-label-".concat(s||l),startText:i?ht()("Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:d}):ht()("Play video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:d}),highlight:t}),d)},Tn=function container(e){var t,n;return Object(ae.c)({margin:e.spacing(24,0),padding:e.spacing(0,0,16,0),borderBottom:"1px solid ".concat(null==e?void 0:null===(t=e.palette)||void 0===t?void 0:null===(n=t.gray)||void 0===n?void 0:n[300])})},Pn=function highlightBody(e){return Object(ae.c)({margin:e.spacing(16,0,8,0)})},En=function editingControls(e){return Object(ae.c)({marginLeft:"-8px",marginTop:e.spacing(8)})},xn=function getHighlightId(e){if(null!=e&&e.id){var t;if(e.id.split("~").length<2)return e.id;return e.id}return},On=function nextTickExecute(e){setTimeout(e,0)},An=function Highlight(e){var t=e.highlight,n=e.highlight,i=n.id,r=n.pendingCreate,o=n.pendingUpdate,a=n.noteStartTs,s=n.captureTs,l=e.onDelete,c=e.currentHighlight,u=e.onSetCurrentHighlight,d=e.videoPlayer,p=e.onUpdate,h=e.forwardRef,m=e.isAdsPlaying,f=void 0!==m&&m,g=Object(fe.a)(),v=Object(se.useState)(t.noteText),y=te()(v,2),b=y[0],C=y[1],S=Object(se.useState)(!1),k=te()(S,2),w=k[0],T=k[1],P=Object(se.useState)(!1),E=te()(P,2),x=E[0],O=E[1],A=Object(se.useState)(!1),j=te()(A,2),M=j[0],N=j[1],I=Object(se.useState)(null),L=te()(I,2),R=L[0],D=L[1],F=Object(se.useState)(null),V=te()(F,2),B=V[0],H=V[1],U=Object(se.useRef)(null),W=Object(se.useRef)(null),z=Object(se.useRef)(null),q=function focusEditButton(){var e;null==W||null===(e=W.current)||void 0===e||e.focus()},K=function focusInput(){var e;null==z||null===(e=z.current)||void 0===e||e.focus()},Q=function handlePause(){N(!1)},G=function handleToggle(){u(i),a?d.currentTime(a):d.currentTime(s),d.paused()||!M?(f||d.play(),N(!0)):(d.pause(),N(!1))},Y=function handleEdit(){O(!0),On(K)},X=function handleSave(e){C(e),O(!1),p(Z()(Z()({},t),{},{noteText:e})),setTimeout(q,1500)},J=function handleCancel(){O(!1),On(q)};Object(se.useEffect)((function(){var e,n;if(w&&(null==U||null===(e=U.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||Mt()(window))&&window.setTimeout)){var i=window.setTimeout((function(){T(!1),D(null)}),2e3);D(i)}t&&H(xn(t)||null)}),[w,U,t]),Object(se.useEffect)((function(){return u(t.id),function(){d.off("pause",Q),R&&clearTimeout(R)}}),[B,t,U,R,u,d]),Object(se.useEffect)((function(){c&&t.id!==c&&Q()}),[t,c]);var ee=ht()("#{action} your thoughts#{noteText} for the note marked",{noteText:b?", ".concat(b,","):"",action:b?ht()("Edit"):ht()("Add")}),ne="edit-btn-label-".concat(null==t?void 0:t.id);return Object(ae.d)(ve.a,{container:!0,item:!0,ref:U,css:Tn(g)},Object(ae.d)(ve.a,{container:!0,item:!0,justifyContent:"space-between",direction:"column"},Object(ae.d)(ve.a,{ref:h,item:!0,justifyContent:"flex-start",alignItems:"center"},Object(ae.d)(Cn,{highlight:t,onClick:G,playing:M})),Object(ae.d)(ve.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},Object(ae.d)(vn,{highlight:t,onClick:G,playing:M}),(r||o)&&Object(ae.d)(ye.a,{component:"span",className:"highlight-status",css:Object(ae.c)({marginLeft:g.spacing(16)})},ht()("Saving..."))),Object(ae.d)(ve.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:Pn(g)},Object(ae.d)(wn,{highlight:t,onClick:G,playing:M})),b&&Object(ae.d)(ve.a,{item:!0,className:"highlight-note"},Object(ae.d)(ye.a,{component:"h3",variant:"h3semibold"},ht()("Your note")),Object(ae.d)(ye.a,null,b)),Object(ae.d)(ve.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[En(g),!x&&{display:"none"}]},Object(ae.d)(ve.a,{item:!0,xs:12,sm:8,md:6},Object(ae.d)(sn,{forwardRef:z,highlight:t,initialNoteText:b,onSave:X,onCancel:J,ariaLabelledBy:ne}))),Object(ae.d)(ve.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[En(g),Object(ae.c)({"div:nth-child(2)":{margin:g.spacing(0,16)}})]},Object(ae.d)(ve.a,{item:!0,css:[x&&{display:"none"}]},Object(ae.d)(Bt,{forwardRef:W,onClick:Y,ariaLabelledBy:ne,hasComment:!!b,disabled:r||o})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Ft,{onDelete:function onDelete(){return l(t.id)},disabled:r||o,highlight:t})))),Object(ae.d)(Rt,{id:ne,startText:ee,highlight:t}))};An.displayName="Highlight";var jn=An,_n=t("+LJP"),Mn=t("KXbA"),Nn=t("buno"),In=t("Ys1X"),Ln,Rn=function ReviewPageLink(e){var t=e.courseSlug;return Object(ae.d)(Oe.a,{variant:"ghost",href:Object(In.e)(Object(In.c)(t)),trackingName:"note_sidebar_to_review_link",target:"_blank",rel:"noopener noreferrer",component:Nn.a,icon:Ln||(Ln=Object(ae.d)(Mn.a,{size:"small"})),iconPosition:"after",css:Object(ae.c)({margin:"-16px"}),"aria-label":ht()("View all notes. Opens in new tab"),id:"note_sidebar_to_review_link_id"},ht()("View all notes"))},Dn=Object(_n.a)((function(e){var t;return{courseSlug:e.params.courseSlug}}))(Rn),Fn=t("cVIm"),Vn,Bn="".concat(Fn.a.url.resource_assets,"learner/note_placeholder.svg"),Hn={container:function container(e){return Object(ae.c)(Vn||(Vn=ie()(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.spacing(24))}},Un,Wn=function VideoHighlightsLoadingPlaceholder(){var e=Object(We.c)();return Object(ae.d)("div",{className:"rc-VideoHighlightsLoadingPlaceholder",css:[e&&Hn.container]},Object(ae.d)("img",{src:Bn,alt:ht()("Note placeholder")}),Object(ae.d)("img",{src:Bn,alt:ht()("Note placeholder")}),Object(ae.d)("img",{src:Bn,alt:ht()("Note placeholder")}))},zn="".concat(Fn.a.url.resource_assets,"learner/icon_note.svg"),qn="".concat(Fn.a.url.resource_assets,"learner/icon_highlight.svg"),Kn,Qn=function VideoHighlightsPlaceholder(e){var t=e.helpText;return(le.a.createElement("div",{className:"rc-VideoHighlightsPlaceholder"},le.a.createElement(st.b,{justifyContent:"center"},le.a.createElement("img",{src:zn,alt:ht()("Take notes"),className:"icon note-icon"}),le.a.createElement("img",{src:qn,alt:ht()("Highlight"),className:"icon"})),le.a.createElement(ye.a,{color:"supportText",className:"help-text"},t)))},Gn,Yn,Xn,Jn=function styles(e){return Object(ae.c)({padding:e.spacing(0,0,16,0)})},Zn=function SidebarTitle(e){var t=e.highlights;return Object(ae.d)(ye.a,{component:"h2",variant:"h1semibold",className:"sidebar-title"},0===t.length&&ht()("Notes"),0!==t.length&&Object(ae.d)(At.a,{count:t.length,message:ht()('Notes <span class="note-count">({count})</span>')}))};function VideoHighlights(e){var t=Object(se.useState)(null),n=te()(t,2),i=n[0],r=n[1],o=Object(fe.a)(),a=e.loading,s=e.videoPlayer,l=e.highlights,c=e.notificationAnnouncement,u=e.onDelete,d=e.onUpdate,p=e.shouldShowTitle,h=void 0===p||p,m=e.isAdsPlaying,f=void 0!==m&&m,g=Object(se.useRef)(null),v=function focusNextHighlight(e){var t=l.findIndex((function(t){return t.id===e})),n=t;if(l.length<=t?n=t-1:l.length>0?n=0===t?0:t-1:0===l.length&&(n=-1),n>=0){var i=l[n].id;setTimeout((function(){return r(i)}),0)}},y=function handleDelete(e){u(e),v(e)},b=l.map((function(e){return Object(ae.d)(jn,{forwardRef:e.id===i?g:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:r,videoPlayer:s,onDelete:y,onUpdate:function onUpdate(t){return d(e.id,t)},isAdsPlaying:f})}));return Object(ae.d)("div",{css:Jn(o)},Object(ae.d)(ve.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(ae.c)(Gn||(Gn=ie()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding-bottom: ",";\n        "])),o.spacing(16))},h&&Object(ae.d)(ve.a,{item:!0,css:Object(ae.c)("margin-bottom: ".concat(o.spacing(16)))},Object(ae.d)(Zn,{highlights:l})),Yn||(Yn=Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Dn,null)))),a&&(Xn||(Xn=Object(ae.d)(Wn,null))),!a&&0===l.length&&Object(ae.d)(Qn,{helpText:ht()("Click the “Save Note” button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript below. Add your own notes to anything you’ve captured.")}),!a&&b,Object(ae.d)(jt.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},c&&Object(ae.d)("span",null,c)))}var $n=VideoHighlights,ei=t("mDxB"),ti=t("M743"),ni=t("p6CZ"),ii=Object(se.createContext)({highlights:[],videoPlayer:void 0,loading:!0,notificationAnnouncement:"",onDelete:void 0,onUpdate:void 0,course:void 0,courseId:"",computedItem:void 0,itemMetadata:void 0,videoContent:void 0,selectedTrack:{},onCapture:void 0,tracks:void 0,onTrackSelected:void 0,hideVolunteerLink:!1,player:void 0,onSaveHighlight:void 0,onRemoveHighlight:void 0,selectedTab:"",setSelectedTab:void 0}),ri=function useVideoHighlightingManagerContext(){return Object(se.useContext)(ii)},oi=function VideoHighlightingManagerProvider(e){var t=Object(se.useState)([]),n=te()(t,2),i=n[0],r=n[1],o=Object(se.useState)(!0),a=te()(o,2),s=a[0],l=a[1],c=Object(se.useState)(""),u=te()(c,2),d=u[0],p=u[1],h=Ge.transcript.value,m=Object(se.useState)(h),f=te()(m,2),g=f[0],v=f[1],y=e.itemId,b=e.courseId,C=e.children,S=e.executeAction,k=e.videoPlayer,w=e.course,T=e.computedItem,P=e.itemMetadata,E=e.videoContent,x=e.selectedTrack,O=e.tracks,A=e.onTrackSelected,j=e.isSubtitleTranslationEnabled,M=(null==x?void 0:x.languageCode)||"";Object(se.useEffect)((function(){var e;(function(){var e=X()(G()().mark((function _callee(){var e;return G()().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ei.d)({itemId:y,courseId:b,languageCode:M});case 2:e=t.sent,r(e),l(!1),S(St,i.length);case 6:case"end":return t.stop()}}),_callee)})));return function handleHighlight(){return e.apply(this,arguments)}})()()}),[y,b,M,S]);var N=function handleUpdateComplete(e,t){r((function(n){return n.sort(ei.a).map((function(n){return n.id===e?t:n}))}))},I=function(){var e=X()(G()().mark((function _callee2(e){var t;return G()().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return t=i.filter((function(t){return t.id!==e})),r(t),n.next=4,Object(ei.c)({id:e});case 4:p(D()("Note deleted")),S(St,t.length);case 6:case"end":return n.stop()}}),_callee2)})));return function handleDelete(t){return e.apply(this,arguments)}}(),L=function(){var e=X()(G()().mark((function _callee3(e,t){var n;return G()().wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return n=i.map((function(e){return e.id===t.id?Z()(Z()({},t),{},{pendingUpdate:!0}):e})),r(n),o.next=4,Object(ei.f)({itemId:y,courseId:b,languageCode:M,id:e,highlight:t});case 4:N(t.id,Z()(Z()({},t),{},{pendingUpdate:!1})),p(D()("Note updated"));case 6:case"end":return o.stop()}}),_callee3)})));return function handleUpdate(t,n){return e.apply(this,arguments)}}(),R=function(){var e=X()(G()().mark((function _callee4(e){var t,n,o,a;return G()().wrap((function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return t=[e].concat(Me()(i)),r(t),s.next=4,Object(ei.b)({itemId:y,courseId:b,languageCode:M,highlight:e});case 4:n=s.sent,o=n.id,a=n.snapshotUrl,N(e.id,Z()(Z()({},e),{},{id:o,snapshotUrl:a,pendingCreate:!1})),S(St,t.length);case 9:case"end":return s.stop()}}),_callee4)})));return function handleCreate(t){return e.apply(this,arguments)}}();return se.createElement(ii.Provider,{value:{highlights:i,videoPlayer:k,loading:s,notificationAnnouncement:d,onDelete:I,onUpdate:L,course:w,courseId:b,computedItem:T,itemMetadata:P,videoContent:E,selectedTrack:x,onCapture:R,tracks:O,onTrackSelected:A,hideVolunteerLink:!j,player:k,onSaveHighlight:R,onRemoveHighlight:I,selectedTab:g,setSelectedTab:v}},C)},ai=oi,si,li=5e3,ci=Object(je.d)({type:"BUTTON"})(Oe.a);ci.displayName="TrackedButton";var ui,di=function CaptureHighlightButton(e){var t=e.selectedTrack,n=e.videoPlayer,i=Object(se.useState)(!1),r=te()(i,2),o=r[0],a=r[1],s=Object(se.useState)(!1),l=te()(s,2),c=l[0],u=l[1],d=Object(se.useState)(null),p=te()(d,2),h=p[0],m=p[1],f,g=ri(),v=g.onCapture,y=g.selectedTab,b=g.setSelectedTab;Object(se.useEffect)((function(){return n.emitter.on("videoQuizView.hidden",(function(){return a(!1)})),n.emitter.on("videoQuizView.visible",(function(){return a(!0)})),function(){"function"==typeof n.emitter.off&&(n.emitter.off("videoQuizView.hidden",(function(){return a(!1)})),n.emitter.off("videoQuizView.visible",(function(){return a(!0)})))}}),[]);var C=function handleClick(e){if("Enter"===e.key||" "===e.key)return;if(f&&clearTimeout(f),t){var i=Object(ni.a)(t,n);v&&(v(i),"NOTES"!==y&&b&&b("NOTES")),m(i),u(!0),f=window.setTimeout((function(){u(!1)}),5e3)}},S=function handlePreviewClick(){f&&clearTimeout(f),u(!1)};return se.createElement("div",{className:"rc-CaptureHighlightButton"},se.createElement(ci,{disabled:o,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:si||(si=se.createElement(Ae.a,{size:"small"})),onClick:C,trackingName:"create_video_highlight_focusedLex"},D()("Save note")),se.createElement(ot,{show:c,highlight:h,onClick:S}))},pi=t("fAYU"),hi=t("ghjH"),mi=t("GqWO"),fi,gi,vi,yi=function DiscussTabContent(e){var t=e.weekNumber,n=Object(fe.a)();return Object(ae.d)("div",{css:Object(ae.c)(fi||(fi=ie()(["\n        max-width: 700px;\n        padding-bottom: ",";\n      "])),n.spacing(16))},Object(ae.d)(ye.a,{variant:"body1"},D()("You can visit the Forums page to see all the different topics and discussions that are available. From there, you can post a question, start a new discussion, or join an existing conversation.")),Object(ae.d)("div",{css:Object(ae.c)(gi||(gi=ie()(["\n          margin-top: ",";\n        "])),n.spacing(24))},Object(ae.d)(pi.a,{icon:vi||(vi=Object(ae.d)(hi.a,null)),"aria-label":D()("Discuss, opens discussion forums in another browser window"),variant:"quiet",iconPosition:"after",href:Object(mi.q)(t),target:"_blank",typographyVariant:"body1"},D()("Discuss"))))},bi=t("ahDc"),Ci=t("9A5E"),Si,ki,wi,Ti,Pi=function DownloadTabContent(e){var t=e.lectureDownloadLinks;return Object(ae.d)("ul",{css:function css(e){return Object(ae.c)(Si||(Si=ie()(["\n        list-style: none;\n        margin: 0;\n        padding: ",";\n      "])),e.spacing(0,0,0,8))}},t.map((function(e){var t=e.download,n=e.displayName,i=e.href,r=e.fileType,o=e.trackingName,a=e.data,s=e.onClick;return Object(ae.d)("li",{key:"".concat(n).concat(r),css:function css(e){return Object(ae.c)(ki||(ki=ie()(["\n            margin-bottom: ",";\n          "])),e.spacing(24))}},Object(ae.d)(pi.a,{variant:"quiet",component:Ci.a,onClick:s,href:i,data:a,download:t,trackingName:o,target:"_blank",rel:"noopener noreferrer",icon:wi||(wi=Object(ae.d)(bi.a,null)),iconPosition:"before",typographyVariant:"body1"},"".concat(n," ").concat(r)))})))},Ei=t("1M3H"),xi=t.n(Ei),Oi=t("qSs1"),Ai=t("vUL0"),ji,_i,Mi,Ni,Ii={overrideContextualHelpStyles:function overrideContextualHelpStyles(){return Object(ae.c)(ji||(ji=ie()(["\n    .cds-ContextualHelp-container {\n      @media (min-width: 600px) {\n        display: flex;\n        justify-content: flex-end;\n      }\n    }\n  "])))}},Li=function LectureSummaryContent(e){var t=e.itemSummaryHtml,n=e.name,i=Object(fe.a)(),r,o=xi()({breaks:!0}).render(null!=t?t:"");return Object(ae.d)("div",{css:Object(ae.c)(_i||(_i=ie()(["\n        max-width: 700px;\n        padding-bottom: ",";\n      "])),i.spacing(16))},Object(ae.d)(ve.a,{container:!0,spacing:16},Object(ae.d)(ve.a,{container:!0,item:!0,justifyContent:"space-between"},Object(ae.d)(ve.a,{xs:12,sm:6},Object(ae.d)(ye.a,{variant:"h3bold"},n)),Object(ae.d)(ve.a,{xs:12,sm:6},Object(ae.d)(Oi.a,{css:Ii.overrideContextualHelpStyles,helpToggleProps:{"aria-label":D()("Information about Coursera Coach")},tooltipProps:{closeButtonProps:{"aria-label":D()("Close information about Coursera Coach")}},label:Object(ae.d)(se.Fragment,null,Object(ae.d)(ye.a,{variant:"body1",color:"supportText"},D()("Generated by")),Object(ae.d)(Ai.a,{hexColorCode:"#0056d2",css:Object(ae.c)(Mi||(Mi=ie()(["\n                      height: 12px;\n                      width: 80px;\n                      margin-left: 4px;\n                      margin-right: 4px;\n                    "])))}),Object(ae.d)(ye.a,{css:Object(ae.c)(Ni||(Ni=ie()(["\n                      color: #0056d2;\n                    "])))},D()("coach")))},Object(ae.d)(ye.a,null,D()("Coursera Coach is an AI-powered assistant that helps you review, summarize, and retain what you're learning."))))),Object(ae.d)(ve.a,{item:!0},t&&Object(ae.d)(ye.a,{dangerouslySetInnerHTML:{__html:o}}))))},Ri=function container(e){return Object(ae.c)({margin:e.spacing(24,0),padding:e.spacing(0,0,16,0)})},Di=function highlightBody(e){return Object(ae.c)({margin:e.spacing(16,0,8,0)})},Fi=function editingControls(e){return Object(ae.c)({marginLeft:"-8px",marginTop:e.spacing(8)})},Vi=function getHighlightId(e){if(null!=e&&e.id){var t;if(e.id.split("~").length<2)return e.id;return e.id}return},Bi=function nextTickExecute(e){setTimeout(e,0)},Hi=function Highlight(e){var t=e.highlight,n=e.highlight,i=n.id,r=n.pendingCreate,o=n.pendingUpdate,a=n.noteStartTs,s=n.captureTs,l=e.onDelete,c=e.currentHighlight,u=e.onSetCurrentHighlight,d=e.videoPlayer,p=e.onUpdate,h=e.forwardRef,m=e.isAdsPlaying,f=void 0!==m&&m,g=Object(fe.a)(),v=Object(se.useState)(t.noteText),y=te()(v,2),b=y[0],C=y[1],S=Object(se.useState)(!1),k=te()(S,2),w=k[0],T=k[1],P=Object(se.useState)(!1),E=te()(P,2),x=E[0],O=E[1],A=Object(se.useState)(!1),j=te()(A,2),M=j[0],N=j[1],I=Object(se.useState)(null),L=te()(I,2),R=L[0],D=L[1],F=Object(se.useState)(null),V=te()(F,2),B=V[0],H=V[1],U=Object(se.useRef)(null),W=Object(se.useRef)(null),z=Object(se.useRef)(null),q=function focusEditButton(){var e;null==W||null===(e=W.current)||void 0===e||e.focus()},K=function focusInput(){var e;null==z||null===(e=z.current)||void 0===e||e.focus()},Q=function handlePause(){N(!1)},G=function handleToggle(){u(i),a?d.currentTime(a):d.currentTime(s),d.paused()||!M?(f||d.play(),N(!0)):(d.pause(),N(!1))},Y=function handleEdit(){O(!0),Bi(K)},X=function handleSave(e){C(e),O(!1),p(Z()(Z()({},t),{},{noteText:e})),setTimeout(q,1500)},J=function handleCancel(){O(!1),Bi(q)};Object(se.useEffect)((function(){var e,n;if(w&&(null==U||null===(e=U.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||Mt()(window))&&window.setTimeout)){var i=window.setTimeout((function(){T(!1),D(null)}),2e3);D(i)}t&&H(Vi(t)||null)}),[w,U,t]),Object(se.useEffect)((function(){return u(t.id),function(){d.off("pause",Q),R&&clearTimeout(R)}}),[B,t,U,R,u,d]),Object(se.useEffect)((function(){c&&t.id!==c&&Q()}),[t,c]);var ee=ht()("#{action} your thoughts#{noteText} for the note marked",{noteText:b?", ".concat(b,","):"",action:b?ht()("Edit"):ht()("Add")}),ne="edit-btn-label-".concat(null==t?void 0:t.id);return Object(ae.d)(ve.a,{container:!0,item:!0,spacing:12,ref:U,css:Ri(g),xs:12},Object(ae.d)(ve.a,{ref:h,item:!0,justifyContent:"flex-start",alignItems:"center",sm:3},Object(ae.d)(Cn,{highlight:t,onClick:G,playing:M})),Object(ae.d)(ve.a,{container:!0,item:!0,direction:"row",wrap:"wrap",sm:9},Object(ae.d)(ve.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},Object(ae.d)(vn,{highlight:t,onClick:G,playing:M}),(r||o)&&Object(ae.d)(ye.a,{component:"span",className:"highlight-status",css:Object(ae.c)({marginLeft:g.spacing(16)})},ht()("Saving..."))),Object(ae.d)(ve.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:Di(g),xs:12},Object(ae.d)(wn,{highlight:t,onClick:G,playing:M})),b&&Object(ae.d)(ve.a,{item:!0,className:"highlight-note"},Object(ae.d)(ye.a,{component:"h3",variant:"h3semibold"},ht()("Your note")),Object(ae.d)(ye.a,null,b)),Object(ae.d)(ve.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Fi(g),!x&&{display:"none"}]},Object(ae.d)(ve.a,{item:!0,xs:12,sm:8,md:6},Object(ae.d)(sn,{forwardRef:z,highlight:t,initialNoteText:b,onSave:X,onCancel:J,ariaLabelledBy:ne}))),Object(ae.d)(ve.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Fi(g),Object(ae.c)({"div:nth-child(2)":{margin:g.spacing(0,16)}})]},Object(ae.d)(ve.a,{item:!0,css:[x&&{display:"none"}]},Object(ae.d)(Bt,{forwardRef:W,onClick:Y,ariaLabelledBy:ne,hasComment:!!b,disabled:r||o})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Ft,{onDelete:function onDelete(){return l(t.id)},disabled:r||o,highlight:t})))),Object(ae.d)(Rt,{id:ne,startText:ee,highlight:t}))};Hi.displayName="Highlight";var Ui=Hi,Wi,zi,qi,Ki=function styles(e){return Object(ae.c)({padding:e.spacing(0,0,16,0)})};function VideoHighlightsFocusedLex_VideoHighlights(e){var t=Object(se.useState)(null),n=te()(t,2),i=n[0],r=n[1],o=Object(fe.a)(),a=e.loading,s=e.videoPlayer,l=e.highlights,c=e.notificationAnnouncement,u=e.onDelete,d=e.onUpdate,p=e.isAdsPlaying,h=void 0!==p&&p,m=Object(se.useRef)(null),f=function focusNextHighlight(e){var t=l.findIndex((function(t){return t.id===e})),n=t;if(l.length<=t?n=t-1:l.length>0?n=0===t?0:t-1:0===l.length&&(n=-1),n>=0){var i=l[n].id;setTimeout((function(){return r(i)}),0)}},g=function handleDelete(e){u&&(u(e),f(e))},v=d&&l.map((function(e){return Object(ae.d)(Ui,{forwardRef:e.id===i?m:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:r,videoPlayer:s,onDelete:g,onUpdate:function onUpdate(t){return d(e.id,t)},isAdsPlaying:h})}));return Object(ae.d)("div",{css:Ki(o)},a&&(Wi||(Wi=Object(ae.d)(Wn,null))),!a&&0===l.length&&Object(ae.d)(Qn,{helpText:ht()("Click the “Save Note” button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything you’ve captured.")}),!a&&v,Object(ae.d)(jt.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},c&&Object(ae.d)("span",null,c)),Object(ae.d)(ve.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(ae.c)(zi||(zi=ie()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding: ",";\n        "])),o.spacing(16,0,16))},qi||(qi=Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Dn,null)))))}var Qi=Object(se.memo)(VideoHighlightsFocusedLex_VideoHighlights),Gi,Yi=function NotesTabContent(e){var t=e.isAdsPlaying,n=void 0!==t&&t,i=ri(),r=i.loading,o=i.videoPlayer,a=i.highlights,s=i.notificationAnnouncement,l=i.onDelete,c=i.onUpdate;return Object(ae.d)("div",{css:Object(ae.c)(Gi||(Gi=ie()(["\n        max-width: 700px;\n      "])))},Object(ae.d)(Qi,{loading:r,videoPlayer:o,highlights:a,notificationAnnouncement:s,onDelete:l,onUpdate:c,isAdsPlaying:n}))},Xi=t("Ev1s"),Ji,Zi=function VideoJsTranscriptContainerFocusedLex(e){var t=e.player,n=e.selectedTrack,i=e.highlights,r=e.onRemoveHighlight,o=e.onSaveHighlight,a=e.isAdsPlaying,s=void 0!==a&&a,l=Object(se.useState)(0),c=te()(l,2),u=c[0],d=c[1];Object(se.useEffect)((function(){var e=function handleTimeUpdate(){return d(t.currentTime())};return t.on("timeupdate",e),function(){t.off("timeupdate",e)}}),[t]);var p=function handleTimeChange(e){t.currentTime(e),t.paused()&&!s&&t.play(),d(e)},h=function handleSaveHighlight(e){var t=Object(ni.b)(e,n);o&&o(t)},m=function handlePausePlayer(){return t.pause()};return se.createElement(Xi.a,{time:u,timeDiff:void 0,track:n,highlights:i||[],onTimeChange:p,onRemoveHighlight:r,onSaveHighlight:h,handlePausePlayer:m,showSaveConfirmations:!0})},$i=t("rzCt"),er=t("fguj"),tr=t("eMqL"),nr=t("dWuz"),ir=t("kj/T"),rr=t.n(ir),or,ar=function TrackChooserFocusedLex(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelect,r=e.courseId,o=e.itemId,a=function handleSelect(e){var a=e.target.value,s=n.languageCode,l={itemId:o,courseId:r,previousLanguage:s};if("-1"===a){var c=Z()(Z()({},l),{},{newLanguage:void 0});z.a.trackComponent(nr.a,c,"track_chooser","deselected")}else{var u=Z()(Z()({},l),{},{newLanguage:a});z.a.trackComponent(nr.a,u,"track_chooser","selected")}var d=t.getFromLanguageCode(a);tr.a.set("language-code",a),i&&i(d)};return Object(ae.d)($i.a,{defaultValue:n.languageCode,onChange:a,label:"",fullWidth:!0},t.toArray().map((function(e){var t=e.label,n=e.languageCode;return Object(ae.d)(er.a,{key:"track-".concat(n),value:n,"aria-label":"".concat(rr()("Language"),", ").concat(t)},t)})))},sr=t("tkM2"),lr=t.n(sr),cr=Object(je.d)({type:"BUTTON"})(Oe.a);cr.displayName="TrackedButton";var ur=function(e){function VolunteerLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.openModal=function(e){var n=t.props.onClick;e.preventDefault(),e.stopPropagation(),t.setState({showModal:!0}),n&&n()},t.closeModal=function(){t.setState({showModal:!1})},t}var t;return yt()(VolunteerLink,e),VolunteerLink.prototype.render=function render(){var e=this.props,t=e.courseId,n=e.linkTrackingName,i=e.modalTrackingName,r=e.className,o=e.linkClassName,a=e.children,s=e.theme,l=this.state.showModal;return Object(ae.d)("span",{className:tt()("rc-VolunteerLink",r),css:Object(ae.c)({lineHeight:"20px",padding:s.spacing(0,0,0,16)})},a&&Object(ae.d)(cr,{variant:"ghost",size:"small",onClick:this.openModal,trackingName:n,className:tt()(o)},a),l&&Object(ae.d)(Xi.c,{courseId:t,trackingName:i,onClose:this.closeModal}))},VolunteerLink}(se.Component);ur.defaultProps={children:lr()("Volunteer to translate subtitles"),useDefaultTextStyle:!0,href:"#"};var dr=Object(nn.a)(ur);dr.displayName="VolunteerLink";var pr=dr,hr,mr,fr=function VideoTranscriptToolbarFocusedLex(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,r=e.itemId,o=e.courseId,a=e.hideVolunteerLink,s=void 0!==a&&a;return Object(ae.d)(se.Fragment,null,Object(ae.d)(ar,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:o,itemId:r}),!s&&Object(ae.d)(pr,{linkClassName:"volunteer-link",linkStyle:{fontSize:"14px"},linkTrackingName:"lecture_translation_link",modalTrackingName:"lecture_translation_modal",css:Object(ae.c)(hr||(hr=ie()(["\n            display: block;\n          "])))},D()("Help Us Translate")))},gr,vr,yr,br=function TranscriptTabContent(e){var t=e.isAdsPlaying,n=void 0!==t&&t,i=ri(),r=i.tracks,o=i.selectedTrack,a=i.onTrackSelected,s=i.courseId,l=i.hideVolunteerLink,c=i.computedItem,u=i.videoPlayer,d=i.highlights,p=i.onSaveHighlight,h=i.onRemoveHighlight;return se.createElement(ve.a,{container:!0,justifyContent:"center",css:function css(e){return Object(ae.c)(gr||(gr=ie()(["\n        gap: 32px;\n        padding-top: ",";\n\n        & .rc-VolunteerLink {\n          padding: ",";\n        }\n\n        "," {\n          flex-wrap: wrap;\n        }\n\n        "," {\n          gap: 0;\n\n          & .rc-Paragraph > button {\n            margin: ",";\n          }\n\n          & .rc-TranscriptHighlightButton {\n            left: 0;\n          }\n        }\n      "])),e.spacing(16),e.spacing(8,0,0),e.breakpoints.up("md"),e.breakpoints.down("sm"),e.spacing(0,16,0,0))}},se.createElement(ve.a,{item:!0,md:9,xs:12,css:Object(ae.c)(vr||(vr=ie()(["\n          max-width: 700px;\n        "])))},o&&se.createElement(Zi,{player:u,highlights:d,selectedTrack:o,onSaveHighlight:p,onRemoveHighlight:h,isAdsPlaying:n})),r&&se.createElement(ve.a,{item:!0,md:2,xs:12,css:function css(e){return Object(ae.c)(yr||(yr=ie()(["\n            margin-block: -16px;\n\n            "," {\n              margin-block: unset;\n              max-width: 700px;\n            }\n          "])),e.breakpoints.down("sm"))}},se.createElement(fr,{tracks:r,selectedTrack:o,onTrackSelected:a,hideVolunteerLink:l,courseId:s,itemId:null==c?void 0:c.id})))},Cr=Object(se.memo)(br),Sr=t("ML/G"),kr,wr=function trackCoreVideoEvent(e,t,n,i){Sr.a.pushV2(["core.video_access",{client:"web",generation:"phoenix",course_id:e,course_item_id:t,playable:n,download:i}])},Tr=function getVideoFilename(e,t){var n=t.name;return e||n||D()("lecture")},Pr=function onVideoSourceClick(e,t){var n=t.id;wr(e,n,!0,!0)},Er=function getVideoDownloadForResolution(e){var t=e.fileName,n=e.resolution,i=e.href,r=e.fileExtension,o=void 0===r?"mp4":r,a=e.onClick,s="download_video";return{displayName:D()("Lecture Video (#{resolution})",{resolution:n}),trackingName:s,href:i,download:"".concat(t,".").concat(o),fileType:o,onClick:a}},xr=function getVideoDownloadLinks(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mp4",r=getResolutionRange(e),o=te()(r,2),a=o[0],s=o[1],l=[a,s],c=Tr(t.name,t),u=function handleVideoSourceClick(){return Pr(n,t)};return l.map((function(t){var n=e.getSourcesForResolution(t),r=n&&n["video/mp4"];if(!r)return;return Er({fileName:c,resolution:t,href:r,fileExtension:i,onClick:u})}))},Or=function getSubtitleDownloadLink(e,t){var n=e.getSubtitlesUrl("subtitlesVtt",t),i=e.getSubtitlesLabel("subtitlesVtt",t);if(!n)return;return{displayName:D()("Subtitles (#{subtitleLanguage})",{subtitleLanguage:i}),trackingName:"focused_lex_download_subtitle",data:{languageCode:t,format:"vtt"},download:"subtitles-".concat(t,".vtt"),fileType:"WebVTT",href:n}},Ar=function getTranscriptDownloadLink(e,t){var n=e.getSubtitlesUrl("subtitlesTxt",t),i=e.getSubtitlesLabel("subtitlesTxt",t);return{href:n,download:"transcript.txt",trackingName:"focused_lex_download_transcript",data:{languageCode:t,format:"txt"},displayName:D()("Transcript (#{subtitleLanguage})",{subtitleLanguage:i}),fileType:"txt"}},jr=function getAssetDownloadLinks(e){return e.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,r=e.typeName;return{displayName:t,href:n,fileType:i,assetTypeName:r,trackingName:"focused_lex_download_asset",data:{asset_type:r},download:"asset"===r?t:void 0}}))},_r=function getLectureDownloadLinks(e){var t=e.videoContent,n=e.languageCode,i=e.computedItem,r=e.assetSources,o=e.courseId,a=t&&B(o),s=jr(r);if(!a)return s;var l=xr(t,i,o),c=Or(t,n),u=Ar(t,n);return[].concat(Me()(l),[c,u],Me()(s)).filter((function(e){return!!e}))},Mr=t("4fna"),Nr=t("VTx5"),Ir=function(e){function RecordFullStoryForVideo(){return e.apply(this,arguments)||this}yt()(RecordFullStoryForVideo,e);var t=RecordFullStoryForVideo.prototype;return t.componentDidMount=function componentDidMount(){var e,t=this.props,n=t.courseSlug,i=t.computedItem,r=t.autoplay,o=t.isVideoHighlightingEnabled,a=i.timeCommitment,s=i.id,l=i.contentSummary,c=i.weekNumber,u="lecture"===(null==l?void 0:l.typeName)&&!(null==l||null===(e=l.definition)||void 0===e||!e.hasInVideoAssessment);this.isExperimentEnabled()&&(Mr.a.init(),Mr.a.set({courseSlug:n,itemId:s,weekNumber:c,autoplay:r,timeCommitment:a,includesInVideoAssessment:u,isVideoHighlightingEnabled:o}))},t.componentWillUnmount=function componentWillUnmount(){this.isExperimentEnabled()&&Mr.a.endSession()},t.isExperimentEnabled=function isExperimentEnabled(){var e;if(this.props.isVideoHighlightingEnabled)return Nr.a.get("enableVideoHighlightsFullStory");return Nr.a.get("enableVideoLectureFullStory")},t.render=function render(){var e;return this.props.children},RecordFullStoryForVideo}(se.Component);Ir.defaultProps={isVideoHighlightingEnabled:!1};var Lr=Ir,Rr=t("9G2R"),Dr=t("Q64i"),Fr=t.n(Dr),ShareCTAV2=function(e){var t=e.buttonText,n=e.isDark,i=n?"#FFFFFF":"#0056D2",r=n?"ghostInvert":"ghost";return Object(ae.d)(Oe.a,{"data-testid":"ShareCTAV2",variant:r,size:"small",iconPosition:"before",icon:Object(ae.d)(hi.a,{size:"small",stroke:i,strokeWidth:".25"}),className:"rc-ShareCTAV2"},t||Fr()("Share"))},Vr=function ShareButtonWithModalVideo(e){var t=e.isDark,n=e.protocol,i=e.hostname,r=e.courseSlug,o=e.itemId,a=e.slug,s=(new g.a).setProtocol(n).setHost(i).setPath("/lecture/".concat(r,"/").concat(a,"-").concat(o)).toString();return se.createElement(Rr.a,K()({},e,{shareLink:s}),se.createElement(ShareCTAV2,{isDark:t}))},Br=Object(_n.a)((function(e){var t,n;return{protocol:null===(t=e.location)||void 0===t?void 0:t.protocol,hostname:null===(n=e.location)||void 0===n?void 0:n.hostname,courseSlug:e.params.courseSlug,itemId:e.params.item_id,slug:e.params.slug}}))(Vr);function SvgPauseFilled_extends(){return(SvgPauseFilled_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function SvgPauseFilled_objectWithoutProperties(e,t){if(null==e)return{};var n=SvgPauseFilled_objectWithoutPropertiesLoose(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(i=o[r],t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function SvgPauseFilled_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++){if(r=i[o],t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Hr=function SvgPauseFilled(e){var t=e.title,n=void 0===t?"Filled Pause":t,i=SvgPauseFilled_objectWithoutProperties(e,["title"]);return se.createElement(ct.a,SvgPauseFilled_extends({title:n},i,{viewBox:"0 0 48 48"}),se.createElement("polygon",{points:"0 42 16 42 16 0 0 0"}),se.createElement("polygon",{points:"24 42 40 42 40 0 24 0"}))};(Hr=Object(W.i)(Hr)).displayName="SvgPauseFilled";var Ur=Hr;function SvgPlayFilled_extends(){return(SvgPlayFilled_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function SvgPlayFilled_objectWithoutProperties(e,t){if(null==e)return{};var n=SvgPlayFilled_objectWithoutPropertiesLoose(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(i=o[r],t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function SvgPlayFilled_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++){if(r=i[o],t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wr=function SvgPlayFilled(e){var t=e.title,n=void 0===t?"Filled Play":t,i=SvgPlayFilled_objectWithoutProperties(e,["title"]);return se.createElement(ct.a,SvgPlayFilled_extends({title:n},i,{viewBox:"0 0 48 48"}),se.createElement("polygon",{points:"3 0 3 48 44 24"}))};(Wr=Object(W.i)(Wr)).displayName="SvgPlayFilled";var zr=Wr,qr=t("wi9P"),Kr,Qr=function(e){function VideoMiniControls(t){var n;return(n=e.call(this,t)||this).handlePlay=function(){n.setState({playing:!0})},n.handlePause=function(){n.setState({playing:!1})},n.handleToggle=function(){var e=n.props.videoPlayer;e.paused()?e.play():e.pause()},n.state={playing:!t.videoPlayer.paused()},n}yt()(VideoMiniControls,e);var t=VideoMiniControls.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.videoPlayer;e.on("play",this.handlePlay),e.on("pause",this.handlePause)},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.videoPlayer;e.off("play",this.handlePlay),e.off("pause",this.handlePause)},t.render=function render(){var e=this.state.playing,t=e?"pause_mini_video":"play_mini_video";return se.createElement(Sn.a,{trackingName:t,className:"rc-VideoMiniControls",onClick:this.handleToggle,"aria-label":D()("Mini video player")},se.createElement("div",{className:"video-mini-actions"},!e&&se.createElement(zr,{title:D()("Play"),size:30,color:"#fff"}),e&&se.createElement(Ur,{title:D()("Pause"),size:30,color:"#fff"})))},VideoMiniControls}(se.Component),Gr=t("RY+i"),Yr=992,Xr,Jr=function(e){function VideoMiniPlayer(t){var n;return(n=e.call(this,t)||this).handleIVQVisible=function(){n.setState({isIVQVisible:!0})},n.handleIVQHidden=function(){n.setState({isIVQVisible:!1})},n.handleTimeUpdate=function(){var e=n.state.videoEnded,t=n.props.videoPlayer;t&&(t.ended()?e||n.setState({videoEnded:!0}):e&&n.setState({videoEnded:!1}))},n.handleScroll=function(){n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout((function(){var e=n.state.isMainPlayerHidden,t=n.props.parentCb,i,r;if(n.getIsMainPlayerHidden())e||(n.setState({isMainPlayerHidden:!0}),void 0!==t&&t(!1),null===(i=(r=n.props).onMiniPlayerShow)||void 0===i||i.call(r,!1));else if(e){var o,a;n.setState({isMainPlayerHidden:!1}),void 0!==t&&t(!0),null===(o=(a=n.props).onMiniPlayerShow)||void 0===o||o.call(a,!0)}n.timeoutId=null}),5)},n.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},n.getIsMainPlayerHidden=function(){var e=n.props.videoRegion,t=n.getShowMiniPlayer(),i=n.getScrollContainer(),r,o;return(i?i.scrollTop:0)>=(o=t?n.videoPlaceholder?n.videoPlaceholder.getBoundingClientRect().height:500:e?e.getBoundingClientRect().height:500)},n.getShowMiniPlayer=function(){var e,t=n.state,i=t.isMainPlayerHidden,r=t.isIVQVisible,o=(null===(e=window)||void 0===e?void 0:e.innerWidth)>=Yr;return i&&!r&&o},n.attachVideoPlayerListeners=function(e){e&&(e.on("timeupdate",n.handleTimeUpdate),e.emitter.on("videoQuizView.hidden",n.handleIVQHidden),e.emitter.on("videoQuizView.visible",n.handleIVQVisible))},n.detachVideoPlayerListeners=function(e){e&&(e.off("timeupdate",n.handleTimeUpdate),e.emitter.off("videoQuizView.hidden",n.handleIVQHidden),e.emitter.off("videoQuizView.visible",n.handleIVQVisible))},n.timeoutId=null,n.state={videoEnded:!1,isIVQVisible:!1,isMainPlayerHidden:!1},n}yt()(VideoMiniPlayer,e);var t=VideoMiniPlayer.prototype;return t.componentDidMount=function componentDidMount(){var e,t=this.props.videoPlayer,n=this.getScrollContainer(),i=!!((null===(e=window)||void 0===e?void 0:e.innerWidth)>Yr);n&&i&&n.addEventListener("scroll",this.handleScroll),t&&this.attachVideoPlayerListeners(t)},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,n=t.videoPlayer,i=t.hasModalOpen;n&&!e.videoPlayer?this.detachVideoPlayerListeners(n):!n&&e.videoPlayer&&this.attachVideoPlayerListeners(e.videoPlayer),n&&i&&n.pause()},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.videoPlayer,t=this.getScrollContainer();t&&t.removeEventListener("scroll",this.handleScroll),e&&this.detachVideoPlayerListeners(e)},t.render=function render(){var e=this,t=this.props,n=t.children,i=t.layoutMode,r=t.videoRegion,o=t.videoPlayer,a=t.isAdsPlaying,s=this.state.videoEnded,l=this.getShowMiniPlayer(),c="fill"===i?{width:"100%",height:"100%"}:{};return se.createElement("div",{className:tt()("rc-VideoMiniPlayer",{mini:l}),style:c},se.createElement("div",{className:"video-main-player-container",style:c},n),l&&r&&se.createElement("div",{ref:function ref(t){e.videoPlaceholder=t},className:"video-placeholder",style:{width:r.getBoundingClientRect().width,height:r.getBoundingClientRect().height}}),l&&o&&!s&&!a&&se.createElement(Qr,{videoPlayer:o}))},VideoMiniPlayer}(se.Component),Zr=t("lSNA"),$r=t.n(Zr),eo=t("eCGq"),to=t.n(eo),no=t("1QEB"),io=t.n(no),ro,oo="learnerRedPandas_itemPage";null===(ro=l.a.addDefaults)||void 0===ro||ro.call(l.a,[io.a]);var ao,so={get:function get(e,t){return l.a.get("learnerRedPandas_itemPage",e,t)},preview:function preview(e,t,n){return l.a.preview("learnerRedPandas_itemPage",e,t)}},lo=function isAutoplayOnByDefault(){var e;return"outsideDefaultOn"===so.get("autoplayToggleLocationAndDefault")},co=function getDefaults(){var e;return{playbackRate:1,volume:1,subtitleLanguage:"none",autoplay:lo(),didSetAutoplayDefault:!0,key:"userPreferences"}},uo,po=new(function(){function UserPreferences(){var e=this;this.ensureAndGetStoredPreferences=function(){var t=e.getStoredPreferences(),n=co(),i=t&&!t.didSetAutoplayDefault&&n.autoplay;if(t){var r=Z()(Z()({},t),{},{autoplay:!!i||t.autoplay,didSetAutoplayDefault:!0});to.a.set(e.makeStorageKey(),r)}else to.a.set(e.makeStorageKey(),n);return e.getStoredPreferences()},this.makeStorageKey=function(){return"".concat(me.a.get().id,".userPreferences")},this.getStoredPreferences=function(){return to.a.get(e.makeStorageKey())}}var e=UserPreferences.prototype;return e.get=function get(e){var t;return this.ensureAndGetStoredPreferences()[e]},e.set=function set(e,t){var n=this.ensureAndGetStoredPreferences(),i=Z()(Z()({},n),{},$r()({},e,t));to.a.set(this.makeStorageKey(),i)},UserPreferences}()),ho=t("15pW"),mo,fo=function(){function VideoContent(e){var t=e.videoId,n=e.sources,i=e.posters,r=e.subtitles,o=e.subtitlesVtt,a=e.subtitlesTxt,s=e.itemMetadata;this.videoId=t,this.sources=n,this.posters=i,this.subtitles=r,this.subtitlesVtt=o,this.subtitlesTxt=a,this.itemMetadata=s,this.name=s.get("name")}var e=VideoContent.prototype;return e.getSources=function getSources(){return this.getSourcesForResolution(ho.d.defaultNormalBandwidthVideoPlayerResolution)},e.getSourcesForResolution=function getSourcesForResolution(e){return this.sources[e]},e.getPosterForResolution=function getPosterForResolution(e){return this.posters[e]},e.getCaptionForLanguage=function getCaptionForLanguage(e){return this.subtitles[e]},e.getSubtitlesUrl=function getSubtitlesUrl(e,t){var n=this[e][t];return n&&n.url},e.getSubtitlesLabel=function getSubtitlesLabel(e,t){var n=this[e][t];return n&&n.label},VideoContent}(),go=t("JJfJ"),vo=t("qenF"),yo=t("CY7t"),bo=t("N8J5"),Co=t.n(bo),So=t("gP3f"),ko=function(e){function AutoMinimizeOverlay(t){var n;return(n=e.call(this,t)||this).cancelTransition=function(e){e&&e.stopPropagation(),n.stopTimer(),n.setState({canceled:!0})},n.handleNextTransition=function(e){null==e||e.stopPropagation();var t=n.props.nextItem,i=t.getContent().typeName,r;n.stopTimer(),!("lecture"===i&&Object(vo.f)()&&(null==t||!t.isLocked()))&&Pe.c.exitFullScreen()},n.state={countdownTime:t.defaultCountdown||10,showTimer:!1,canceled:!1},n.intervalId=null,n}yt()(AutoMinimizeOverlay,e);var t=AutoMinimizeOverlay.prototype;return t.componentDidMount=function componentDidMount(){var e;this.props.isAutoMinimizeEnabled&&(this.intervalId=window.setInterval(this.countdown.bind(this),1e3),this.setState({showTimer:!0}))},t.componentWillUnmount=function componentWillUnmount(){this.stopTimer()},t.truncate=function truncate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(e.length>t)return e.substring(0,t)+"...";return e},t.countdown=function countdown(e){var t=this.state.countdownTime;if(1===t){var n,i=this.props.nextItem;this.handleNextTransition(),void 0!==e&&e(),null===(n=this.props.router)||void 0===n||n.push(i.getLink())}else this.setState({countdownTime:t-1})},t.stopTimer=function stopTimer(){this.intervalId&&clearInterval(this.intervalId),this.setState({showTimer:!1})},t.preventClick=function preventClick(e){e.stopPropagation()},t.render=function render(){var e=this.props,t=e.nextItem,n=e.noteOpen,i=this.state,r=i.countdownTime,o=i.showTimer,a=i.canceled;if(!t)return null;var s=this.truncate(t.getName()),l=t.getTimeCommitment(),c=t.getContent().typeName,u=Object(go.x)(l);return se.createElement("div",{className:tt()("rc-AutoMinimizeOverlay","horizontal-box","align-items-absolute-center"),onClick:this.preventClick,style:{margin:n?"":"0px -130px 0px 0px"}},se.createElement("div",{className:"overlay-display horizontal-box"},se.createElement("div",{className:"next-item-button vertical-box"},se.createElement("span",{className:"autominimize-video-icon"},se.createElement(Ci.b,{onClick:this.handleNextTransition,href:t.getLink(),trackingName:"video_next_item_overlay",id:"next-button"},se.createElement(yo.a,{size:56,type:c,style:{fill:lt.b.white}})))),se.createElement("div",{className:"next-item-display vertical-box minimize-vertical-box"},se.createElement("div",{className:"item-info vertical-box",style:{marginTop:"33"}},se.createElement("span",{className:"up-next"},Co()("Up Next")),se.createElement("span",{style:{width:"200px"}},se.createElement(Ci.b,{href:t.getLink(),onClick:this.handleNextTransition,trackingName:"video_next_item_overlay",className:"next-item-name",style:{color:lt.b.white}},s)),se.createElement("span",{className:"next-item-duration",style:{width:"200px"}},u),o&&!a&&se.createElement("span",{style:{width:"200px"}},se.createElement(At.a,{message:Co()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:r})),!o&&!a&&se.createElement("span",{className:"minimize-text-timer",style:{width:"200px"}},se.createElement(At.a,{message:Co()('<span class="timer-red">Autoplay Disabled</span>'),countdownTime:r}))),se.createElement("div",{className:"minimize-vertical-box horizontal-minimize-box",style:{marginLeft:"-33"}},t&&se.createElement(Ci.b,{href:t.getLink(),onClick:this.handleNextTransition,trackingName:"video_next_item_overlay",className:"next-item-cta-button",id:"start-button",style:{color:lt.b.white}},se.createElement("span",{className:"autominimize-text"},Co()("Start"))),t&&o&&se.createElement(Ci.b,{href:"#",onClick:this.cancelTransition,trackingName:"video_next_item_overlay_cancel",className:"next-item-cta-button",id:"cancel-button",style:{marginLeft:"1rem",color:lt.b.white}},se.createElement("span",{className:"autominimize-divider"},Co()("|")),se.createElement("span",{className:"autominimize-text"},Co()("Cancel")))))))},AutoMinimizeOverlay}(se.Component),wo=Object(_n.a)((function(e){return{router:e}}))(ko),To=t("k8Y/"),Po=t.n(To),Eo=t("bt/X"),xo=t.n(Eo),Oo=t("F/us"),Ao=t.n(Oo),jo=t("PTN7"),_o=t.n(jo),Mo=t("vgmO"),No=t.n(Mo),Io=t("7zRj"),Lo=t.n(Io),Ro="6.9.0";function getAds(e){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:Ro,reset:function reset(){e.ads.disableNextSnapshotRestore=!1,e.ads._contentEnding=!1,e.ads._contentHasEnded=!1,e.ads.snapshot=null,e.ads.adType=null,e.ads._hasThereBeenALoadedData=!1,e.ads._hasThereBeenALoadedMetaData=!1,e.ads._cancelledPlay=!1,e.ads._shouldBlockPlay=!1,e.ads._playBlocked=!1,e.ads.nopreroll_=!1,e.ads.nopostroll_=!1,e.ads._playRequested=!1},startLinearAdMode:function startLinearAdMode(){e.ads._state.startLinearAdMode()},endLinearAdMode:function endLinearAdMode(){e.ads._state.endLinearAdMode()},skipLinearAdMode:function skipLinearAdMode(){e.ads._state.skipLinearAdMode()},stitchedAds:function stitchedAds(e){return void 0!==e&&(_o.a.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!e),this.settings.stitchedAds},videoElementRecycled:function videoElementRecycled(){if(e.ads.shouldPlayContentBehindAd(e))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var t=e.tech_.src()!==this.snapshot.src,n=e.currentSrc()!==this.snapshot.currentSrc;return t||n},isLive:function isLive(t){if(void 0===t&&(t=e),"boolean"==typeof t.ads.settings.contentIsLive)return t.ads.settings.contentIsLive;if(t.duration()===1/0)return!0;if("8"===_o.a.browser.IOS_VERSION&&0===t.duration())return!0;return!1},shouldPlayContentBehindAd:function shouldPlayContentBehindAd(t){if(void 0===t&&(t=e),t)return!!t.ads.settings.liveCuePoints&&(!_o.a.browser.IS_IOS&&!_o.a.browser.IS_ANDROID&&t.duration()===1/0);throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function shouldTakeSnapshots(t){return void 0===t&&(t=e),!this.shouldPlayContentBehindAd(t)&&!this.stitchedAds()},isInAdMode:function isInAdMode(){return this._state.isAdState()},isWaitingForAdBreak:function isWaitingForAdBreak(){return this._state.isWaitingForAdBreak()},isContentResuming:function isContentResuming(){return this._state.isContentResuming()},isAdPlaying:function isAdPlaying(){return this._state.inAdBreak()},inAdBreak:function inAdBreak(){return this._state.inAdBreak()},removeNativePoster:function removeNativePoster(){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},debug:function debug(){if(this.settings.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&"string"==typeof t[0]?_o.a.log("ADS: "+t[0]):_o.a.log.apply(_o.a,["ADS:"].concat(t))}}}}var Do=function cancelEvent(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},Fo=function prefixEvent(e,t,n){Do(e,n),e.trigger({type:t+n.type,originalEvent:n})},Vo=function handlePlaying(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&Fo(e,"content",t):Fo(e,"ad",t))},Bo=function handleEnded(e,t){e.ads.isInAdMode()?e.ads.isContentResuming()?(Do(e,t),e.trigger("resumeended")):Fo(e,"ad",t):e.ads._contentHasEnded||e.ads.stitchedAds()||(Fo(e,"content",t),e.trigger("readyforpostroll"))},Ho=function handleLoadEvent(e,t){if("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData)return;if(e.ads.inAdBreak())Fo(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;Fo(e,"content",t)}},Uo=function handlePlay(e,t){e.ads.inAdBreak()?Fo(e,"ad",t):e.ads.isContentResuming()&&Fo(e,"content",t)};function redispatch(e){"playing"===e.type?Vo(this,e):"ended"===e.type?Bo(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?Ho(this,e):"play"===e.type?Uo(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?Fo(this,"content",e):Fo(this,"ad",e))}function initializeContentupdate(e){e.ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1;var t=function checkSrc(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.ads._seenInitialLoadstart&&e.trigger({type:"contentchanged"}),e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}};e.on("loadstart",t)}var Wo={},zo=function proxyTcfApi(_){if(_o.a.dom.isInFrame()&&"function"!=typeof No.a.__tcfapi){for(var e=No.a,t,n={};e;){try{if(e.frames.__tcfapiLocator){t=e;break}}catch(e){}if(e===No.a.top)break;e=e.parent}if(!t)return;No.a.__tcfapi=function(e,i,r,o){var a=Math.random()+"",s={__tcfapiCall:{command:e,parameter:o,version:i,callId:a}};n[a]=r,t.postMessage(s,"*")},No.a.addEventListener("message",(function(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var i=t.__tcfapiReturn;i&&"function"==typeof n[i.callId]&&(n[i.callId](i.returnValue,i.success),n[i.callId]=null)}),!1)}},qo=function listenToTcf(){zo(),"function"==typeof No.a.__tcfapi&&No.a.__tcfapi("addEventListener",2,(function(e,t){t&&(Wo=e)}))},Ko=function uriEncodeIfNeeded(e,t){if(t)return encodeURIComponent(e);return e},Qo=function customFields(e,t,n){if(e&&e[n])for(var i=e[n],r=Object.keys(i),o=0;o<r.length;o++){var a;t["{mediainfo."+n+"."+r[o]+"}"]=i[r[o]]}};function adMacroReplacement(e,t,n){var i=this,r={};e=e.replace(/{([^}=]+)=([^}]+)}/g,(function(e,t,n){return r["{"+t+"}"]=n,"{"+t+"}"})),void 0===t&&(t=!1);var o={};for(var a in void 0!==n&&(o=n),o["{player.id}"]=this.options_["data-player"]||this.id_,o["{player.height}"]=this.currentHeight(),o["{player.width}"]=this.currentWidth(),o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{player.duration}"]=this.duration(),o["{player.pageUrl}"]=_o.a.dom.isInFrame()?Lo.a.referrer:No.a.location.href,o["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",o["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=Lo.a.referrer,o["{window.location.href}"]=No.a.location.href,o["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach((function(e){i.mediainfo&&i.mediainfo[e]?o["{mediainfo."+e+"}"]=i.mediainfo[e]:r["{mediainfo."+e+"}"]?o["{mediainfo."+e+"}"]=r["{mediainfo."+e+"}"]:o["{mediainfo."+e+"}"]=""})),Qo(this.mediainfo,o,"custom_fields"),Qo(this.mediainfo,o,"customFields"),Object.keys(Wo).forEach((function(e){o["{tcf."+e+"}"]=Wo[e]})),o["{tcf.gdprAppliesInt}"]=Wo.gdprApplies?1:0,o)e=e.split(a).join(Ko(o[a],t));for(var s in e=e.replace(/{pageVariable\.([^}]+)}/g,(function(e,n){for(var i,o=No.a,a=n.split("."),s=0;s<a.length;s++)s===a.length-1?i=o[a[s]]:o=o[a[s]];var l=typeof i;if(null===i)return"null";if(void 0===i){if(r["{pageVariable."+n+"}"])return r["{pageVariable."+n+"}"];return _o.a.log.warn('Page variable "'+n+'" not found'),""}if("string"!==l&&"number"!==l&&"boolean"!==l)return _o.a.log.warn('Page variable "'+n+'" is not a supported type'),"";return Ko(String(i),t)})),r)e=e.replace(s,r[s]);return e}var Go={processMetadataTracks:function(e,t){for(var n=e.textTracks(),i=function setModeAndProcess(n){"metadata"===n.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(n),t(e,n))},r=0;r<n.length;r++)i(n[r]);n.addEventListener("addtrack",(function(e){i(e.track)}))},setMetadataTrackMode:function(e){return},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id}},Yo=function cueAlreadySeen(e,t){return void 0!==t&&e.ads.includedCues[t]},Xo=function setCueAlreadySeen(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)};function initCancelContentPlay(e,t){t&&_o.a.log("Using cancelContentPlay to block content playback"),e.on("play",cancelContentPlay)}function cancelContentPlay(){if(!1===this.ads._shouldBlockPlay)return;this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0}Go.processAdTrack=function(e,t,n,i){e.ads.includedCues={};for(var r=0;r<t.length;r++){var o=t[r],a=this.getSupportedAdCue(e,o);if(!this.isSupportedAdCue(e,o))return void _o.a.log.warn("Skipping as this is not a supported ad cue.",o);var s=this.getCueId(e,o),l=o.startTime;if(Yo(e,s))return void _o.a.log("Skipping ad already seen with ID "+s);i&&i(e,a,s,l),n(e,a,s,l),Xo(e,s)}};var Jo={},Zo=_o.a;Jo.isMiddlewareMediatorSupported=function(){if(Zo.browser.IS_IOS||Zo.browser.IS_ANDROID)return!1;if(Zo.use&&Zo.middleware&&Zo.middleware.TERMINATOR)return!0;return!1},Jo.playMiddleware=function(e){return{setSource:function setSource(e,t){t(null,e)},callPlay:function callPlay(){if(e.ads&&!0===e.ads._shouldBlockPlay)return e.ads.debug("Using playMiddleware to block content playback"),e.ads._playBlocked=!0,Zo.middleware.TERMINATOR},play:function play(t,n){e.ads&&e.ads._playBlocked&&t?(e.ads.debug("Play call to Tech was terminated."),e.trigger("play"),e.addClass("vjs-has-started"),e.ads._playBlocked=!1):n&&n.catch&&n.catch((function(t){"NotAllowedError"!==t.name||_o.a.browser.IS_SAFARI||e.trigger("pause")}))}}},Jo.testHook=function(e){Zo=e};var $o=Jo.playMiddleware,ea=Jo.isMiddlewareMediatorSupported,ta=function hasAdsPlugin(){if(_o.a.getPlugin)return Boolean(_o.a.getPlugin("ads"));var e=_o.a.getComponent("Player");return Boolean(e&&e.prototype.ads)};function register(e){if(ta(_o.a))return!1;var t;return(_o.a.registerPlugin||_o.a.plugin)("ads",e),ea()&&!_o.a.usingContribAdsMiddleware_&&(_o.a.use("*",$o),_o.a.usingContribAdsMiddleware_=!0,_o.a.log.debug("Play middleware has been registered with videojs")),!0}var na=function(){function States(){}return States.getState=function getState(e){if(!e)return;if(States.states_&&States.states_[e])return States.states_[e]},States.registerState=function registerState(e,t){if("string"!=typeof e||!e)throw new Error('Illegal state name, "'+e+'"; must be a non-empty string.');return States.states_||(States.states_={}),States.states_[e]=t,t},States}(),ia=function(){function State(e){this.player=e}State._getName=function _getName(){return"Anonymous State"};var e=State.prototype;return e.transitionTo=function transitionTo(e){var t=this.player;this.cleanup(t);var n=new e(t);t.ads._state=n,t.ads.debug(this.constructor._getName()+" -> "+n.constructor._getName());for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];n.init.apply(n,[t].concat(r))},e.init=function init(){},e.cleanup=function cleanup(){},e.onPlay=function onPlay(){},e.onPlaying=function onPlaying(){},e.onEnded=function onEnded(){},e.onAdEnded=function onAdEnded(){},e.onAdsReady=function onAdsReady(){_o.a.log.warn("Unexpected adsready event")},e.onAdsError=function onAdsError(){},e.onAdsCanceled=function onAdsCanceled(){},e.onAdTimeout=function onAdTimeout(){},e.onAdStarted=function onAdStarted(){},e.onContentChanged=function onContentChanged(){},e.onContentResumed=function onContentResumed(){},e.onReadyForPostroll=function onReadyForPostroll(){_o.a.log.warn("Unexpected readyforpostroll event")},e.onNoPreroll=function onNoPreroll(){},e.onNoPostroll=function onNoPostroll(){},e.startLinearAdMode=function startLinearAdMode(){_o.a.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.endLinearAdMode=function endLinearAdMode(){_o.a.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.skipLinearAdMode=function skipLinearAdMode(){_o.a.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.isAdState=function isAdState(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},e.isWaitingForAdBreak=function isWaitingForAdBreak(){return!1},e.isContentResuming=function isContentResuming(){return!1},e.inAdBreak=function inAdBreak(){return!1},e.handleEvent=function handleEvent(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"readyforpostroll"===e?this.onReadyForPostroll(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e?this.onNoPostroll(t):"adended"===e&&this.onAdEnded(t)},State}();function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}na.registerState("State",ia);var ra=function(e){function AdState(t){var n;return(n=e.call(this,t)||this).contentResuming=!1,n.waitingForAdBreak=!1,n}_inheritsLoose(AdState,e);var t=AdState.prototype;return t.isAdState=function isAdState(){return!0},t.onPlaying=function onPlaying(){var e=na.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},t.onContentResumed=function onContentResumed(){var e=na.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},t.isWaitingForAdBreak=function isWaitingForAdBreak(){return this.waitingForAdBreak},t.isContentResuming=function isContentResuming(){return this.contentResuming},t.inAdBreak=function inAdBreak(){return!0===this.player.ads._inLinearAdMode},AdState}(ia);na.registerState("AdState",ra);var oa=function(e){function ContentState(){return e.apply(this,arguments)||this}_inheritsLoose(ContentState,e);var t=ContentState.prototype;return t.isAdState=function isAdState(){return!1},t.onContentChanged=function onContentChanged(e){var t=na.getState("BeforePreroll"),n=na.getState("Preroll");e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(t):(this.transitionTo(n,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},ContentState}(ia);na.registerState("ContentState",oa);var aa,sa=function(e){function AdsDone(){return e.apply(this,arguments)||this}_inheritsLoose(AdsDone,e),AdsDone._getName=function _getName(){return"AdsDone"};var t=AdsDone.prototype;return t.init=function init(e){e.ads._contentHasEnded=!0,e.trigger("ended")},t.startLinearAdMode=function startLinearAdMode(){_o.a.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},AdsDone}(na.getState("ContentState")),la;function getPlayerSnapshot(e){var t;t=_o.a.browser.IS_IOS&&e.ads.isLive(e)&&e.seekable().length>0?e.currentTime()-e.seekable().end(0):e.currentTime();var n=e.$(".vjs-tech"),i=e.textTracks?e.textTracks():[],r=[],o={ended:e.ended(),currentSrc:e.currentSrc(),sources:e.currentSources(),src:e.tech_.src(),currentTime:t,type:e.currentType()};n&&(o.style=n.getAttribute("style"));for(var a=0;a<i.length;a++){var s=i[a];r.push({track:s,mode:s.mode}),s.mode="disabled"}return o.suppressedTracks=r,o}function restorePlayerSnapshot(e,t){var n=e.ads.snapshot;if(void 0===t&&(t=function callback(){}),!0===e.ads.disableNextSnapshotRestore)return e.ads.disableNextSnapshotRestore=!1,delete e.ads.snapshot,void t();var i=e.$(".vjs-tech"),r=20,o=n.suppressedTracks,a,s=function restoreTracks(){for(var e=0;e<o.length;e++)(a=o[e]).track.mode=a.mode},l=function resume(){var t;if(_o.a.browser.IS_IOS&&e.ads.isLive(e)){if(n.currentTime<0&&(t=e.seekable().length>0?e.seekable().end(0)+n.currentTime:e.currentTime(),e.currentTime(t)),e.paused()){var i=e.play();i&&i.catch&&i.catch((function(e){_o.a.log.warn("Play promise rejected in IOS snapshot resume",e)}))}}else if(n.ended)e.currentTime(e.duration());else{e.currentTime(n.currentTime);var r=e.play();r&&r.catch&&r.catch((function(e){_o.a.log.warn("Play promise rejected in snapshot resume",e)}))}e.ads.shouldRemoveAutoplay_&&(e.autoplay(!1),e.ads.shouldRemoveAutoplay_=!1)},c=function tryToResume(){if(e.off("contentcanplay",tryToResume),la&&e.clearTimeout(la),(i=e.el().querySelector(".vjs-tech")).readyState>1)return l();if(void 0===i.seekable)return l();if(i.seekable.length>0)return l();if(r--)e.setTimeout(tryToResume,50);else try{l()}catch(e){_o.a.log.warn("Failed to resume the content after an advertisement",e)}};if("style"in n&&i.setAttribute("style",n.style||""),e.ads.videoElementRecycled())e.one("resumeended",(function(){delete e.ads.snapshot,t()})),e.one("contentloadedmetadata",s),_o.a.browser.IS_IOS&&!e.autoplay()&&(e.autoplay(!0),e.ads.shouldRemoveAutoplay_=!0),e.src(n.sources),e.one("contentcanplay",c),la=e.setTimeout(c,2e3);else{if(s(),!e.ended()){var u=e.play();u&&u.catch&&u.catch((function(e){_o.a.log.warn("Play promise rejected in snapshot restore",e)}))}delete e.ads.snapshot,t()}}function videojs_contrib_ads_es_start(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldTakeSnapshots()&&(e.ads.snapshot=getPlayerSnapshot(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()}function videojs_contrib_ads_es_end(e,t){e.ads.debug("Ending ad break"),void 0===t&&(t=function callback(){}),e.ads.adType=null,e.ads._inLinearAdMode=!1,e.trigger("adend"),e.removeClass("vjs-ad-playing"),e.ads.isLive(e)&&e.addClass("vjs-live"),e.ads.shouldTakeSnapshots()?restorePlayerSnapshot(e,t):(e.volume(e.ads.preAdVolume_),t())}na.registerState("AdsDone",sa);var ca={start:videojs_contrib_ads_es_start,end:videojs_contrib_ads_es_end},ua,da=function(e){function Preroll(){return e.apply(this,arguments)||this}_inheritsLoose(Preroll,e),Preroll._getName=function _getName(){return"Preroll"};var t=Preroll.prototype;return t.init=function init(e,t,n){if(this.waitingForAdBreak=!0,e.addClass("vjs-ad-loading"),n||e.ads.nopreroll_)return this.resumeAfterNoPreroll(e);var i=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(i=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout((function(){e.trigger("adtimeout")}),i),t?this.handleAdsReady():this.adsReady=!1},t.onAdsReady=function onAdsReady(e){e.ads.inAdBreak()?_o.a.log.warn("Unexpected adsready event (Preroll)"):(e.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},t.handleAdsReady=function handleAdsReady(){this.adsReady=!0,this.readyForPreroll()},t.afterLoadStart=function afterLoadStart(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",(function(){t.ads.debug("Received loadstart event"),e()})))},t.noPreroll=function noPreroll(){var e=this;this.afterLoadStart((function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)}))},t.readyForPreroll=function readyForPreroll(){var e=this.player;this.afterLoadStart((function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")}))},t.onAdsCanceled=function onAdsCanceled(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart((function(){t.resumeAfterNoPreroll(e)}))},t.onAdsError=function onAdsError(e){var t=this;_o.a.log("adserror (Preroll)"),this.inAdBreak()?e.ads.endLinearAdMode():this.afterLoadStart((function(){t.resumeAfterNoPreroll(e)}))},t.startLinearAdMode=function startLinearAdMode(){var e=this.player;!this.adsReady||e.ads.inAdBreak()||this.isContentResuming()?_o.a.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(this.clearTimeout(e),e.ads.adType="preroll",this.waitingForAdBreak=!1,ca.start(e),e.ads._shouldBlockPlay=!1)},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),e.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,ca.end(e))},t.skipLinearAdMode=function skipLinearAdMode(){var e=this,t=this.player;t.ads.inAdBreak()||this.isContentResuming()?_o.a.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart((function(){t.trigger("adskip"),t.ads.debug("skipLinearAdMode (Preroll)"),e.resumeAfterNoPreroll(t)}))},t.onAdTimeout=function onAdTimeout(e){var t=this;this.afterLoadStart((function(){e.ads.debug("adtimeout (Preroll)"),t.resumeAfterNoPreroll(e)}))},t.onNoPreroll=function onNoPreroll(e){e.ads.inAdBreak()||this.isContentResuming()?_o.a.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},t.resumeAfterNoPreroll=function resumeAfterNoPreroll(e){if(this.contentResuming=!0,e.ads._shouldBlockPlay=!1,this.cleanupPartial(e),e.ads._playRequested||e.ads._pausedOnContentupdate)if(e.paused()){e.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)");var t=e.play();t&&t.then&&t.then(null,(function(e){}))}else e.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"),e.trigger("play"),e.trigger("playing")},t.cleanup=function cleanup(e){e.ads._hasThereBeenALoadStartDuringPlayerLife||_o.a.log.warn("Leaving Preroll state before loadstart event can cause issues."),this.cleanupPartial(e)},t.cleanupPartial=function cleanupPartial(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming"),this.clearTimeout(e)},t.clearTimeout=function clearTimeout(e){e.clearTimeout(this._timeout),this._timeout=null},Preroll}(na.getState("AdState"));na.registerState("Preroll",da);var pa,ha=function(e){function BeforePreroll(){return e.apply(this,arguments)||this}_inheritsLoose(BeforePreroll,e),BeforePreroll._getName=function _getName(){return"BeforePreroll"};var t=BeforePreroll.prototype;return t.init=function init(e){this.adsReady=!1,this.shouldResumeToContent=!1,e.ads._shouldBlockPlay=!e.ads.settings.allowVjsAutoplay||!e.autoplay()},t.onAdsReady=function onAdsReady(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},t.onPlay=function onPlay(e){var t=na.getState("Preroll");e.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(t,this.adsReady,this.shouldResumeToContent)},t.onAdsCanceled=function onAdsCanceled(e){e.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},t.onAdsError=function onAdsError(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},t.onNoPreroll=function onNoPreroll(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},t.skipLinearAdMode=function skipLinearAdMode(){var e=this.player;e.trigger("adskip"),e.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},t.onContentChanged=function onContentChanged(){this.init(this.player)},BeforePreroll}(na.getState("ContentState"));na.registerState("BeforePreroll",ha);var ma,fa=function(e){function Midroll(){return e.apply(this,arguments)||this}_inheritsLoose(Midroll,e),Midroll._getName=function _getName(){return"Midroll"};var t=Midroll.prototype;return t.init=function init(e){e.ads.adType="midroll",ca.start(e),e.addClass("vjs-ad-loading")},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,e.addClass("vjs-ad-content-resuming"),e.removeClass("vjs-ad-loading"),ca.end(e))},t.onAdsError=function onAdsError(e){this.inAdBreak()&&e.ads.endLinearAdMode()},t.cleanup=function cleanup(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},Midroll}(na.getState("AdState"));na.registerState("Midroll",fa);var ga,va=function(e){function Postroll(){return e.apply(this,arguments)||this}_inheritsLoose(Postroll,e),Postroll._getName=function _getName(){return"Postroll"};var t=Postroll.prototype;return t.init=function init(e){if(this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_){this.resumeContent(e);var t=na.getState("AdsDone");this.transitionTo(t)}else{e.addClass("vjs-ad-loading");var n=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(n=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout((function(){e.trigger("adtimeout")}),n)}},t.startLinearAdMode=function startLinearAdMode(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?_o.a.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(e.ads.adType="postroll",e.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,ca.start(e))},t.onAdStarted=function onAdStarted(e){e.removeClass("vjs-ad-loading")},t.endLinearAdMode=function endLinearAdMode(){var e=this,t=this.player,n=na.getState("AdsDone");this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),ca.end(t,(function(){e.transitionTo(n)})))},t.skipLinearAdMode=function skipLinearAdMode(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?_o.a.log.warn("Unexpected skipLinearAdMode invocation"):(e.ads.debug("Postroll abort (skipLinearAdMode)"),e.trigger("adskip"),this.abort(e))},t.onAdTimeout=function onAdTimeout(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort(e)},t.onAdsError=function onAdsError(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()?e.ads.endLinearAdMode():this.abort(e)},t.onContentChanged=function onContentChanged(e){if(this.isContentResuming()){var t=na.getState("BeforePreroll");this.transitionTo(t)}else if(!this.inAdBreak()){var n=na.getState("Preroll");this.transitionTo(n)}},t.onNoPostroll=function onNoPostroll(e){this.isContentResuming()||this.inAdBreak()?_o.a.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(e)},t.resumeContent=function resumeContent(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},t.abort=function abort(e){var t=na.getState("AdsDone");this.resumeContent(e),e.removeClass("vjs-ad-loading"),this.transitionTo(t)},t.cleanup=function cleanup(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},Postroll}(na.getState("AdState"));na.registerState("Postroll",va);var ya,ba=function(e){function ContentPlayback(){return e.apply(this,arguments)||this}_inheritsLoose(ContentPlayback,e),ContentPlayback._getName=function _getName(){return"ContentPlayback"};var t=ContentPlayback.prototype;return t.init=function init(e){e.ads._shouldBlockPlay=!1},t.onAdsReady=function onAdsReady(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},t.onReadyForPostroll=function onReadyForPostroll(e){var t=na.getState("Postroll");e.ads.debug("Received readyforpostroll event"),this.transitionTo(t)},t.startLinearAdMode=function startLinearAdMode(){var e=na.getState("Midroll");this.transitionTo(e)},ContentPlayback}(na.getState("ContentState"));na.registerState("ContentPlayback",ba);var Ca,Sa=function(e){function StitchedContentPlayback(){return e.apply(this,arguments)||this}_inheritsLoose(StitchedContentPlayback,e),StitchedContentPlayback._getName=function _getName(){return"StitchedContentPlayback"};var t=StitchedContentPlayback.prototype;return t.init=function init(){this.player.ads._shouldBlockPlay=!1},t.onContentChanged=function onContentChanged(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},t.startLinearAdMode=function startLinearAdMode(){var e=na.getState("StitchedAdRoll");this.transitionTo(e)},StitchedContentPlayback}(na.getState("ContentState"));na.registerState("StitchedContentPlayback",Sa);var ka,wa=function(e){function StitchedAdRoll(){return e.apply(this,arguments)||this}_inheritsLoose(StitchedAdRoll,e),StitchedAdRoll._getName=function _getName(){return"StitchedAdRoll"};var t=StitchedAdRoll.prototype;return t.init=function init(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",ca.start(this.player)},t.onPlaying=function onPlaying(){},t.onContentResumed=function onContentResumed(){},t.onAdEnded=function onAdEnded(){this.endLinearAdMode(),this.player.trigger("ended")},t.endLinearAdMode=function endLinearAdMode(){var e=na.getState("StitchedContentPlayback");ca.end(this.player),this.transitionTo(e)},StitchedAdRoll}(na.getState("AdState"));na.registerState("StitchedAdRoll",wa);var Ta=Jo.isMiddlewareMediatorSupported,Pa=_o.a.getTech("Html5").Events,Ea={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:_o.a.options.normalizeAutoplay||!1},xa=function contribAdsPlugin(e){var t=this,n=_o.a.mergeOptions(Ea,e),i=[];Pa.concat(["firstplay","loadedalldata"]).forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),t.on(i,redispatch),Ta()||initCancelContentPlay(t,n.debug),t.setTimeout((function(){t.ads._hasThereBeenALoadStartDuringPlayerLife||""===t.src()||_o.a.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")}),5e3),t.on("ended",(function(){t.hasClass("vjs-has-started")||t.addClass("vjs-has-started")})),t.on("contenttimeupdate",(function(){t.removeClass("vjs-waiting")})),t.on(["addurationchange","adcanplay"],(function(){if(t.ads.settings.stitchedAds)return;if(t.hasStarted())return;if(t.ads.snapshot&&t.currentSrc()===t.ads.snapshot.currentSrc)return;if(!t.ads.inAdBreak())return;var e=t.play();e&&e.catch&&e.catch((function(e){_o.a.log.warn("Play promise rejected when playing ad",e)}))})),t.on("nopreroll",(function(){t.ads.debug("Received nopreroll event"),t.ads.nopreroll_=!0})),t.on("nopostroll",(function(){t.ads.debug("Received nopostroll event"),t.ads.nopostroll_=!0})),t.on("playing",(function(){t.ads._cancelledPlay=!1,t.ads._pausedOnContentupdate=!1})),t.on("play",(function(){t.ads._playRequested=!0})),t.one("loadstart",(function(){t.ads._hasThereBeenALoadStartDuringPlayerLife=!0})),t.on("loadeddata",(function(){t.ads._hasThereBeenALoadedData=!0})),t.on("loadedmetadata",(function(){t.ads._hasThereBeenALoadedMetaData=!0})),t.ads=getAds(t),t.ads.settings=n,n.stitchedAds=!!n.stitchedAds,n.stitchedAds?t.ads._state=new(na.getState("StitchedContentPlayback"))(t):t.ads._state=new(na.getState("BeforePreroll"))(t),t.ads._state.init(t),t.ads.cueTextTracks=Go,t.ads.adMacroReplacement=adMacroReplacement.bind(t),initializeContentupdate(t),t.on("contentchanged",t.ads.reset);var r=function shouldDisableTracks(){return!t.ads.shouldPlayContentBehindAd(t)&&t.ads.inAdBreak()&&t.tech_.featuresNativeTextTracks&&_o.a.browser.IS_IOS&&!Array.isArray(t.textTracks())},o=function textTrackChangeHandler(){var e=t.textTracks();if(r())for(var n=0;n<e.length;n++){var i=e[n];"showing"===i.mode&&(i.mode="disabled")}};t.ready((function(){t.textTracks().addEventListener("change",o)})),t.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],(function(e){t.ads._state.handleEvent(e.type)})),t.on("dispose",(function(){t.ads.reset(),t.textTracks().removeEventListener("change",o)})),qo(),t.ads.listenToTcf=qo};xa.VERSION=Ro,register(xa);var Oa=xa,Aa=function PlayerWrapper(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(t)};Aa.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},Aa.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},Aa.prototype.checkForSeeking=function(){var e,t=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},Aa.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},Aa.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},Aa.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},Aa.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},Aa.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},Aa.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},Aa.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},Aa.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},Aa.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},Aa.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},Aa.prototype.getContentPlayer=function(){return this.h5Player},Aa.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},Aa.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},Aa.prototype.unmute=function(){this.vjsPlayer.muted(!1)},Aa.prototype.mute=function(){this.vjsPlayer.muted(!0)},Aa.prototype.play=function(){this.vjsPlayer.play()},Aa.prototype.togglePlayback=function(){this.vjsPlayer.paused()?this.vjsPlayer.play():this.vjsPlayer.pause()},Aa.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(e)||this.vjsPlayer.width()},Aa.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(e)||this.vjsPlayer.height()},Aa.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},Aa.prototype.getPlayerId=function(){return this.vjsPlayer.id()},Aa.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},Aa.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},Aa.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},Aa.prototype.onAdLog=function(e){var t=e.getAdData(),n=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:n,AdEvent:e}})},Aa.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},Aa.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},Aa.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},Aa.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},Aa.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},Aa.prototype.changeSource=function(e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},Aa.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},Aa.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},Aa.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},Aa.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var ja=function AdUi(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.createAdContainer()};ja.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.adContainerDiv.addEventListener("click",this.onAdContainerClick.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},ja.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},ja.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},ja.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},ja.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},ja.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},ja.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},ja.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},ja.prototype.updateAdUi=function(e,t,n,i,r){var o=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);var s=": ";r>1&&(s=" ("+i+" "+this.controller.getSettings().adLabelNofN+" "+r+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+o+":"+a;var l,c=100*(e/n);this.progressDiv.style.width=c+"%"},ja.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},ja.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},ja.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},ja.prototype.onMouseMove=function(e){this.changeVolume(e)},ja.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},ja.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},ja.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},ja.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},ja.prototype.onAdContainerClick=function(){this.isAdNonlinear&&this.controller.togglePlayback()},ja.prototype.reset=function(){this.hideAdContainer()},ja.prototype.onAdError=function(){this.hideAdContainer()},ja.prototype.onAdBreakStart=function(e){var t;this.showAdContainer(),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},ja.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},ja.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},ja.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!1},ja.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!0},ja.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},ja.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},ja.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},ja.prototype.showAdControls=function(){var e,t;this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},ja.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},ja.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},ja.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},ja.prototype.elementHasClass=function(e,t){var n;return this.getClassRegexp(t).test(e.className)},ja.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},ja.prototype.removeClass=function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")},ja.prototype.getAdContainerDiv=function(){return this.adContainerDiv},ja.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var _a="videojs-ima",Ma="2.1.0",Na,Ia,La,Ra,Da,Fa,Va,Ba,Ha,Ua,Wa,za,qa="videojs-ima",Ka="2.1.0",Qa="Apache-2.0",Ga="./dist/videojs.ima.js",Ya="./dist/videojs.ima.es.js",Xa={name:"Google Inc."},Ja={node:">=0.8.0"},Za={contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"npm-run-all -p testServer contBuild",lint:'eslint "src/**/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:es":"rollup -c configs/rollup.config.es.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver","test:vjs7":"npm install video.js@7 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},$a={type:"git",url:"https://github.com/googleads/videojs-ima"},es=["CHANGELOG.md","LICENSE","README.md","dist/","src/"],ts={"video.js":"^5.19.2 || ^6 || ^7"},ns={"@hapi/cryptiles":"^5.1.0","can-autoplay":"^3.0.2",extend:">=3.0.2","videojs-contrib-ads":"^6.9.0"},is={axios:"^0.25.0","babel-core":"^6.26.3","babel-preset-env":"^1.7.0",child_process:"^1.0.2",chromedriver:"^102.0.0","conventional-changelog-cli":"^2.2.2","conventional-changelog-videojs":"^3.0.2",ecstatic:"^4.1.4",eslint:"^8.8.0","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.15.1",geckodriver:"^2.0.4","http-server":"^14.1.0",ini:">=1.3.7",mocha:"^9.2.0","npm-run-all":"^4.1.5",path:"^0.12.7",protractor:"^7.0.0",rimraf:"^2.7.1",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.7","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.1","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.3.9","video.js":"^7.17.0",watch:"^0.13.0","webdriver-manager":"^12.1.7",xmldom:"^0.6.0"},rs=["videojs","videojs-plugin"],os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as=function SdkImpl(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid),this.controller.getSettings().featureFlags&&google.ima.settings.setFeatureFlags(this.controller.getSettings().featureFlags)};as.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),void 0!==this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.controller.getSettings().sessionId&&this.adsLoader.getSettings().setSessionId(this.controller.getSettings().sessionId),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(Ka),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},as.prototype.requestAds=function(){var e=new google.ima.AdsRequest;if(this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),this.controller.getSettings().omidMode&&window.console.warn("The additional setting `omidMode` has been removed. Use `omidVendorAccess` instead."),this.controller.getSettings().omidVendorAccess){e.omidAccessModeRules={};var t=this.controller.getSettings().omidVendorAccess;Object.keys(t).forEach((function(n){e.omidAccessModeRules[n]=t[n]}))}e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var n=this.controller.getSettings().adsRequest;n&&"object"===(void 0===n?"undefined":os(n))&&Object.keys(n).forEach((function(t){e[t]=n[t]})),this.adsLoader.requestAds(e),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:e})},as.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();var t,n=this.controller.getSettings().preventLateAdStart;n?n&&!this.isAdTimedOut&&this.controller.onAdsReady():this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},as.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},as.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(e){this.onAdError(e)}},as.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},as.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},as.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},as.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},as.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},as.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},as.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},as.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},as.prototype.onAdPaused=function(){this.controller.onAdsPaused()},as.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},as.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},as.prototype.onAdLog=function(e){this.controller.onAdLog(e)},as.prototype.onAdPlayheadTrackerInterval=function(){if(null===this.adsManager)return;var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var i=0,r=void 0;this.currentAd.getAdPodInfo()&&(r=this.currentAd.getAdPodInfo().getAdPosition(),i=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,r,i)},as.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)||!this.adsManager)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},as.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},as.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},as.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},as.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},as.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},as.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},as.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},as.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},as.prototype.getCurrentAd=function(){return this.currentAd},as.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},as.prototype.isAdPlaying=function(){return this.adPlaying},as.prototype.isAdMuted=function(){return this.adMuted},as.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},as.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},as.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},as.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},as.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},as.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},as.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},as.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},as.prototype.getAdsManager=function(){return this.adsManager},as.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var ss=function Controller(e,t){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},i=Object.assign({},n,t.contribAdsSettings||{});this.playerWrapper=new Aa(e,i,this),this.adUi=new ja(this),this.sdkImpl=new as(this)};ss.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},ss.prototype.initWithSettings=function(e){this.settings=Object.assign({},ss.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},ss.prototype.warnAboutDeprecatedSettings=function(){var e=this,t;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach((function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")}))},ss.prototype.getSettings=function(){return this.settings},ss.prototype.getIsMobile=function(){return this.isMobile},ss.prototype.getIsIos=function(){return this.isIos},ss.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},ss.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},ss.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},ss.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},ss.prototype.requestAds=function(){this.sdkImpl.requestAds()},ss.prototype.setSetting=function(e,t){this.settings[e]=t},ss.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},ss.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},ss.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},ss.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},ss.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},ss.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},ss.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},ss.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},ss.prototype.showAdContainer=function(){this.adUi.showAdContainer()},ss.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},ss.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},ss.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},ss.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},ss.prototype.onAdPlayheadUpdated=function(e,t,n,i,r){this.adUi.updateAdUi(e,t,n,i,r)},ss.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},ss.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},ss.prototype.playContent=function(){this.playerWrapper.play()},ss.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},ss.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},ss.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},ss.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},ss.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},ss.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},ss.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},ss.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},ss.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},ss.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},ss.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},ss.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},ss.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},ss.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},ss.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},ss.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},ss.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},ss.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e)},ss.prototype.setContentWithAdsResponse=function(e,t){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},ss.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},ss.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},ss.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},ss.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},ss.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},ss.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},ss.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},ss.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},ss.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},ss.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},ss.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},ss.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},ss.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},ss.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},ss.prototype.togglePlayback=function(){this.playerWrapper.togglePlayback()},ss.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},ss.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},ss.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)};var ls=function PlayerWrapper(e,t,n){this.vjsPlayer=e,this.daiController=n,this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("pause",this.onPause.bind(this)),this.vjsPlayer.on("play",this.onPlay.bind(this)),this.vjsPlayer.on("seeked",this.onSeekEnd.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)};ls.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.daiController.onPlayerDisposed()},ls.prototype.onPause=function(){this.daiController.isInAdBreak()&&this.vjsControls.show()},ls.prototype.onPlay=function(){this.daiController.isInAdBreak()&&this.vjsControls.hide()},ls.prototype.onSeekEnd=function(){this.daiController.onSeekEnd(this.vjsPlayer.currentTime())},ls.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.daiController.onPlayerReady()},ls.prototype.getStreamPlayer=function(){return this.h5Player},ls.prototype.getVjsPlayer=function(){return this.vjsPlayer},ls.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},ls.prototype.getPlayerId=function(){return this.vjsPlayer.id()},ls.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},ls.prototype.onAdBreakStart=function(){this.vjsControls.hide()},ls.prototype.onAdBreakEnd=function(){this.vjsControls.show()},ls.prototype.reset=function(){this.vjsControls.show()};var cs=function SdkImpl(e){this.daiController=e,this.streamPlayer=null,this.vjsPlayer=null,this.streamManager=null,this.uiSettings=new google.ima.dai.api.UiSettings,this.isAdBreak=!1,this.isSnapback=!1,this.snapForwardTime=0,this.timedMetadata,this.metadataLoaded={},this.SOURCE_TYPES={hls:"application/x-mpegURL",dash:"application/dash+xml"}};cs.prototype.initImaDai=function(){this.streamPlayer=this.daiController.getStreamPlayer(),this.vjsPlayer=this.daiController.getVjsPlayer(),this.createAdUiDiv(),this.daiController.getSettings().locale&&this.uiSettings.setLocale(this.daiController.getSettings().locale),this.streamManager=new google.ima.dai.api.StreamManager(this.streamPlayer,this.adUiDiv,this.uiSettings),this.streamPlayer.addEventListener("pause",this.onStreamPause),this.streamPlayer.addEventListener("play",this.onStreamPlay),this.streamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED],this.onStreamEvent.bind(this),!1),this.vjsPlayer.textTracks().onaddtrack=this.onAddTrack.bind(this),this.vjsPlayer.trigger({type:"stream-manager",StreamManager:this.streamManager}),this.requestStream()},cs.prototype.onAddTrack=function(e){var t=this,n=e.track;"metadata"===n.kind&&(n.mode="hidden",n.oncuechange=function(e){var i=!0,r=!1,o=void 0;try{for(var a=n.activeCues_[Symbol.iterator](),s;!(i=(s=a.next()).done);i=!0){var l=s.value,c={};c[l.value.key]=l.value.data,t.streamManager.onTimedMetadata(c)}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}})},cs.prototype.createAdUiDiv=function(){var e=document.createElement("div");e.id="ad-ui",e.style.height="calc(100% - 3em)",this.streamPlayer.parentNode.appendChild(e),this.adUiDiv=e},cs.prototype.onStreamPause=function(){this.isAdBreak&&(this.adUiDiv.style.display="none")},cs.prototype.onStreamPlay=function(){this.isAdBreak&&(this.adUiDiv.style.display="block")},cs.prototype.onSeekEnd=function(e){var t;if("live"===this.daiController.getSettings().streamType)return;if(this.isSnapback)return void(this.isSnapback=!1);var n=this.streamManager.previousCuePointForStreamTime(e);n&&!n.played&&(this.isSnapback=!0,this.snapForwardTime=e,this.vjsPlayer.currentTime(n.start))},cs.prototype.onStreamEvent=function(e){switch(e.type){case google.ima.dai.api.StreamEvent.Type.LOADED:this.loadUrl(e.getStreamData().url);break;case google.ima.dai.api.StreamEvent.Type.ERROR:window.console.warn("Error loading stream, attempting to play backup stream. "+e.getStreamData().errorMessage),this.daiController.onErrorLoadingAds(e),this.daiController.getSettings().fallbackStreamUrl&&this.loadurl(this.daiController.getSettings().fallbackStreamUrl);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:this.isAdBreak=!0,this.adUiDiv.style.display="block",this.daiController.onAdBreakStart();break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isAdBreak=!1,this.adUiDiv.style.display="none",this.daiController.onAdBreakEnd(),this.snapForwardTime&&this.snapForwardTime>this.vjsPlayer.currentTime()&&(this.vjsPlayer.currentTime(this.snapForwardTime),this.snapForwardTime=0)}},cs.prototype.loadUrl=function(e){this.vjsPlayer.ready(function(){var t=this.daiController.getSettings().streamFormat;this.vjsPlayer.src({src:e,type:this.SOURCE_TYPES[t]});var n=this.daiController.getSettings().bookmarkTime;if(n){var i=this.streamManager.streamTimeForContentTime(n);this.isSnapback=!0,this.vjsPlayer.currentTime(i)}}.bind(this))},cs.prototype.requestStream=function(){var e=void 0,t=this.daiController.getSettings().streamType;if("vod"===t?((e=new google.ima.dai.api.VODStreamRequest).contentSourceId=this.daiController.getSettings().cmsId,e.videoId=this.daiController.getSettings().videoId):"live"===t?(e=new google.ima.dai.api.LiveStreamRequest).assetKey=this.daiController.getSettings().assetKey:window.console.warn("No valid stream type selected"),e.format=this.daiController.getSettings().streamFormat,this.daiController.getSettings().apiKey&&(e.apiKey=this.daiController.getSettings().apiKey),this.daiController.getSettings().authToken&&(e.authToken=this.daiController.getSettings().authToken),this.daiController.getSettings().adTagParameters&&(e.adTagParameters=this.daiController.getSettings().adTagParameters),this.daiController.getSettings().streamActivityMonitorId&&(e.streamActivityMonitorId=this.daiController.getSettings().streamActivityMonitorId),this.daiController.getSettings().omidMode){e.omidAccessModeRules={};var n=this.daiController.getSettings().omidMode;n.FULL&&(e.omidAccessModeRules[google.ima.OmidAccessMode.FULL]=n.FULL),n.DOMAIN&&(e.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN]=n.DOMAIN),n.LIMITED&&(e.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED]=n.LIMITED)}this.streamManager.requestStream(e),this.vjsPlayer.trigger({type:"stream-request",StreamRequest:e})},cs.prototype.onPlayerReady=function(){this.initImaDai()},cs.prototype.onPlayerDisposed=function(){this.streamManager&&this.streamManager.reset()},cs.prototype.getStreamManager=function(){return this.StreamManager},cs.prototype.reset=function(){this.StreamManager&&this.StreamManager.reset()};var us=function DaiController(e,t){this.inAdBreak=!1,this.settings={},this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},i=Object.assign({},n,t.contribAdsSettings||{});this.playerWrapper=new ls(e,i,this),this.sdkImpl=new cs(this)};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}us.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,showControlsForJSAds:!0},us.prototype.initWithSettings=function(e){this.settings=Object.assign({},us.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},us.prototype.warnAboutDeprecatedSettings=function(){var e=this,t;[].forEach((function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.imaDai setting "+t+" is deprecated")}))},us.prototype.getSettings=function(){return this.settings},us.prototype.getIsMobile=function(){return this.isMobile},us.prototype.getIsIos=function(){return this.isIos},us.prototype.getStreamPlayer=function(){return this.playerWrapper.getStreamPlayer()},us.prototype.getVjsPlayer=function(){return this.playerWrapper.getVjsPlayer()},us.prototype.requestStream=function(){this.sdkImpl.requestStream()},us.prototype.setSetting=function(e,t){this.settings[e]=t},us.prototype.onErrorLoadingAds=function(e){this.playerWrapper.onAdError(e)},us.prototype.onAdError=function(e){this.playerWrapper.onAdError(e)},us.prototype.onAdBreakStart=function(){this.inAdBreak=!0,this.playerWrapper.onAdBreakStart()},us.prototype.onAdBreakEnd=function(){this.inAdBreak=!1,this.playerWrapper.onAdBreakEnd()},us.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},us.prototype.isInAdBreak=function(){return this.inAdBreak},us.prototype.onSeekEnd=function(e){this.sdkImpl.onSeekEnd(e)},us.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},us.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},us.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},us.prototype.getStreamManager=function(){return this.sdkImpl.getStreamManager()},us.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},us.prototype.streamWillAutoplay=function(){return void 0!==this.settings.streamWillAutoplay?this.settings.streamWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},us.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)};var ds=function ImaPlugin(e,t){this.controller=new ss(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)},ps=function ImaDaiPlugin(e,t){this.controller=new us(e,t),this.streamEndedListener=function(e){this.controller.addStreamEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.getStreamManager=function(){return this.controller.getStreamManager()}.bind(this)},hs=function init(e){this.ima=new ds(this,e)},ms=function LiveStream(e,t){if(_classCallCheck(this,LiveStream),"hls"!==(e=e.toLowerCase())&&"dash"!==e)return void window.console.error("VodStream error: incorrect streamFormat.");if("dash"===e)return void window.console.error("streamFormat error: DASH streams are notcurrently supported by this plugin.");if("string"!=typeof t)return void window.console.error("assetKey error: value must be string.");this.streamFormat=e,this.assetKey=t},fs=function VodStream(e,t,n){if(_classCallCheck(this,VodStream),"hls"!==(e=e.toLowerCase())&&"dash"!==e)return void window.console.error("VodStream error: incorrect streamFormat.");if("dash"===e)return void window.console.error("streamFormat error: DASH streams are notcurrently supported by this plugin.");if("string"!=typeof t)return void window.console.error("cmsId error: value must be string.");if("string"!=typeof n)return void window.console.error("videoId error: value must be string.");this.streamFormat=e,this.cmsId=t,this.videoId=n},gs=function initDai(e,t){if(e instanceof ms)t.streamType="live",t.assetKey=e.assetKey;else{if(!(e instanceof fs))return void window.console.error("initDai() first parameter must be an instance of LiveStream or VodStream.");t.streamType="vod",t.cmsId=e.cmsId,t.videoId=e.videoId}t.streamFormat=e.streamFormat,this.imaDai=new ps(this,t)},vs=_o.a.registerPlugin||_o.a.plugin;vs("ima",hs),vs("imaDai",gs);var ys=ds,bs=t("Ji/E"),Cs=t("yiR1"),Ss=t.n(Cs),ks=t("ct0W"),ws=t("E4RX"),Ts=t("HOoY"),Ps=t("k8gO"),Es={"video_progress.not_found":["playback_rate","subtitle_language","version","tech","volume"],"playback_rate.change":["playback_rate","subtitle_language","version","tech","volume"],"change.subtitles":["playback_rate","subtitle_language","version","tech","volume"],"volume.change":["playback_rate","subtitle_language","version","tech","volume"],"resolution.change":["resolution","version","tech"],playback_tech:["playback_rate","subtitle_language","version","tech","volume"],heartbeat:["playback_rate","subtitle_language","version","tech","volume"],joining:["playback_rate","version","tech","resolution","session_id"],joined:["playback_rate","version","tech","resolution","session_id"],wait_metrics:["playback_rate","version","tech","resolution","session_id"]},xs=function getPlayerMetadata(e){return t=e.options_,n=t.nextItemMetadataOrItemGroup,i=t.title,r=t.courseId,o=t.itemId,a=t.moduleId,s=t.moduleName,{item_id:o,course_id:r,item_name:i,lesson_id:t.lessonId,lesson_name:t.lessonName,module_id:a,module_name:s,open_course_slug:ho.c,session_id:Object(Ps.a)(),video_name:i,version:2,linked_item_id:n?n.getId():"",linked_item_name:n?n.getName():"",timecode:Math.min(e.currentTime(),e.duration())||0,playback_rate:e.playbackRate(),volume:e.muted()?0:e.volume(),resolution:e.resolution(),tech:e.tech_&&"Html5"===e.tech_.constructor.name?"html5":"flash",subtitle_language:(u=e.textTracks().tracks_,d=u?u.find((function(e){return"showing"===e.mode})):null,d?d.language:"")};var t,n,i,r,o,a,s,l,c,u,d},Os=function getDataByKeys(e,t){var n=xs(e);return t.reduce((function(e,t){return Z()(Z()({},e),{},$r()({},t,n[t]))}),{})},As=function getTrackingDataForVideoEvent(e,t){return Os(e,Es[t]||[])},js=function createVideoEventTracker(e,t){var n=Ts.a.makeTracker({namespace:e,include:Os(t,["open_course_slug","video_name","course_id","item_id","item_name","lesson_id","lesson_name","module_id","module_name","timecode"])});return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,Z()(Z()({},As(t,e)),i))}},_s=function(e){function VideoAnalytics(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleVideoProgressEvent=function(){var e;t.props.videoProgress||t.track("video_progress.not_found")},t.basicEvents={autoplaychange:"autoplay.change",joining:"joining",mute:"mute",pause:"pause",play:"play",ratechange:"playback_rate.change",seeked:"seek",subtitleschange:"change.subtitles",unmute:"unmute",waiting:"waiting"},t.track=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.player,r=t.context._eventData.namespace.app,o=js(r,i);o(e,Z()(Z()({},As(i,e)),n))},t.trackHandler=function(e){return function(n,i){t.track(e,i)}},t}yt()(VideoAnalytics,e);var t=VideoAnalytics.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.player;Object.keys(this.basicEvents).forEach((function(n){t.on(n,e.trackHandler(e.basicEvents[n]))})),t.one("play",this.trackHandler("start")),t.ready(this.trackHandler("playback_tech")),t.on("waitmetrics",(function(t){return e.track("wait_metrics",{play_duration:t.playDuration,wait_duration:t.waitDuration,wait_count:t.waitCount})})),t.on("fullscreenchange",(function(){return e.track(t.isFullscreen()?"fullscreen.open":"fullscreen.close")})),t.emitter.on("heartbeat:30000",this.handleVideoProgressEvent),t.emitter.on("heartbeat:5000",this.trackHandler("heartbeat")),t.emitter.once("joined",(function(t){var n=t.joinDuration;return e.track("joined",{join_duration:n})}))},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;Object.keys(this.basicEvents).forEach((function(t){return e.off(t)})),e.off("play"),e.off("waitmetrics"),e.emitter.off("heartbeat:30000"),e.emitter.off("heartbeat:5000")},t.render=function render(){var e=this.props.children;if(!e)return null;return e},VideoAnalytics}(se.Component);_s.contextTypes={_eventData:pe.a.object};var Ms=t("cAeq"),Ns=t("u5HK"),Is=t.n(Ns),Ls=t("B7QE");function FullscreenToggle_FullscreenToggle(e){var t=Object(se.useRef)(null),n=e.shouldShowPrerollVideoAds,i=Pe.c.isFullScreen(),r=i?Is()("Exit full Screen"):Is()("Full Screen");Object(se.useEffect)((function(){return function(){t.current&&clearTimeout(t.current)}}),[]);var o=function toggleFullscreen(){var n=e.player,r=e.setChromeVisibility;i?Pe.a.requestFullScreenExit():(Pe.a.requestFullScreen(n),t.current=setTimeout((function(){null==r||r(!1)}),5e3))};return(se.createElement(Ms.c,{placement:"top",message:r},se.createElement("button",{type:"button",onClick:function onClick(){return n?o():e.onChangeFullScreen(i)},className:tt()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":r,"aria-expanded":i},se.createElement("span",{className:tt()("cif-2x","cif-fw",{"cif-expand":!i,"cif-compress":i})}),se.createElement("span",{className:"vjs-control-text"}," ",r," "))))}var Rs=FullscreenToggle_FullscreenToggle,Ds=t("Sa8Z"),Fs,Vs=function(e){function PlayToggle(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isPlaying:!1},t.onPlay=function(){t.setState({isPlaying:!0})},t.onPause=function(){t.setState({isPlaying:!1})},t.togglePlaying=function(){var e=t.state.isPlaying,n=t.props.player;e?n.pause():n.play()},t}yt()(PlayToggle,e);var t=PlayToggle.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;this.setState({isPlaying:!e.paused()}),e.on("play",this.onPlay),e.on("pause",this.onPause)},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;e.off("play",this.onPlay),e.off("pause",this.onPause)},t.render=function render(){var e=this.state.isPlaying,t=e?Is()("Pause"):Is()("Play"),n=t;return se.createElement(Ms.c,{placement:"top",message:n},se.createElement("button",{type:"button",onClick:this.togglePlaying,className:tt()("rc-PlayToggle"),"aria-label":t,"aria-disabled":!1},se.createElement("span",{className:tt()("cif-2x","cif-fw",{"cif-play":!e,"cif-pause":e})}),se.createElement("span",{className:"vjs-control-text"}," ",t," ")))},PlayToggle}(se.Component),Bs=t("mdDt"),Hs,Us,Ws=function(e){function VideoTimeDisplay(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={currentTime:null,duration:null},t.onTimeChange=function(){var e=t.props.player;t.setState({currentTime:e.currentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.convertSecondsToDisplay=function(e,t){if(!e){if(t)return"0 minutes 0 seconds";return"0:00"}var n="".concat(Math.floor(e/60)),i="".concat(Math.floor(e%60)).padStart(2,"0");if(t)return"".concat(n," minutes ").concat(i," seconds");return"".concat(n,":").concat(i)},t}yt()(VideoTimeDisplay,e);var t=VideoTimeDisplay.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;this.setState({currentTime:e.currentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange)},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange)},t.render=function render(){var e=this.state,t=e.currentTime,n=e.duration;if(null==t||null==n)return null;var i=Object(a.isRightToLeft)(Co.a.getLocale());return(se.createElement("div",{className:tt()("rc-VideoTimeDisplay","horizontal-box","align-items-absolute-center"),style:{flexDirection:i?"row-reverse":"row"}},se.createElement("span",{className:"current-time-display","aria-label":Co()(this.convertSecondsToDisplay(t,!0))},this.convertSecondsToDisplay(t)),Hs||(Hs=se.createElement("span",{className:"time-separator"},"/")),se.createElement("span",{className:"duration-display","aria-label":Co()(this.convertSecondsToDisplay(n,!0))},this.convertSecondsToDisplay(n))))},VideoTimeDisplay}(se.Component),zs,qs,Ks,Qs={outerContainer:function outerContainer(e){return Object(ae.c)(zs||(zs=ie()(["\n    padding: ",";\n  "])),e.spacing(8))},circleAroundSvg:function circleAroundSvg(e,t){return Object(ae.c)(qs||(qs=ie()(["\n    border-radius: 50%;\n    width: 21px;\n    height: 21px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    position: relative;\n    top: -50%;\n  "])),t?e.palette.white:e.palette.gray[500])},centerPill:function centerPill(e,t){return Object(ae.c)(Ks||(Ks=ie()(["\n    width: 45px;\n    border-radius: 8px;\n    height: 10px;\n    background-color: ",";\n    display: flex;\n    ","\n  "])),e.palette.gray[600],t&&"justify-content: flex-end;")}},Gs,Ys=function ToggleSwitchStandalone(e){var t=Object(fe.a)(),n=e.value,i=function onClick(t){var n;t.stopPropagation(),(0,e.onToggle)()},r=e.ariaLabel,o=e.className,a=e.offIcon,s=e.onIcon;return Object(ae.d)("button",{type:"button","aria-label":r,onClick:i,"aria-pressed":n,className:o,css:Qs.outerContainer},Object(ae.d)("div",{css:Qs.centerPill(t,n)},!n&&Object(ae.d)("div",{css:Qs.circleAroundSvg(t,!1)},a),n&&Object(ae.d)("div",{css:Qs.circleAroundSvg(t,!0)},s)))},Xs=10,Js=function AutoplayToggleStandalone(e){var t=e.value,n=e.handleToggleSwitchClick,i,r=Object(fe.a)().palette,o=t?Co()("Autoplay is on"):Co()("Autoplay is off"),a=o;return se.createElement(Ms.c,{placement:"top",message:o},se.createElement(Ys,{ariaLabel:a,onToggle:n,value:t,className:tt()("vjs-button","c-vjs-button","c-video-control","align-items-absolute-center"),offIcon:se.createElement(Ur,{size:10,color:r.white,suppressTitle:!0,style:{position:"relative",left:"1px",top:"1px"}}),onIcon:se.createElement(zr,{size:10,color:r.gray[500],suppressTitle:!0,style:{position:"relative",left:"1px",top:"1px"}})}),se.createElement("span",{className:"vjs-control-text"},a))},Zs={namespace:{app:"open_course",page:"video"}},$s=function logAutoplayChangeEvent(e){var t={autoplay:e};Ts.a.trackComponent(Zs,t,"autoplay_toggle_standalone","click")},el,tl=function AutoplayToggleDataLayer(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,r=Object(se.useState)(po.get("autoplay")),o=te()(r,2),a=o[0],s=o[1];Object(se.useEffect)((function(){var e=function updateAutoplayUi(){return s(po.get("autoplay"))};return t(e),function(){n(e)}}),[t,n,i]);var l=function handleToggleSwitchClick(){var e=!a;s(e),po.set("autoplay",e),i(),$s(e)};return(se.createElement(Js,{value:a,handleToggleSwitchClick:l}))},nl=t("QILm"),il=t.n(nl),rl=t("KeZW"),ol,al=function ProgressBarMarker(e){var t=e.offsetFraction,n=e.color,i="".concat((Math.floor(1e4*t)/100).toFixed(2),"%"),r=Ao.a.pick({color:n},Boolean);return se.createElement("div",{className:"rc-ProgressBarMarker",style:Z()(Z()({},r),{},{left:i})})},sl,ll=function IVQMarker(e){var t=e.question,n=e.videoDuration,i,r=t.video.cuePointMs/1e3/n;return se.createElement(al,{offsetFraction:r})},cl=t("UE0t"),ul=function getFormattedTime(e){var t=function padToTwoDigits(e){return e.toString().padStart(2,"0")},n=Math.floor(e/3600),i=Math.floor(e%3600/60),r=Math.floor(e%60);if(e<0)return"0:00";if(n>0)return"".concat(n,":").concat(t(i),":").concat(t(r));return"".concat(i,":").concat(t(r))},dl,pl=function ProgressBarTimeBadge(e){var t=e.time,n=e.videoDuration,i,r="".concat((100*(t/n)).toFixed(2),"%");return se.createElement("div",{className:"rc-ProgressBarTimeBadge",style:{left:r}},ul(t))},hl=t("uZsc"),ml=["actionStateType"],fl=["actionStateType"],gl=["actionStateType"],vl,yl=function(e){function VideoProgressBar(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={actionState:{actionStateType:"none"},currentTime:null,duration:null},t.onKeyDown=function(e){if(" "===e.key||"Spacebar"===e.key)return void e.preventDefault();var n={Up:function Up(){t.skip(5)},ArrowUp:function ArrowUp(){t.skip(5)},Right:function Right(){t.skip(5)},ArrowRight:function ArrowRight(){t.skip(5)},Down:function Down(){t.skip(-5)},ArrowDown:function ArrowDown(){t.skip(-5)},Left:function Left(){t.skip(-5)},ArrowLeft:function ArrowLeft(){t.skip(-5)}};n[e.key]&&n[e.key]()},t.onTimeChange=function(){var e=t.props.player;t.setState({currentTime:e.currentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.beginScrubbing(e)},t.onMouseEnter=function(e){var n=t.state.actionState,i=n.actionStateType,r=il()(n,ml),o=i,a=t.getProgressBarFractionOffsetFromEvent(e),s=r;"scrubbing"===o?s.scrubbingFractionOffsetFromStart=a:(o="hovering",s.hoverFractionOffsetFromStart=a),t.setActionState(o,s)},t.onMouseLeave=function(){var e=t.state,n=e.duration,i=e.actionState;if("scrubbing"===i.actionStateType){var r=t.props.player,o=i.scrubbingFractionOffsetFromStart;if(n&&o){var a=n*o;r.currentTime(a),t.setState({currentTime:a})}}else t.setActionState("none")},t.onMouseMove=function(e){var n=t.state.actionState,i=n.actionStateType,r=il()(n,fl),o=t.getProgressBarFractionOffsetFromEvent(e);"hovering"===i?t.setActionState(i,Z()(Z()({},r),{},{hoverFractionOffsetFromStart:o})):"scrubbing"===i&&t.setActionState(i,Z()(Z()({},r),{},{scrubbingFractionOffsetFromStart:o}))},t.onDocumentMouseUp=function(){var e;"scrubbing"===t.state.actionState.actionStateType&&t.endScrubbing()},t.onMouseUp=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.player,i=t.state.duration,r=t.state.currentTime;if(n&&null!=i){var o=t.getProgressBarFractionOffsetFromEvent(e);null!=o&&(r=o*i)}n.currentTime(r),t.endScrubbing(),t.setState({currentTime:r})},t.getProgressBarFractionOffsetFromEvent=function(e){if(t.baseElement){var n=t.baseElement.getBoundingClientRect(),i=n.left,r=n.width,o,a;return(e.clientX-i)/r}return null},t.skip=function(e){var n=t.props.player,i=t.state,r=i.currentTime,o=i.duration;if(null!=r&&null!=o){var a=Math.max(0,Math.min(r+e,o));n.currentTime(a)}},t.beginScrubbing=function(e){var n=t.props.player;t.setActionState("scrubbing",{scrubbingFractionOffsetFromStart:t.getProgressBarFractionOffsetFromEvent(e),wasVideoPausedWhenScrubbingStarted:n.paused()}),n.pause()},t.endScrubbing=function(){var e=t.props.player,n=t.state.actionState,i=n.wasVideoPausedWhenScrubbingStarted,r=n.scrubbingFractionOffsetFromStart;e.trigger("scrubbed"),i||e.ended()||e.play(),t.setActionState("hovering",{hoverFractionOffsetFromStart:r})},t.assignRef=function(e){t.baseElement=e},t}yt()(VideoProgressBar,e);var t=VideoProgressBar.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;this.setState({currentTime:e.currentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange),document.addEventListener("mouseup",this.onDocumentMouseUp)},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange),document.removeEventListener("mouseup",this.onDocumentMouseUp)},t.setActionState=function setActionState(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.actionState,i=Z()(Z()(Z()({},n),t),{},{actionStateType:e});this.setState({actionState:i})},t.fractionToWholeNumber=function fractionToWholeNumber(e){return 100*e},t.formatFraction=function formatFraction(e){return"".concat((Math.floor(1e4*e)/100).toFixed(2),"%")},t.render=function render(){var e=this.props.videoQuizQuestions,t=this.state,n=t.actionState,i=n.actionStateType,r=il()(n,gl),o=t.duration,a=t.currentTime;if(null==o||null==a)return null;var s=r.hoverFractionOffsetFromStart,l=r.scrubbingFractionOffsetFromStart,c=a/o,u,d=e,p=this.formatFraction(c),h=this.fractionToWholeNumber(c),m="hovering"===i?s:l;"scrubbing"===i&&null!=l&&(p=this.formatFraction(l),h=this.fractionToWholeNumber(l));var f="hovering"===i||"scrubbing"===i,g=Object(go.v)(c*o*1e3,"mmm:sss");return se.createElement("div",{tabIndex:0,role:"slider","aria-label":Co()("Video Progress"),"aria-valuemin":0,"aria-valuemax":100,dir:"ltr","aria-valuenow":h,"aria-valuetext":g,className:tt()("rc-VideoProgressBar","horizontal-box","align-items-absolute-center"),ref:this.assignRef,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp},se.createElement("div",{className:tt()("base-track",{hovering:f})},d&&d.map((function(e){return se.createElement(ll,{key:"ivq-".concat(e.id),question:e,videoDuration:o})})),se.createElement("div",{className:tt()("progress-track",{hovering:f}),style:{width:p}})),se.createElement("div",{className:tt()("hitbox",{hovering:f})}),se.createElement("div",{className:tt()("progress-handle",{hovering:f}),style:{left:p}}),f&&m&&se.createElement(pl,{time:m*o,videoDuration:o}))},VideoProgressBar}(se.Component),bl=["player","data","trackingName","children"],Cl,Sl=function(e){function VideoTrackedButton(){return e.apply(this,arguments)||this}var t;return yt()(VideoTrackedButton,e),VideoTrackedButton.prototype.render=function render(){var e=this.props,t=e.player,n=e.data,i=e.trackingName,r=e.children,o=il()(e,bl),a=t?Z()(Z()({},n),As(t,i)):{};return se.createElement(hn.a,K()({data:a,trackingName:i},o),r)},VideoTrackedButton}(se.Component),kl,wl=function(e){function SettingsMenuButton(){return e.apply(this,arguments)||this}var t;return yt()(SettingsMenuButton,e),SettingsMenuButton.prototype.render=function render(){var e=this.props,t=e.menuPopupVisible,n=e.player,i=e.onClick,r=Is()("Settings"),o=se.createElement(Sl,{type:"button",player:n,trackingName:"settings_menu.".concat(t?"close":"open"),onClick:i,className:tt()("vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-expanded":"false","aria-label":r},se.createElement("span",{className:tt()("cif-2x","cif-fw","cif-cog")}),se.createElement("span",{className:"vjs-control-text"}," ",r," "));return se.createElement(Ms.c,{placement:"top",message:r,show:!t},o)},SettingsMenuButton}(se.Component),Tl=t("k6X/"),Pl=t.n(Tl),El=t("ubXW"),xl={On:"on",Off:"off"},Ol=function(e){function ToggleSwitch(t){var n;return(n=e.call(this,t)||this).onClick=function(e){e.stopPropagation();var t=n.state.status,i=n.props.onToggle,r=t===xl.Off?xl.On:xl.Off;n.setState({status:r}),i(r)},n.state={status:t.value||t.defaultStatus},n}yt()(ToggleSwitch,e);var t=ToggleSwitch.prototype;return t.UNSAFE_componentWillReceiveProps=function UNSAFE_componentWillReceiveProps(e){void 0!==e.value&&this.setState({status:e.value})},t.render=function render(){var e=this,t=this.props,n=t.disableToggle,i=void 0!==n&&n,r=t.hideStatusText,o=void 0!==r&&r,a=t.ariaLabel,s=t.onColor,l=void 0===s?lt.b.success:s,c=t.offColor,u=void 0===c?"#767676":c,d=t.onLabel,p=void 0===d?Pl()("Yes"):d,h=t.offLabel,m=void 0===h?Pl()("No"):h,f=t.toggleHandleColor,g=this.state.status,v=tt()("rc-ToggleSwitch",g,{"is-disabled":i}),y=g===xl.Off?m:p,b=g===xl.Off?{backgroundColor:u}:{backgroundColor:l},C=f?{style:{backgroundColor:f}}:void 0;return se.createElement("div",{style:b,className:v,role:"button","aria-label":a,onClick:i?void 0:this.onClick,onKeyPress:function onKeyPress(t){return!i&&Object(nt.a)(t,e.onClick)},"aria-pressed":g===xl.On,tabIndex:i?void 0:0},se.createElement("span",K()({className:"toggle-handle"},C)),!o&&y)},ToggleSwitch}(se.Component);Ol.getStatus=function(){return xl};var Al=Ol,jl=t("4M0G"),_l,Ml=function ToggleLabel(e){var t=e.labelText;return(se.createElement(ye.a,{color:"invertBody",variant:"body2",component:"div"},t))},Nl=function selectedLabel(e){return se.createElement("strong",null,e)},Il,Ll=function AutoplayChangeSection(e){var t=e.autoplayEnabled,n=e.onEnableAutoplayClick,i=e.onDisableAutoplayClick,r=Object(fe.a)(),o={on:Co()("On"),off:Co()("Off")},a=t?Nl(o.on):o.on,s=t?o.off:Nl(o.off);return se.createElement("div",{className:"rc-AutoplayChangeSection"},se.createElement(ye.a,{variant:"h3semibold",component:"div",className:"autoplay-adjust-header horizontal-box align-items-absolute-center",color:"invertBody"},Co()("Autoplay")),_l||(_l=se.createElement("div",{className:"video-setting-separator"})),se.createElement("div",{className:"autoplay-adjust-controls horizontal-box align-items-spacearound"},se.createElement(Ml,{labelText:s}),se.createElement(Al,{ariaLabel:t?Co()("disable autoplay"):Co()("enable autoplay"),onToggle:function onToggle(e){e===Al.getStatus().On?n():i()},defaultStatus:t?Al.getStatus().On:Al.getStatus().Off,onColor:r.palette.white,offColor:r.palette.white,toggleHandleColor:r.palette.blue[600],hideStatusText:!0}),se.createElement(Ml,{labelText:a})))},Rl=t("Qy3I"),Dl,Fl,Vl,Bl=[.75,1,1.25,1.5,1.75,2];function getAriaLableResolutionsPlaybackRate(e){var t=Bl.indexOf(e),n=Bl[t+1],i;return{lowerPlaybackRate:Bl[t-1],higherPlaybackRate:n}}var Hl=function formatPlaybackRate(e){return e&&"".concat(e.toFixed(2),"x")},Ul,Wl=function PlaybackRateChangeSection(e){var t=e.playbackRate,n=e.onIncreasePlaybackRateClick,i=e.onDecreasePlaybackRateClick,r=Object(se.useState)(!1),o=te()(r,2),a=o[0],s=o[1],l=.75,c=2,u=.75===t,d=2===t,p=getAriaLableResolutionsPlaybackRate(t),h=p.lowerPlaybackRate,m=p.higherPlaybackRate,f=Hl(t);return se.createElement("div",{className:"rc-PlaybackRateChangeSection"},se.createElement(ye.a,{component:"div",className:"playback-rate-change-header horizontal-box align-items-absolute-center",variant:"h3semibold",color:"invertBody"},Co()("Playback Rate")),Dl||(Dl=se.createElement("div",{className:"video-setting-separator"})),se.createElement("div",{className:"playback-rate-change-controls horizontal-box align-items-absolute-center"},se.createElement("button",{type:"button","aria-label":h?Co()("decrease playback rate to #{lowerPlaybackRate}",{lowerPlaybackRate:h}):Co()("decrease playback rate"),onClick:function onClick(e){i(e),s(!0)},disabled:u},Fl||(Fl=se.createElement("span",{className:"cif-minus"}))),a&&se.createElement(jt.b,{tagName:"span",role:"status","aria-live":"polite"},f),se.createElement(ye.a,{variant:"body2",color:"invertBody",component:"span",className:"playback-rate-text","aria-hidden":a},f),se.createElement("button",{type:"button","aria-label":m?Co()("increase playback rate to #{higherPlaybackRate}",{higherPlaybackRate:m}):Co()("increase playback rate"),onClick:function onClick(e){n(e),s(!0)},disabled:d},Vl||(Vl=se.createElement("span",{className:"cif-plus"})))))},zl=t("f+IC"),ql,Kl,Ql,Gl=function getAriaLabelResolutions(e,t){var n=t.indexOf(e),i=t[n+1],r;return{lowerResolution:t[n-1],higherResolution:i}},Yl,Xl=function ResolutionChangeSection(e){var t=e.currentResolution,n=e.supportedResolutions,i=e.onDecreaseResolutionClick,r=e.onIncreaseResolutionClick,o={"240p":Co()("Lowest"),"360p":Co()("Low"),"540p":Co()("Medium"),"720p":Co()("High")},a=Object(se.useState)(!1),s=te()(a,2),l=s[0],c=s[1],u="".concat(t," (").concat(o[t],")"),d=t===n[0],p=t===n[n.length-1],h=Gl(t,n),m=h.lowerResolution,f=h.higherResolution;return se.createElement("div",{className:"rc-ResolutionChangeSection"},se.createElement(ye.a,{component:"div",variant:"h3semibold",className:"resolution-change-header horizontal-box align-items-absolute-center",color:"invertBody"},Co()("Video Quality")),ql||(ql=se.createElement("div",{className:"video-setting-separator"})),se.createElement("div",{className:"resolution-change-controls horizontal-box align-items-absolute-center"},se.createElement("button",{type:"button","aria-label":m?Co()("decrease video quality to #{lowerResolution}",{lowerResolution:m}):Co()("decrease video quality"),onClick:function onClick(e){c(!0),i(e)},disabled:d},Kl||(Kl=se.createElement("span",{className:"cif-minus"}))),l&&se.createElement(jt.b,{tagName:"span",role:"status","aria-live":"polite"},u),se.createElement(ye.a,{variant:"body2",color:"invertBody",component:"span","aria-hidden":l,className:"resolution-text"},u),se.createElement("button",{type:"button","aria-label":f?Co()("increase video quality to #{higherResolution}",{higherResolution:f}):Co()("increase video quality"),onClick:function onClick(e){c(!0),r(e)},disabled:p},Ql||(Ql=se.createElement("span",{className:"cif-plus"})))))},Jl=t("4ZBh"),Zl,$l=function SettingsMenuPopup(e){var t=e.visible,n=e.currentResolution,i=e.supportedResolutions,r=e.onIncreaseResolutionClick,o=e.onDecreaseResolutionClick,a=e.playbackRate,s=e.onIncreasePlaybackRateClick,l=e.onDecreasePlaybackRateClick,c=e.autoplayEnabled,u=e.hideAutoplayToggle,d=e.onEnableAutoplayClick,p=e.onDisableAutoplayClick;return(se.createElement("div",{className:tt()("rc-SettingsMenuPopup",{visible:t})},se.createElement(Xl,{currentResolution:n,supportedResolutions:i,onIncreaseResolutionClick:r,onDecreaseResolutionClick:o}),se.createElement(Wl,{playbackRate:a,onIncreasePlaybackRateClick:s,onDecreasePlaybackRateClick:l}),!u&&se.createElement(Ll,{autoplayEnabled:c,onEnableAutoplayClick:d,onDisableAutoplayClick:p})))},ec=t("MmP8"),tc={namespace:{app:"open_course",page:"video"}},nc,ic=function(e){function VideoSettingsMenu(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={currentPlaybackRate:null,currentResolution:null,supportedResolutions:null,autoplayEnabled:null},t.onPlaybackRateChange=function(){var e=t.props.player,n=e?e.playbackRate():1;t.setState({currentPlaybackRate:n}),po.set("playbackRate",n)},t.onResolutionChange=function(){var e=t.props.player,n=e?e.resolution():"480p";t.setState({currentResolution:n}),po.set("resolution",n)},t.onAutoplayChange=function(){var e=po.get("autoplay");t.setState({autoplayEnabled:e})},t.onIncreaseResolutionClick=function(e){var n;e.stopPropagation(),t.props.player.increaseResolution()},t.onDecreaseResolutionClick=function(e){var n;e.stopPropagation(),t.props.player.decreaseResolution()},t.onIncreasePlaybackRateClick=function(e){e.stopPropagation();var n=t.props.player,i=t.state.currentPlaybackRate,r=w.playbackRates,o=r.findIndex((function(e){return e===i})),a,s=r[Math.min(r.length-1,o+1)];n.playbackRate(s)},t.onDecreasePlaybackRateClick=function(e){e.stopPropagation();var n=t.props.player,i=t.state.currentPlaybackRate,r=w.playbackRates,o=r.findIndex((function(e){return e===i})),a,s=r[Math.max(0,o-1)];n.playbackRate(s)},t.onEnableAutoplayClick=function(){var e=t.props.player;po.set("autoplay",!0),e.trigger("autoplaychange"),t.logAutoplayChangeEvent(!0)},t.onDisableAutoplayClick=function(){var e=t.props.player;po.set("autoplay",!1),e.trigger("autoplaychange"),t.logAutoplayChangeEvent(!1)},t.logAutoplayChangeEvent=function(e){var t={autoplay:e};Ts.a.trackComponent(tc,t,"autoplay_toggle_in_settings_menu","click")},t}yt()(VideoSettingsMenu,e);var t=VideoSettingsMenu.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;this.setState({currentPlaybackRate:e.playbackRate(),currentResolution:e.resolution(),supportedResolutions:e.getSupportedResolutions(),autoplayEnabled:po.get("autoplay")}),e.on("resolutionchange",this.onResolutionChange),e.on("ratechange",this.onPlaybackRateChange),e.on("autoplaychange",this.onAutoplayChange)},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;e.off("resolutionchange",this.onResolutionChange),e.off("ratechange",this.onPlaybackRateChange),e.off("autoplaychange",this.onAutoplayChange)},t.render=function render(){var e=this.props,t=e.onSettingsMenuClick,n=e.assignRef,i=e.player,r=e.menuPopupVisible,o=e.hideAutoplayToggle,a=this.state,s=a.currentPlaybackRate,l=a.currentResolution,c=a.supportedResolutions,u=a.autoplayEnabled;if(null===s||null===l||null===u||null===c)return null;return(se.createElement("div",{ref:n,className:"rc-VideoSettingsMenu"},se.createElement(wl,{player:i,menuPopupVisible:r,onClick:t}),se.createElement($l,{visible:r,onIncreasePlaybackRateClick:this.onIncreasePlaybackRateClick,onDecreasePlaybackRateClick:this.onDecreasePlaybackRateClick,playbackRate:s,onIncreaseResolutionClick:this.onIncreaseResolutionClick,onDecreaseResolutionClick:this.onDecreaseResolutionClick,currentResolution:l,supportedResolutions:c,onEnableAutoplayClick:this.onEnableAutoplayClick,onDisableAutoplayClick:this.onDisableAutoplayClick,autoplayEnabled:u,hideAutoplayToggle:o})))},VideoSettingsMenu}(se.Component),rc,oc=function SubtitleMenuButton(e){var t=e.menuPopupVisible,n=e.onClick,i=Is()("Subtitles"),r=!t&&i,o=Is()("Subtitles: closed");t&&(o=Is()("Subtitles: open"));var s=Object(a.isRightToLeft)(Is.a.getLocale()),l=se.createElement("button",{type:"button",id:"subtitle-menu-button",className:tt()("vjs-subtitles-button","vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-controls":"subtitle-menu","aria-label":o,"aria-expanded":t,onClick:n,"aria-live":"polite"},se.createElement("span",{className:tt()("cif-2x","cif-fw","cif-captions",{"cif-rtl":s})}),se.createElement("span",{className:"vjs-control-text"}," ",i," ")),c;return r?se.createElement(Ms.c,{placement:"top",message:r},l):l},ac=t("3Rsx"),sc,lc,cc=function SubtitleMenuPopup(e){var t=e.visible,n=e.onSubtitleLanguageChoiceClick,i=e.onSubtitleOffClick,r=e.currentTrack,o=e.tracks,a=e.subtitleMenuHeight,s=Object(se.useRef)(null),l=Object(se.useRef)(null);Object(se.useEffect)((function(){var e,n,i;t&&((null===(e=l.current)||void 0===e?void 0:e.innerText)===(null==r?void 0:r.label)?null===(n=l.current)||void 0===n||n.focus():null===(i=s.current)||void 0===i||i.focus())}),[t]);var c=Is()("Subtitles");return(se.createElement("div",{className:tt()("rc-SubtitleMenuPopup","vertical-box","align-items-vertical-center",{visible:t}),style:{maxHeight:"".concat(a,"px")}},se.createElement("div",{className:"subtitle-menu-title"},c),sc||(sc=se.createElement("div",{className:"subtitle-menu-separator"})),se.createElement("ul",{className:"nostyle subtitle-language-list",id:"subtitle-menu","aria-labelledby":"subtitle-menu-button",role:"menu"},se.createElement("li",{className:tt()({active:!r}),role:"presentation"},se.createElement("button",{role:"menuitem",type:"button",onClick:i,ref:s},se.createElement("em",{className:tt()("cif-lg","cif-fw","c-subtitles-menu-item-selected-icon")}),se.createElement("span",{className:"subtitle-label","aria-label":Is()("Subtitles Off")},Is()("Subtitles Off")))),o.map((function(e){return se.createElement("li",{key:e.language,className:tt()({active:r&&r.label===e.label}),role:"presentation"},se.createElement("button",{role:"menuitem",type:"button",onClick:function onClick(){n(e)},ref:l},se.createElement("em",{className:tt()("cif-lg","cif-fw","c-subtitles-menu-item-selected-icon")}),se.createElement("span",{className:"subtitle-label","aria-label":e.label},e.label)))})))))},uc=t("6IFf"),dc,pc=function(e){function SubtitleMenu(t){var n;return(n=e.call(this,t)||this).getTracks=function(){var e=n.props.player,t,i=((null==e?void 0:e.textTracks())||{}).tracks_,r;return(void 0===i?[]:i).filter((function(e){return"captions"===e.kind})).sort((function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase(),r;return n<i?-1:n>i?1:0}))},n.state={currentTrack:null,subtitleMenuHeight:0,tracks:n.getTracks()},n.onTrackChange=function(){n.setState({currentTrack:n.getCurrentTrack()})},n.onTrackLoad=function(){var e=n.getDefaultTrack(),t=n.getCurrentTrack();!t&&e&&n.setTrackAsShowing(e),n.setState({currentTrack:t,tracks:n.getTracks()})},n.onSubtitleLanguageChoiceClick=function(e){var t,i=n.props.player,r=n.state.currentTrack;r&&(r.mode="disabled"),po.set("subtitleLanguage",e?e.language:"none"),n.setTrackAsShowing(e),n.setState({currentTrack:e}),i.trigger("trackchange"),i.trigger("subtitleschange",{previousLanguage:null!==(t=null==r?void 0:r.language)&&void 0!==t?t:""})},n.onSubtitleMenuClick=function(){var e=n.props.onSubtitleMenuClick;n.setSubtitlePopUpHeight(),e()},n.onSubtitleOffClick=function(){var e,t=n.props.player,i=n.state.currentTrack;i&&(i.mode="disabled"),po.set("subtitleLanguage","none"),n.setState({currentTrack:null}),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(e=null==i?void 0:i.language)&&void 0!==e?e:""})},n.getCurrentTrack=function(){var e;return n.props.player.textTracks().tracks_.find((function(e){return"showing"===e.mode}))||null},n.getDefaultTrack=function(){var e=n.props.player,t=n.props.defaultSubtitleLanguage;return e.textTracks().tracks_.find((function(e){return e.language===t}))||null},n.setSubtitlePopUpHeight=function(){var e=n.props.player,t=window.getComputedStyle(e.el()).height;n.setState({subtitleMenuHeight:.8*parseInt(t,10)||200})},n.setTrackAsShowing=function(e){for(var t,i,r=n.props.player.textTracks().tracks_,o=0;o<r.length;o+=1){var a=r[o];"captions"===a.kind&&a.label===e.label?a.mode="showing":a.mode="disabled"}},n.throttledOnResize=Ao.a.throttle(n.setSubtitlePopUpHeight,100),n}yt()(SubtitleMenu,e);var t=SubtitleMenu.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;e.on("trackchange",this.onTrackChange),e.on("trackloaded",this.onTrackLoad),window.addEventListener("resize",this.throttledOnResize),this.setSubtitlePopUpHeight()},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.player;e.off("trackchange",this.onTrackChange),e.off("trackloaded",this.onTrackLoad),window.removeEventListener("resize",this.throttledOnResize)},t.render=function render(){var e=this.props,t=e.assignRef,n=e.menuPopupVisible,i=this.state,r=i.currentTrack,o=i.tracks,a=i.subtitleMenuHeight;if(!o||0===o.length)return null;return(se.createElement("div",{ref:t,className:"rc-SubtitleMenu"},se.createElement(oc,{menuPopupVisible:n,onClick:this.onSubtitleMenuClick}),se.createElement(cc,{visible:n,onSubtitleLanguageChoiceClick:this.onSubtitleLanguageChoiceClick,onSubtitleOffClick:this.onSubtitleOffClick,currentTrack:r,tracks:o,subtitleMenuHeight:a})))},SubtitleMenu}(se.Component),hc,mc=function VolumeMenuButton(e){var t=e.onVolumeButtonClick,n=e.volume,i=e.muted,r=Is()("Volume"),o=i?Is()("Unmute"):Is()("Mute"),s=Object(a.isRightToLeft)(Is.a.getLocale());return se.createElement(Ms.c,{placement:"top",message:o},se.createElement("button",{type:"button",className:tt()("vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-label":o,onClick:t},se.createElement("span",{className:tt()("cif-2x","cif-fw",{"cif-volume-up":!i&&n>.3,"cif-volume-down":!i&&n>0&&n<=.3,"cif-volume-off":i||0===n,"cif-rtl":s})}),se.createElement("span",{className:"vjs-control-text"}," ",r," ")))},fc=t("QbLZ"),gc=t.n(fc),vc=t("iCc5"),yc=t.n(vc),bc=t("V7oC"),Cc=t.n(bc),Sc=t("FYw3"),kc=t.n(Sc),wc=t("mRg0"),Tc=t.n(wc),Pc=t("2W6z"),Ec=t.n(Pc),xc=t("YEIV"),Oc=t.n(xc),Ac,jc=function Track(e){var t,n,i=e.className,r=e.included,o=e.vertical,a=e.offset,s=e.length,l=e.style,c=e.reverse,u=o?(t={},Oc()(t,c?"top":"bottom",a+"%"),Oc()(t,c?"bottom":"top","auto"),Oc()(t,"height",s+"%"),t):(n={},Oc()(n,c?"right":"left",a+"%"),Oc()(n,c?"left":"right","auto"),Oc()(n,"width",s+"%"),n),d=gc()({},l,u);return r?le.a.createElement("div",{className:i,style:d}):null},_c=t("jo6Y"),Mc=t.n(_c),Nc=t("tfYw"),Ic=t.n(Nc),Lc=t("LIAx"),Rc=t.n(Lc),Dc=t("i8i4"),Fc=t.n(Dc);function addEventListenerWrap(e,t,n){var i=Fc.a.unstable_batchedUpdates?function run(e){Fc.a.unstable_batchedUpdates(n,e)}:n;return Rc()(e,t,i)}var Vc=function calcPoints(e,t,n,i,r,o){Ec()(!n||i>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&i)for(var s=r;s<=o;s+=i)-1===a.indexOf(s)&&a.push(s);return a},Bc=function Steps(e){var t=e.prefixCls,n=e.vertical,i=e.reverse,r=e.marks,o=e.dots,a=e.step,s=e.included,l=e.lowerBound,c=e.upperBound,u=e.max,d=e.min,p=e.dotStyle,h=e.activeDotStyle,m=u-d,f=Vc(n,r,o,a,d,u).map((function(e){var r,o=Math.abs(e-d)/m*100+"%",a=!s&&e===c||s&&e<=c&&e>=l,u=n?gc()({},p,Oc()({},i?"top":"bottom",o)):gc()({},p,Oc()({},i?"right":"left",o));a&&(u=gc()({},u,h));var f=tt()((r={},Oc()(r,t+"-dot",!0),Oc()(r,t+"-dot-active",a),Oc()(r,t+"-dot-reverse",i),r));return le.a.createElement("span",{className:f,style:u,key:e})}));return le.a.createElement("div",{className:t+"-step"},f)};Bc.propTypes={prefixCls:pe.a.string,activeDotStyle:pe.a.object,dotStyle:pe.a.object,min:pe.a.number,max:pe.a.number,upperBound:pe.a.number,lowerBound:pe.a.number,included:pe.a.bool,dots:pe.a.bool,step:pe.a.number,marks:pe.a.object,vertical:pe.a.bool,reverse:pe.a.bool};var Hc=Bc,Uc=function Marks(e){var t=e.className,n=e.vertical,i=e.reverse,r=e.marks,o=e.included,a=e.upperBound,s=e.lowerBound,l=e.max,c=e.min,u=e.onClickLabel,d=Object.keys(r),p=l-c,h=d.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,d=r[e],h="object"==typeof d&&!le.a.isValidElement(d),m=h?d.label:d;if(!m&&0!==m)return null;var f=!o&&e===a||o&&e<=a&&e>=s,g=tt()((l={},Oc()(l,t+"-text",!0),Oc()(l,t+"-text-active",f),l)),v=Oc()({marginBottom:"-50%"},i?"top":"bottom",(e-c)/p*100+"%"),y=Oc()({transform:"translateX(-50%)",msTransform:"translateX(-50%)"},i?"right":"left",i?(e-c/4)/p*100+"%":(e-c)/p*100+"%"),b=n?v:y,C=h?gc()({},b,d.style):b;return le.a.createElement("span",{className:g,style:C,key:e,onMouseDown:function onMouseDown(t){return u(t,e)},onTouchStart:function onTouchStart(t){return u(t,e)}},m)}));return le.a.createElement("div",{className:t},h)};Uc.propTypes={className:pe.a.string,vertical:pe.a.bool,reverse:pe.a.bool,marks:pe.a.object,included:pe.a.bool,upperBound:pe.a.number,lowerBound:pe.a.number,max:pe.a.number,min:pe.a.number,onClickLabel:pe.a.func};var Wc=Uc,zc=function(e){function Handle(){var e,t,n,i;yc()(this,Handle);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=kc()(this,(e=Handle.__proto__||Object.getPrototypeOf(Handle)).call.apply(e,[this].concat(o))),n.state={clickFocused:!1},n.setHandleRef=function(e){n.handle=e},n.handleMouseUp=function(){document.activeElement===n.handle&&n.setClickFocus(!0)},n.handleMouseDown=function(){n.focus()},n.handleBlur=function(){n.setClickFocus(!1)},n.handleKeyDown=function(){n.setClickFocus(!1)},i=t,kc()(n,i)}return Tc()(Handle,e),Cc()(Handle,[{key:"componentDidMount",value:function componentDidMount(){this.onMouseUpListener=addEventListenerWrap(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function setClickFocus(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function clickFocus(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function focus(){this.handle.focus()}},{key:"blur",value:function blur(){this.handle.blur()}},{key:"render",value:function render(){var e,t,n=this.props,i=n.prefixCls,r=n.vertical,o=n.reverse,a=n.offset,s=n.style,l=n.disabled,c=n.min,u=n.max,d=n.value,p=n.tabIndex,h=Mc()(n,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex"]),m=tt()(this.props.className,Oc()({},i+"-handle-click-focused",this.state.clickFocused)),f=r?(e={},Oc()(e,o?"top":"bottom",a+"%"),Oc()(e,o?"bottom":"top","auto"),Oc()(e,"transform","translateY(+50%)"),e):(t={},Oc()(t,o?"right":"left",a+"%"),Oc()(t,o?"left":"right","auto"),Oc()(t,"transform","translateX("+(o?"+":"-")+"50%)"),t),g=gc()({},s,f),v=p||0;return(l||null===p)&&(v=null),le.a.createElement("div",gc()({ref:this.setHandleRef,tabIndex:v},h,{className:m,style:g,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":c,"aria-valuemax":u,"aria-valuenow":d,"aria-disabled":!!l}))}}]),Handle}(le.a.Component),qc=zc;zc.propTypes={prefixCls:pe.a.string,className:pe.a.string,vertical:pe.a.bool,offset:pe.a.number,style:pe.a.object,disabled:pe.a.bool,min:pe.a.number,max:pe.a.number,value:pe.a.number,tabIndex:pe.a.number,reverse:pe.a.bool};var Kc=t("m1cH"),Qc=t.n(Kc),Gc={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function isTextModifyingKeyEvent(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Gc.F1&&t<=Gc.F12)return!1;switch(t){case Gc.ALT:case Gc.CAPS_LOCK:case Gc.CONTEXT_MENU:case Gc.CTRL:case Gc.DOWN:case Gc.END:case Gc.ESC:case Gc.HOME:case Gc.INSERT:case Gc.LEFT:case Gc.MAC_FF_META:case Gc.META:case Gc.NUMLOCK:case Gc.NUM_CENTER:case Gc.PAGE_DOWN:case Gc.PAGE_UP:case Gc.PAUSE:case Gc.PRINT_SCREEN:case Gc.RIGHT:case Gc.SHIFT:case Gc.UP:case Gc.WIN_KEY:case Gc.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function isCharacterKey(e){if(e>=Gc.ZERO&&e<=Gc.NINE)return!0;if(e>=Gc.NUM_ZERO&&e<=Gc.NUM_MULTIPLY)return!0;if(e>=Gc.A&&e<=Gc.Z)return!0;if(-1!==window.navigation.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Gc.SPACE:case Gc.QUESTION_MARK:case Gc.NUM_PLUS:case Gc.NUM_MINUS:case Gc.NUM_PERIOD:case Gc.NUM_DIVISION:case Gc.SEMICOLON:case Gc.DASH:case Gc.EQUALS:case Gc.COMMA:case Gc.PERIOD:case Gc.SLASH:case Gc.APOSTROPHE:case Gc.SINGLE_QUOTE:case Gc.OPEN_SQUARE_BRACKET:case Gc.BACKSLASH:case Gc.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Yc=Gc;function isEventFromHandle(e,t){try{return Object.keys(t).some((function(n){return e.target===Object(Dc.findDOMNode)(t[n])}))}catch(e){return!1}}function isValueOutOfRange(e,t){var n=t.min,i=t.max;return e<n||e>i}function isNotTouchEvent(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function getClosestPoint(e,t){var n=t.marks,i=t.step,r=t.min,o=t.max,a=Object.keys(n).map(parseFloat);if(null!==i){var s=Math.floor((o-r)/i),l=Math.min((e-r)/i,s),c=Math.round(l)*i+r;a.push(c)}var u=a.map((function(t){return Math.abs(e-t)}));return a[u.indexOf(Math.min.apply(Math,Qc()(u)))]}function getPrecision(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function getMousePosition(e,t){return e?t.clientY:t.pageX}function getTouchPosition(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function getHandleCenterPosition(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function ensureValueInRange(e,t){var n=t.max,i=t.min;if(e<=i)return i;if(e>=n)return n;return e}function ensureValuePrecision(e,t){var n=t.step,i=isFinite(getClosestPoint(e,t))?getClosestPoint(e,t):0;return null===n?i:parseFloat(i.toFixed(getPrecision(n)))}function pauseEvent(e){e.stopPropagation(),e.preventDefault()}function calculateNextValue(e,t,n){var i={increase:function increase(e,t){return e+t},decrease:function decrease(e,t){return e-t}},r=i[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[r];if(n.step)return i[e](t,n.step);if(Object.keys(n.marks).length&&n.marks[o])return n.marks[o];return t}function getKeyboardValueMutator(e,t,n){var i="increase",r="decrease",o=i;switch(e.keyCode){case Yc.UP:o=t&&n?r:i;break;case Yc.RIGHT:o=!t&&n?r:i;break;case Yc.DOWN:o=t&&n?i:r;break;case Yc.LEFT:o=!t&&n?i:r;break;case Yc.END:return function(e,t){return t.max};case Yc.HOME:return function(e,t){return t.min};case Yc.PAGE_UP:return function(e,t){return e+2*t.step};case Yc.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return calculateNextValue(o,e,t)}}function createSlider_noop(){}function createSlider(e){var t,n;return n=t=function(e){function ComponentEnhancer(e){yc()(this,ComponentEnhancer);var t=kc()(this,(ComponentEnhancer.__proto__||Object.getPrototypeOf(ComponentEnhancer)).call(this,e));t.onMouseDown=function(e){if(0!==e.button)return;var n=t.props.vertical,i=getMousePosition(n,e);if(isEventFromHandle(e,t.handlesRefs)){var r=getHandleCenterPosition(n,e.target);t.dragOffset=i-r,i=r}else t.dragOffset=0;t.removeDocumentEvents(),t.onStart(i),t.addDocumentMouseEvents()},t.onTouchStart=function(e){if(isNotTouchEvent(e))return;var n=t.props.vertical,i=getTouchPosition(n,e);if(isEventFromHandle(e,t.handlesRefs)){var r=getHandleCenterPosition(n,e.target);t.dragOffset=i-r,i=r}else t.dragOffset=0;t.onStart(i),t.addDocumentTouchEvents(),pauseEvent(e)},t.onFocus=function(e){var n=t.props,i=n.onFocus,r=n.vertical;if(isEventFromHandle(e,t.handlesRefs)){var o=getHandleCenterPosition(r,e.target);t.dragOffset=0,t.onStart(o),pauseEvent(e),i&&i(e)}},t.onBlur=function(e){var n=t.props.onBlur;t.onEnd(),n&&n(e)},t.onMouseUp=function(){t.handlesRefs[t.prevMovedHandleIndex]&&t.handlesRefs[t.prevMovedHandleIndex].clickFocus()},t.onMouseMove=function(e){if(!t.sliderRef)return void t.onEnd();var n=getMousePosition(t.props.vertical,e);t.onMove(e,n-t.dragOffset)},t.onTouchMove=function(e){if(isNotTouchEvent(e)||!t.sliderRef)return void t.onEnd();var n=getTouchPosition(t.props.vertical,e);t.onMove(e,n-t.dragOffset)},t.onKeyDown=function(e){t.sliderRef&&isEventFromHandle(e,t.handlesRefs)&&t.onKeyboard(e)},t.onClickMarkLabel=function(e,n){e.stopPropagation(),t.onChange({value:n}),t.setState({value:n},(function(){return t.onEnd(!0)}))},t.saveSlider=function(e){t.sliderRef=e};var n=e.step,i=e.max,r=e.min,o=!isFinite(i-r)||(i-r)%n==0;return Ec()(!n||Math.floor(n)!==n||o,"Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)",i-r,n),t.handlesRefs={},t}return Tc()(ComponentEnhancer,e),Cc()(ComponentEnhancer,[{key:"componentDidMount",value:function componentDidMount(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){Ic()(ComponentEnhancer.prototype.__proto__||Object.getPrototypeOf(ComponentEnhancer.prototype),"componentWillUnmount",this)&&Ic()(ComponentEnhancer.prototype.__proto__||Object.getPrototypeOf(ComponentEnhancer.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function getSliderStart(){var e=this.sliderRef,t=this.props,n=t.vertical,i=t.reverse,r=e.getBoundingClientRect();if(n)return i?r.bottom:r.top;return window.pageXOffset+(i?r.right:r.left)}},{key:"getSliderLength",value:function getSliderLength(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function addDocumentTouchEvents(){this.onTouchMoveListener=addEventListenerWrap(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=addEventListenerWrap(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function addDocumentMouseEvents(){this.onMouseMoveListener=addEventListenerWrap(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=addEventListenerWrap(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function focus(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function blur(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()}))}},{key:"calcValue",value:function calcValue(e){var t=this.props,n=t.vertical,i=t.min,r=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength()),a;return n?(1-o)*(r-i)+i:o*(r-i)+i}},{key:"calcValueByPos",value:function calcValueByPos(e){var t,n=(this.props.reverse?-1:1)*(e-this.getSliderStart()),i;return this.trimAlignValue(this.calcValue(n))}},{key:"calcOffset",value:function calcOffset(e){var t=this.props,n=t.min,i,r;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function saveHandle(e,t){this.handlesRefs[e]=t}},{key:"render",value:function render(){var e,t=this.props,n=t.prefixCls,i=t.className,r=t.marks,o=t.dots,a=t.step,s=t.included,l=t.disabled,c=t.vertical,u=t.reverse,d=t.min,p=t.max,h=t.children,m=t.maximumTrackStyle,f=t.style,g=t.railStyle,v=t.dotStyle,y=t.activeDotStyle,b=Ic()(ComponentEnhancer.prototype.__proto__||Object.getPrototypeOf(ComponentEnhancer.prototype),"render",this).call(this),C=b.tracks,S=b.handles,k=tt()(n,(e={},Oc()(e,n+"-with-marks",Object.keys(r).length),Oc()(e,n+"-disabled",l),Oc()(e,n+"-vertical",c),Oc()(e,i,i),e));return le.a.createElement("div",{ref:this.saveSlider,className:k,onTouchStart:l?createSlider_noop:this.onTouchStart,onMouseDown:l?createSlider_noop:this.onMouseDown,onMouseUp:l?createSlider_noop:this.onMouseUp,onKeyDown:l?createSlider_noop:this.onKeyDown,onFocus:l?createSlider_noop:this.onFocus,onBlur:l?createSlider_noop:this.onBlur,style:f},le.a.createElement("div",{className:n+"-rail",style:gc()({},m,g)}),C,le.a.createElement(Hc,{prefixCls:n,vertical:c,reverse:u,marks:r,dots:o,step:a,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:d,dotStyle:v,activeDotStyle:y}),S,le.a.createElement(Wc,{className:n+"-mark",onClickLabel:l?createSlider_noop:this.onClickMarkLabel,vertical:c,marks:r,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:d,reverse:u}),h)}}]),ComponentEnhancer}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=gc()({},e.propTypes,{min:pe.a.number,max:pe.a.number,step:pe.a.number,marks:pe.a.object,included:pe.a.bool,className:pe.a.string,prefixCls:pe.a.string,disabled:pe.a.bool,children:pe.a.any,onBeforeChange:pe.a.func,onChange:pe.a.func,onAfterChange:pe.a.func,handle:pe.a.func,dots:pe.a.bool,vertical:pe.a.bool,style:pe.a.object,reverse:pe.a.bool,minimumTrackStyle:pe.a.object,maximumTrackStyle:pe.a.object,handleStyle:pe.a.oneOfType([pe.a.object,pe.a.arrayOf(pe.a.object)]),trackStyle:pe.a.oneOfType([pe.a.object,pe.a.arrayOf(pe.a.object)]),railStyle:pe.a.object,dotStyle:pe.a.object,activeDotStyle:pe.a.object,autoFocus:pe.a.bool,onFocus:pe.a.func,onBlur:pe.a.func}),t.defaultProps=gc()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function handle(e){var t=e.index,n=Mc()(e,["index"]);if(delete n.dragging,null===n.value)return null;return le.a.createElement(qc,gc()({},n,{key:t}))},onBeforeChange:createSlider_noop,onChange:createSlider_noop,onAfterChange:createSlider_noop,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}var Xc=function(e){function Slider(e){yc()(this,Slider);var t=kc()(this,(Slider.__proto__||Object.getPrototypeOf(Slider)).call(this,e));t.onEnd=function(e){var n=t.state.dragging;t.removeDocumentEvents(),(n||e)&&t.props.onAfterChange(t.getValue()),t.setState({dragging:!1})};var n=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:n;return t.state={value:t.trimAlignValue(i),dragging:!1},Ec()(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Ec()(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),t}return Tc()(Slider,e),Cc()(Slider,[{key:"componentDidUpdate",value:function componentDidUpdate(e,t){if(!("value"in this.props||"min"in this.props||"max"in this.props))return;var n=this.props,i=n.value,r=n.onChange,o=void 0!==i?i:t.value,a=this.trimAlignValue(o,this.props);a!==t.value&&(this.setState({value:a}),isValueOutOfRange(o,this.props)&&r(a))}},{key:"onChange",value:function onChange(e){var t=this.props,n=!("value"in t),i=e.value>this.props.max?gc()({},e,{value:this.props.max}):e;n&&this.setState(i);var r=i.value;t.onChange(r)}},{key:"onStart",value:function onStart(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var i=this.calcValueByPos(e);if(this.startValue=i,this.startPosition=e,i===n)return;this.prevMovedHandleIndex=0,this.onChange({value:i})}},{key:"onMove",value:function onMove(e,t){pauseEvent(e);var n=this.state.value,i=this.calcValueByPos(t);if(i===n)return;this.onChange({value:i})}},{key:"onKeyboard",value:function onKeyboard(e){var t=this.props,n=t.reverse,i,r=getKeyboardValueMutator(e,t.vertical,n);if(r){pauseEvent(e);var o,a=this.state.value,s=r(a,this.props),l=this.trimAlignValue(s);if(l===a)return;this.onChange({value:l}),this.props.onAfterChange(l),this.onEnd()}}},{key:"getValue",value:function getValue(){return this.state.value}},{key:"getLowerBound",value:function getLowerBound(){return this.props.min}},{key:"getUpperBound",value:function getUpperBound(){return this.state.value}},{key:"trimAlignValue",value:function trimAlignValue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=gc()({},this.props,t),i=ensureValueInRange(e,n);return ensureValuePrecision(i,n)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.prefixCls,i=t.vertical,r=t.included,o=t.disabled,a=t.minimumTrackStyle,s=t.trackStyle,l=t.handleStyle,c=t.tabIndex,u=t.min,d=t.max,p=t.reverse,h=t.handle,m=this.state,f=m.value,g=m.dragging,v=this.calcOffset(f),y=h({className:n+"-handle",prefixCls:n,vertical:i,offset:v,value:f,dragging:g,disabled:o,min:u,max:d,reverse:p,index:0,tabIndex:c,style:l[0]||l,ref:function ref(t){return e.saveHandle(0,t)}}),b=s[0]||s,C;return{tracks:le.a.createElement(jc,{className:n+"-track",vertical:i,included:r,offset:0,reverse:p,length:v,style:gc()({},a,b)}),handles:y}}}]),Slider}(le.a.Component);Xc.propTypes={defaultValue:pe.a.number,value:pe.a.number,disabled:pe.a.bool,autoFocus:pe.a.bool,tabIndex:pe.a.number,reverse:pe.a.bool,min:pe.a.number,max:pe.a.number};var Jc=createSlider(Xc),Zc=t("VCL8"),$c=t("Gytx"),eu=t.n($c),tu=function _trimAlignValue(e){var t=e.value,n=e.handle,i=e.bounds,r=e.props,o=r.allowCross,a=r.pushable,s=Number(a),l=ensureValueInRange(t,r),c=l;return o||null==n||void 0===i||(n>0&&l<=i[n-1]+s&&(c=i[n-1]+s),n<i.length-1&&l>=i[n+1]-s&&(c=i[n+1]-s)),ensureValuePrecision(c,r)},nu=function(e){function Range(e){yc()(this,Range);var t=kc()(this,(Range.__proto__||Object.getPrototypeOf(Range)).call(this,e));t.onEnd=function(e){var n=t.state.handle;t.removeDocumentEvents(),(null!==n||e)&&t.props.onAfterChange(t.getValue()),t.setState({handle:null})};var n=e.count,i=e.min,r=e.max,o=Array.apply(void 0,Qc()(Array(n+1))).map((function(){return i})),a="defaultValue"in e?e.defaultValue:o,s,l=(void 0!==e.value?e.value:a).map((function(t,n){return tu({value:t,handle:n,props:e})})),c=l[0]===r?0:l.length-1;return t.state={handle:null,recent:c,bounds:l},t}return Tc()(Range,e),Cc()(Range,[{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var n=this;if(!("value"in this.props||"min"in this.props||"max"in this.props))return;if(this.props.min===e.min&&this.props.max===e.max&&eu()(this.props.value,e.value))return;var i=this.props,r=i.onChange,o,a=i.value||t.bounds,s;a.some((function(e){return isValueOutOfRange(e,n.props)}))&&r(a.map((function(e){return ensureValueInRange(e,n.props)})))}},{key:"onChange",value:function onChange(e){var t=this.props,n;if(!("value"in t))this.setState(e);else{var i={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),Object.keys(i).length&&this.setState(i)}var r,o=gc()({},this.state,e).bounds;t.onChange(o)}},{key:"onStart",value:function onStart(e){var t=this.props,n=this.state,i=this.getValue();t.onBeforeChange(i);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var o=this.getClosestBound(r),a;if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r===i[this.prevMovedHandleIndex])return;var s=[].concat(Qc()(n.bounds));s[this.prevMovedHandleIndex]=r,this.onChange({bounds:s})}},{key:"onMove",value:function onMove(e,t){pauseEvent(e);var n=this.state,i=this.calcValueByPos(t),r;if(i===n.bounds[n.handle])return;this.moveTo(i)}},{key:"onKeyboard",value:function onKeyboard(e){var t=this.props,n=t.reverse,i,r=getKeyboardValueMutator(e,t.vertical,n);if(r){pauseEvent(e);var o=this.state,a=this.props,s=o.bounds,l=o.handle,c=s[null===l?o.recent:l],u=r(c,a),d=tu({value:u,handle:l,bounds:o.bounds,props:a});if(d===c)return;var p=!0;this.moveTo(d,!0)}}},{key:"getValue",value:function getValue(){return this.state.bounds}},{key:"getClosestBound",value:function getClosestBound(e){for(var t=this.state.bounds,n=0,i=1;i<t.length-1;++i)e>=t[i]&&(n=i);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function getBoundNeedMoving(e,t){var n=this.state,i=n.bounds,r=n.recent,o=t,a=i[t+1]===i[t];return a&&i[r]===i[t]&&(o=r),a&&e!==i[t+1]&&(o=e<i[t+1]?t:t+1),o}},{key:"getLowerBound",value:function getLowerBound(){return this.state.bounds[0]}},{key:"getUpperBound",value:function getUpperBound(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function getPoints(){var e=this.props,t=e.marks,n=e.step,i=e.min,r=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var a=gc()({},t);if(null!==n)for(var s=i;s<=r;s+=n)a[s]=s;var l=Object.keys(a).map(parseFloat);l.sort((function(e,t){return e-t})),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"moveTo",value:function moveTo(e,t){var n=this,i=this.state,r=this.props,o=[].concat(Qc()(i.bounds)),a=null===i.handle?i.recent:i.handle;o[a]=e;var s=a;!1!==r.pushable?this.pushSurroundingHandles(o,s):r.allowCross&&(o.sort((function(e,t){return e-t})),s=o.indexOf(e)),this.onChange({recent:s,handle:s,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function pushSurroundingHandles(e,t){var n=e[t],i=this.props.pushable;i=Number(i);var r=0;if(e[t+1]-n<i&&(r=1),n-e[t-1]<i&&(r=-1),0===r)return;var o=t+r,a=r*(e[o]-n);this.pushHandle(e,o,r,i-a)||(e[t]=e[o]-r*i)}},{key:"pushHandle",value:function pushHandle(e,t,n,i){for(var r=e[t],o=e[t];n*(o-r)<i;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=r,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function pushHandleOnePoint(e,t,n){var i=this.getPoints(),r,o=i.indexOf(e[t])+n;if(o>=i.length||o<0)return!1;var a=t+n,s=i[o],l=this.props.pushable,c=n*(e[a]-s);if(!this.pushHandle(e,a,n,l-c))return!1;return e[t]=s,!0}},{key:"trimAlignValue",value:function trimAlignValue(e){var t=this.state,n=t.handle,i=t.bounds;return tu({value:e,handle:n,bounds:i,props:this.props})}},{key:"render",value:function render(){var e=this,t=this.state,n=t.handle,i=t.bounds,r=this.props,o=r.prefixCls,a=r.vertical,s=r.included,l=r.disabled,c=r.min,u=r.max,d=r.reverse,p=r.handle,h=r.trackStyle,m=r.handleStyle,f=r.tabIndex,g=i.map((function(t){return e.calcOffset(t)})),v=o+"-handle",y=i.map((function(t,i){var r,s=f[i]||0;return(l||null===f[i])&&(s=null),p({className:tt()((r={},Oc()(r,v,!0),Oc()(r,v+"-"+(i+1),!0),r)),prefixCls:o,vertical:a,offset:g[i],value:t,dragging:n===i,index:i,tabIndex:s,min:c,max:u,reverse:d,disabled:l,style:m[i],ref:function ref(t){return e.saveHandle(i,t)}})})),b;return{tracks:i.slice(0,-1).map((function(_,e){var t,n=e+1,i=tt()((t={},Oc()(t,o+"-track",!0),Oc()(t,o+"-track-"+n,!0),t));return le.a.createElement(jc,{className:i,vertical:a,reverse:d,included:s,offset:g[n-1],length:g[n]-g[n-1],style:h[e],key:n})})),handles:y}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){if("value"in e||"min"in e||"max"in e){var n,i=(e.value||t.bounds).map((function(n,i){return tu({value:n,handle:i,bounds:t.bounds,props:e})}));if(i.length===t.bounds.length&&i.every((function(e,n){return e===t.bounds[n]})))return null;return gc()({},t,{bounds:i})}return null}}]),Range}(le.a.Component);nu.displayName="Range",nu.propTypes={autoFocus:pe.a.bool,defaultValue:pe.a.arrayOf(pe.a.number),value:pe.a.arrayOf(pe.a.number),count:pe.a.number,pushable:pe.a.oneOfType([pe.a.bool,pe.a.number]),allowCross:pe.a.bool,disabled:pe.a.bool,reverse:pe.a.bool,tabIndex:pe.a.arrayOf(pe.a.number),min:pe.a.number,max:pe.a.number},nu.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},Object(Zc.polyfill)(nu);var iu=createSlider(nu);function contains(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var ru=function(e){function ContainerRender(){var e,t,n,i;yc()(this,ContainerRender);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=kc()(this,(e=ContainerRender.__proto__||Object.getPrototypeOf(ContainerRender)).call.apply(e,[this].concat(o))),n.removeContainer=function(){n.container&&(Fc.a.unmountComponentAtNode(n.container),n.container.parentNode.removeChild(n.container),n.container=null)},n.renderComponent=function(e,t){var i=n.props,r=i.visible,o=i.getComponent,a=i.forceRender,s=i.getContainer,l=i.parent;(r||l._component||a)&&(n.container||(n.container=s()),Fc.a.unstable_renderSubtreeIntoContainer(l,o(e),n.container,(function callback(){t&&t.call(this)})))},i=t,kc()(n,i)}return Tc()(ContainerRender,e),Cc()(ContainerRender,[{key:"componentDidMount",value:function componentDidMount(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function render(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}]),ContainerRender}(le.a.Component);ru.propTypes={autoMount:pe.a.bool,autoDestroy:pe.a.bool,visible:pe.a.bool,forceRender:pe.a.bool,parent:pe.a.any,getComponent:pe.a.func.isRequired,getContainer:pe.a.func.isRequired,children:pe.a.func.isRequired},ru.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var ou=ru,au=function(e){function Portal(){return yc()(this,Portal),kc()(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).apply(this,arguments))}return Tc()(Portal,e),Cc()(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.createContainer()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeContainer()}},{key:"createContainer",value:function createContainer(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function removeContainer(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function render(){if(this._container)return Fc.a.createPortal(this.props.children,this._container);return null}}]),Portal}(le.a.Component);au.propTypes={getContainer:pe.a.func.isRequired,children:pe.a.node.isRequired,didUpdate:pe.a.func};var su=au;function isPointsEq(e,t,n){if(n)return e[0]===t[0];return e[0]===t[0]&&e[1]===t[1]}function getAlignFromPlacement(e,t,n){var i=e[t]||{};return gc()({},i,n)}function getAlignPopupClassName(e,t,n,i){var r=n.points;for(var o in e)if(e.hasOwnProperty(o)&&isPointsEq(e[o].points,r,i))return t+"-placement-"+o;return""}function saveRef(e,t){this[e]=t}var lu=void 0,cu={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(void 0!==lu)return lu;lu="";var e=document.createElement("p").style,t="Transform";for(var n in cu)n+t in e&&(lu=n);return lu}function getTransitionName(){return getVendorPrefix()?getVendorPrefix()+"TransitionProperty":"transitionProperty"}function getTransformName(){return getVendorPrefix()?getVendorPrefix()+"Transform":"transform"}function setTransitionProperty(e,t){var n=getTransitionName();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function setTransform(e,t){var n=getTransformName();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function getTransitionProperty(e){return e.style.transitionProperty||e.style[getTransitionName()]}function getTransformXY(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(getTransformName());if(n&&"none"!==n){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}var uu=/matrix\((.*)\)/,du=/matrix3d\((.*)\)/;function setTransformXY(e,t){var n=window.getComputedStyle(e,null),i=n.getPropertyValue("transform")||n.getPropertyValue(getTransformName());if(i&&"none"!==i){var r=void 0,o=i.match(uu),a;if(o)(r=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,r[5]=t.y,setTransform(e,"matrix("+r.join(",")+")");else(r=i.match(du)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,r[13]=t.y,setTransform(e,"matrix3d("+r.join(",")+")")}else setTransform(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}var pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu,mu=void 0;function forceRelayout(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function utils_css(e,t,n){var i=n;if("object"===(void 0===t?"undefined":pu(t))){for(var r in t)t.hasOwnProperty(r)&&utils_css(e,r,t[r]);return}if(void 0!==i)return"number"==typeof i&&(i+="px"),void(e.style[t]=i);return mu(e,t)}function getClientPosition(e){var t=void 0,n=void 0,i=void 0,r=e.ownerDocument,o=r.body,a=r&&r.documentElement;return n=(t=e.getBoundingClientRect()).left,i=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:i-=a.clientTop||o.clientTop||0}}function getScroll(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],i="scroll"+(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[i])&&(n=r.body[i])}return n}function getScrollLeft(e){return getScroll(e)}function getScrollTop(e){return getScroll(e,!0)}function getOffset(e){var t=getClientPosition(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=getScrollLeft(i),t.top+=getScrollTop(i),t}function isWindow(e){return null!=e&&e==e.window}function getDocument(e){if(isWindow(e))return e.document;if(9===e.nodeType)return e;return e.ownerDocument}function _getComputedStyle(e,t,n){var i=n,r="",o=getDocument(e);return(i=i||o.defaultView.getComputedStyle(e,null))&&(r=i.getPropertyValue(t)||i[t]),r}var fu=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),gu=/^(top|right|bottom|left)$/,vu="currentStyle",yu="runtimeStyle",bu="left",Cu="px";function _getComputedStyleIE(e,t){var n=e[vu]&&e[vu][t];if(fu.test(n)&&!gu.test(t)){var i=e.style,r=i[bu],o=e[yu][bu];e[yu][bu]=e[vu][bu],i[bu]="fontSize"===t?"1em":n||0,n=i.pixelLeft+Cu,i[bu]=r,e[yu][bu]=o}return""===n?"auto":n}function getOffsetDirection(e,t){if("left"===e)return t.useCssRight?"right":e;return t.useCssBottom?"bottom":e}function oppositeOffsetDirection(e){if("left"===e)return"right";if("right"===e)return"left";if("top"===e)return"bottom";if("bottom"===e)return"top"}function setLeftTop(e,t,n){"static"===utils_css(e,"position")&&(e.style.position="relative");var i=-999,r=-999,o=getOffsetDirection("left",n),a=getOffsetDirection("top",n),s=oppositeOffsetDirection(o),l=oppositeOffsetDirection(a);"left"!==o&&(i=999),"top"!==a&&(r=999);var c="",u=getOffset(e);("left"in t||"top"in t)&&(c=getTransitionProperty(e)||"",setTransitionProperty(e,"none")),"left"in t&&(e.style[s]="",e.style[o]=i+"px"),"top"in t&&(e.style[l]="",e.style[a]=r+"px"),forceRelayout(e);var d=getOffset(e),p={};for(var h in t)if(t.hasOwnProperty(h)){var m=getOffsetDirection(h,n),f="left"===h?i:r,g=u[h]-d[h];p[m]=m===h?f+g:f-g}utils_css(e,p),forceRelayout(e),("left"in t||"top"in t)&&setTransitionProperty(e,c);var v={};for(var y in t)if(t.hasOwnProperty(y)){var b=getOffsetDirection(y,n),C=t[y]-u[y];v[b]=y===b?p[b]+C:p[b]-C}utils_css(e,v)}function utils_setTransform(e,t){var n=getOffset(e),i=getTransformXY(e),r={x:i.x,y:i.y};"left"in t&&(r.x=i.x+t.left-n.left),"top"in t&&(r.y=i.y+t.top-n.top),setTransformXY(e,r)}function setOffset(e,t,n){if(n.ignoreShake){var i=getOffset(e),r=i.left.toFixed(0),o=i.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(r===a&&o===s)return}n.useCssRight||n.useCssBottom?setLeftTop(e,t,n):n.useCssTransform&&getTransformName()in document.body.style?utils_setTransform(e,t,n):setLeftTop(e,t,n)}function each(e,t){for(var n=0;n<e.length;n++)t(e[n])}function isBorderBoxFn(e){return"border-box"===mu(e,"boxSizing")}"undefined"!=typeof window&&(mu=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);var Su=["margin","border","padding"],ku=-1,wu=2,Tu=1,Pu=0;function swap(e,t,n){var i={},r=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o],r[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(r[o]=i[o])}function getPBMWidth(e,t,n){var i=0,r=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(r=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?""+r+n[a]+"Width":r+n[a],i+=parseFloat(mu(e,s))||0}return i}var Eu={};function getWH(e,t,n){var i=n;if(isWindow(e))return"width"===t?Eu.viewportWidth(e):Eu.viewportHeight(e);if(9===e.nodeType)return"width"===t?Eu.docWidth(e):Eu.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=mu(e),s=isBorderBoxFn(e,a),l=0;(null==o||o<=0)&&(o=void 0,(null==(l=mu(e,t))||Number(l)<0)&&(l=e.style[t]||0),l=parseFloat(l)||0),void 0===i&&(i=s?Tu:ku);var c=void 0!==o||s,u=o||l;if(i===ku){if(c)return u-getPBMWidth(e,["border","padding"],r,a);return l}if(c){if(i===Tu)return u;return u+(i===wu?-getPBMWidth(e,["border"],r,a):getPBMWidth(e,["margin"],r,a))}return l+getPBMWidth(e,Su.slice(i),r,a)}each(["Width","Height"],(function(e){Eu["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],Eu["viewport"+e](n))},Eu["viewport"+e]=function(t){var n="client"+e,i=t.document,r=i.body,o,a=i.documentElement[n];return"CSS1Compat"===i.compatMode&&a||r&&r[n]||a}}));var xu={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=void 0,r=t[0];return 0!==r.offsetWidth?i=getWH.apply(void 0,t):swap(r,xu,(function(){i=getWH.apply(void 0,t)})),i}function mix(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}each(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Eu["outer"+t]=function(t,n){return t&&getWHIgnoreDisplay(t,e,n?0:Tu)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Eu[e]=function(t,i){var r=i;if(void 0!==r){if(t){var o=mu(t),a;return isBorderBoxFn(t)&&(r+=getPBMWidth(t,["padding","border"],n,o)),utils_css(t,e,r)}return}return t&&getWHIgnoreDisplay(t,e,ku)}}));var Ou={getWindow:function getWindow(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:getDocument,offset:function offset(e,t,n){if(void 0===t)return getOffset(e);setOffset(e,t,n||{})},isWindow:isWindow,each:each,css:utils_css,clone:function clone(e){var t=void 0,n={},i;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:mix,getWindowScrollLeft:function getWindowScrollLeft(e){return getScrollLeft(e)},getWindowScrollTop:function getWindowScrollTop(e){return getScrollTop(e)},merge:function merge(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0;r<n.length;r++)Ou.mix(e,n[r]);return e},viewportWidth:0,viewportHeight:0};mix(Ou,Eu);var Au=Ou;function getOffsetParent(e){if(Au.isWindow(e)||9===e.nodeType)return null;var t,n=Au.getDocument(e).body,i=void 0,r=Au.css(e,"position"),o;if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(i=e.parentNode;i&&i!==n;i=i.parentNode)if("static"!==(r=Au.css(i,"position")))return i;return null}var ju=getOffsetParent;function isAncestorFixed(e){if(Au.isWindow(e)||9===e.nodeType)return!1;var t,n=Au.getDocument(e).body,i=null;for(i=e.parentNode;i&&i!==n;i=i.parentNode){var r;if("fixed"===Au.css(i,"position"))return!0}return!1}function getVisibleRectForElement(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=ju(e),i=Au.getDocument(e),r=i.defaultView||i.parentWindow,o=i.body,a=i.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===o||n===a||"visible"===Au.css(n,"overflow")){if(n===o||n===a)break}else{var s=Au.offset(n);s.left+=n.clientLeft,s.top+=n.clientTop,t.top=Math.max(t.top,s.top),t.right=Math.min(t.right,s.left+n.clientWidth),t.bottom=Math.min(t.bottom,s.top+n.clientHeight),t.left=Math.max(t.left,s.left)}n=ju(n)}var l=null,c;Au.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===Au.css(e,"position")&&(e.style.position="fixed"));var u=Au.getWindowScrollLeft(r),d=Au.getWindowScrollTop(r),p=Au.viewportWidth(r),h=Au.viewportHeight(r),m=a.scrollWidth,f=a.scrollHeight;if(e.style&&(e.style.position=l),isAncestorFixed(e))t.left=Math.max(t.left,u),t.top=Math.max(t.top,d),t.right=Math.min(t.right,u+p),t.bottom=Math.min(t.bottom,d+h);else{var g=Math.max(m,u+p);t.right=Math.min(t.right,g);var v=Math.max(f,d+h);t.bottom=Math.min(t.bottom,v)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}var _u=getVisibleRectForElement;function adjustForViewport(e,t,n,i){var r=Au.clone(e),o={width:t.width,height:t.height};return i.adjustX&&r.left<n.left&&(r.left=n.left),i.resizeWidth&&r.left>=n.left&&r.left+o.width>n.right&&(o.width-=r.left+o.width-n.right),i.adjustX&&r.left+o.width>n.right&&(r.left=Math.max(n.right-o.width,n.left)),i.adjustY&&r.top<n.top&&(r.top=n.top),i.resizeHeight&&r.top>=n.top&&r.top+o.height>n.bottom&&(o.height-=r.top+o.height-n.bottom),i.adjustY&&r.top+o.height>n.bottom&&(r.top=Math.max(n.bottom-o.height,n.top)),Au.mix(r,o)}var Mu=adjustForViewport;function getRegion(e){var t=void 0,n=void 0,i=void 0;if(Au.isWindow(e)||9===e.nodeType){var r=Au.getWindow(e);t={left:Au.getWindowScrollLeft(r),top:Au.getWindowScrollTop(r)},n=Au.viewportWidth(r),i=Au.viewportHeight(r)}else t=Au.offset(e),n=Au.outerWidth(e),i=Au.outerHeight(e);return t.width=n,t.height=i,t}var Nu=getRegion;function getAlignOffset(e,t){var n=t.charAt(0),i=t.charAt(1),r=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===i?a+=r/2:"r"===i&&(a+=r),{left:a,top:s}}var Iu=getAlignOffset;function getElFuturePos(e,t,n,i,r){var o=Iu(t,n[1]),a=Iu(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:e.left-s[0]+i[0]-r[0],top:e.top-s[1]+i[1]-r[1]}}var Lu=getElFuturePos;function isFailX(e,t,n){return e.left<n.left||e.left+t.width>n.right}function isFailY(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function isCompleteFailX(e,t,n){return e.left>n.right||e.left+t.width<n.left}function isCompleteFailY(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function flip(e,t,n){var i=[];return Au.each(e,(function(e){i.push(e.replace(t,(function(e){return n[e]})))})),i}function flipOffset(e,t){return e[t]=-e[t],e}function convertOffset(e,t){var n=void 0;return(n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function normalizeOffset(e,t){e[0]=convertOffset(e[0],t.width),e[1]=convertOffset(e[1],t.height)}function doAlign(e,t,n,i){var r=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;o=[].concat(o),a=[].concat(a),s=s||{};var c={},u=0,d=_u(l),p=Nu(l);normalizeOffset(o,p),normalizeOffset(a,t);var h=Lu(p,t,r,o,a),m=Au.merge(p,h);if(d&&(s.adjustX||s.adjustY)&&i){if(s.adjustX&&isFailX(h,p,d)){var f=flip(r,/[lr]/gi,{l:"r",r:"l"}),g=flipOffset(o,0),v=flipOffset(a,0),y;isCompleteFailX(Lu(p,t,f,g,v),p,d)||(u=1,r=f,o=g,a=v)}if(s.adjustY&&isFailY(h,p,d)){var b=flip(r,/[tb]/gi,{t:"b",b:"t"}),C=flipOffset(o,1),S=flipOffset(a,1),k;isCompleteFailY(Lu(p,t,b,C,S),p,d)||(u=1,r=b,o=C,a=S)}u&&(h=Lu(p,t,r,o,a),Au.mix(m,h));var w=isFailX(h,p,d),T=isFailY(h,p,d);(w||T)&&(r=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0]),c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&T,(c.adjustX||c.adjustY)&&(m=Mu(h,p,d,c))}return m.width!==p.width&&Au.css(l,"width",Au.width(l)+m.width-p.width),m.height!==p.height&&Au.css(l,"height",Au.height(l)+m.height-p.height),Au.offset(l,{left:m.left,top:m.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:r,offset:o,targetOffset:a,overflow:c}}var Ru=doAlign;function isOutOfVisibleRect(e){var t=_u(e),n=Nu(e);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}function alignElement(e,t,n){var i=n.target||t,r=Nu(i),o=!isOutOfVisibleRect(i);return Ru(e,r,n,o)}alignElement.__getOffsetParent=ju,alignElement.__getVisibleRectForElement=_u;var Du=alignElement,Fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function alignPoint_alignPoint(e,t,n){var i=void 0,r=void 0,o=Au.getDocument(e),a=o.defaultView||o.parentWindow,s=Au.getWindowScrollLeft(a),l=Au.getWindowScrollTop(a),c=Au.viewportWidth(a),u=Au.viewportHeight(a),d={left:i="pageX"in t?t.pageX:s+t.clientX,top:r="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},p=i>=0&&i<=s+c&&r>=0&&r<=l+u,h=[n.points[0],"cc"];return Ru(e,d,Fu({},n,{points:h}),p)}var Vu=alignPoint_alignPoint,Bu=Du;function buffer(e,t){var n=void 0;function clear(){n&&(clearTimeout(n),n=null)}function bufferFn(){clear(),n=setTimeout(e,t)}return bufferFn.clear=clear,bufferFn}function isSamePoint(e,t){if(e===t)return!0;if(!e||!t)return!1;if("pageX"in t&&"pageY"in t)return e.pageX===t.pageX&&e.pageY===t.pageY;if("clientX"in t&&"clientY"in t)return e.clientX===t.clientX&&e.clientY===t.clientY;return!1}function util_isWindow(e){return e&&"object"==typeof e&&e.window===e}function getElement(e){if("function"!=typeof e||!e)return null;return e()}function getPoint(e){if("object"!=typeof e||!e)return null;return e}var Hu=function(e){function Align(){var t,n,i;yc()(this,Align);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=kc()(this,e.call.apply(e,[this].concat(o))),n.forceAlign=function(){var e=n.props,t=e.disabled,i=e.target,r=e.align,o=e.onAlign;if(!t&&i){var a=Fc.a.findDOMNode(n),s=void 0,l=getElement(i),c=getPoint(i);l?s=Du(a,l,r):c&&(s=Vu(a,c,r)),o&&o(a,s)}},i=t,kc()(n,i)}return Tc()(Align,e),Align.prototype.componentDidMount=function componentDidMount(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},Align.prototype.componentDidUpdate=function componentDidUpdate(e){var t=!1,n=this.props;if(!n.disabled){var i=Fc.a.findDOMNode(this),r=i?i.getBoundingClientRect():null;if(e.disabled)t=!0;else{var o=getElement(e.target),a=getElement(n.target),s=getPoint(e.target),l=getPoint(n.target);util_isWindow(o)&&util_isWindow(a)?t=!1:(o!==a||o&&!a&&l||s&&l&&a||l&&!isSamePoint(s,l))&&(t=!0);var c=this.sourceRect||{};t||!i||c.width===r.width&&c.height===r.height||(t=!0)}this.sourceRect=r}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},Align.prototype.componentWillUnmount=function componentWillUnmount(){this.stopMonitorWindowResize()},Align.prototype.startMonitorWindowResize=function startMonitorWindowResize(){this.resizeHandler||(this.bufferMonitor=buffer(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=addEventListenerWrap(window,"resize",this.bufferMonitor))},Align.prototype.stopMonitorWindowResize=function stopMonitorWindowResize(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},Align.prototype.render=function render(){var e=this,t=this.props,n=t.childrenProps,i=t.children,r=le.a.Children.only(i);if(n){var o={},a;return Object.keys(n).forEach((function(t){o[t]=e.props[n[t]]})),le.a.cloneElement(r,o)}return r},Align}(se.Component);Hu.propTypes={childrenProps:pe.a.object,align:pe.a.object.isRequired,target:pe.a.oneOfType([pe.a.func,pe.a.shape({clientX:pe.a.number,clientY:pe.a.number,pageX:pe.a.number,pageY:pe.a.number})]),onAlign:pe.a.func,monitorBufferTime:pe.a.number,monitorWindowResize:pe.a.bool,disabled:pe.a.bool,children:pe.a.any},Hu.defaultProps={target:function target(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var Uu,Wu=Hu;function toArrayChildren(e){var t=[];return le.a.Children.forEach(e,(function(e){t.push(e)})),t}function findChildInChildrenByKey(e,t){var n=null;return e&&e.forEach((function(e){if(n)return;e&&e.key===t&&(n=e)})),n}function findShownChildInChildrenByKey(e,t,n){var i=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(i)throw new Error("two child with same key for <rc-animate> children");i=e}})),i}function findHiddenChildInChildrenByKey(e,t,n){var i=0;return e&&e.forEach((function(e){if(i)return;i=e&&e.key===t&&!e.props[n]})),i}function isSameChildren(e,t,n){var i=e.length===t.length;return i&&e.forEach((function(e,r){var o=t[r];e&&o&&(e&&!o||!e&&o?i=!1:e.key!==o.key?i=!1:n&&e.props[n]!==o.props[n]&&(i=!1))})),i}function mergeChildren(e,t){var n=[],i={},r=[];return e.forEach((function(e){e&&findChildInChildrenByKey(t,e.key)?r.length&&(i[e.key]=r,r=[]):r.push(e)})),t.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(i,e.key)&&(n=n.concat(i[e.key])),n.push(e)})),n=n.concat(r)}var zu=t("EJiy"),qu=t.n(zu),Ku={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Qu=[];function detectEvents(){var e,t=document.createElement("div").style;for(var n in"AnimationEvent"in window||delete Ku.animationend.animation,"TransitionEvent"in window||delete Ku.transitionend.transition,Ku)if(Ku.hasOwnProperty(n)){var i=Ku[n];for(var r in i)if(r in t){Qu.push(i[r]);break}}}function addEventListener(e,t,n){e.addEventListener(t,n,!1)}function removeEventListener(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&detectEvents();var Gu,Yu={addEndEventListener:function addEndEventListener(e,t){if(0===Qu.length)return void window.setTimeout(t,0);Qu.forEach((function(n){addEventListener(e,n,t)}))},endEvents:Qu,removeEndEventListener:function removeEndEventListener(e,t){if(0===Qu.length)return;Qu.forEach((function(n){removeEventListener(e,n,t)}))}},Xu=t("PFWz"),Ju=t.n(Xu),Zu=0!==Yu.endEvents.length,$u=["Webkit","Moz","O","ms"],ed=["-webkit-","-moz-","-o-","ms-",""];function getStyleProperty(e,t){for(var n=window.getComputedStyle(e,null),i="",r=0;r<ed.length&&!(i=n.getPropertyValue(ed[r]+t));r++);return i}function fixBrowserByTimeout(e){if(Zu){var t=parseFloat(getStyleProperty(e,"transition-delay"))||0,n=parseFloat(getStyleProperty(e,"transition-duration"))||0,i=parseFloat(getStyleProperty(e,"animation-delay"))||0,r=parseFloat(getStyleProperty(e,"animation-duration"))||0,o=Math.max(n+t,r+i);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*o+200)}}function clearBrowserBugTimeout(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var td=function cssAnimation(e,t,n){var i="object"===(void 0===t?"undefined":qu()(t)),r=i?t.name:t,o=i?t.active:t+"-active",a=n,s=void 0,l=void 0,c=Ju()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,s=n.start,l=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){if(t&&t.target!==e)return;e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),clearBrowserBugTimeout(e),c.remove(r),c.remove(o),Yu.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a()},Yu.addEndEventListener(e,e.rcEndListener),s&&s(),c.add(r),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,c.add(o),l&&setTimeout(l,0),fixBrowserByTimeout(e)}),30),{stop:function stop(){e.rcEndListener&&e.rcEndListener()}}};td.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){if(t&&t.target!==e)return;e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),clearBrowserBugTimeout(e),Yu.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n()},Yu.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,fixBrowserByTimeout(e)}),0)},td.setTransition=function(e,t,n){var i=t,r=n;void 0===n&&(r=i,i=""),i=i||"",$u.forEach((function(t){e.style[t+"Transition"+i]=r}))},td.isCssAnimationSupported=Zu;var nd=td,id,rd={isAppearSupported:function isAppearSupported(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function isEnterSupported(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function isLeaveSupported(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function allowAppearCallback(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function allowEnterCallback(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function allowLeaveCallback(e){return e.transitionLeave||e.animation.leave}},od={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},ad=function(e){function AnimateChild(){return yc()(this,AnimateChild),kc()(this,(AnimateChild.__proto__||Object.getPrototypeOf(AnimateChild)).apply(this,arguments))}return Tc()(AnimateChild,e),Cc()(AnimateChild,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.stop()}},{key:"componentWillEnter",value:function componentWillEnter(e){rd.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function componentWillAppear(e){rd.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function componentWillLeave(e){rd.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function transition(e,t){var n=this,i=Fc.a.findDOMNode(this),r=this.props,o=r.transitionName,a="object"==typeof o;this.stop();var s=function end(){n.stopper=null,t()};if((Zu||!r.animation[e])&&o&&r[od[e]]){var l=a?o[e]:o+"-"+e,c=l+"-active";a&&o[e+"Active"]&&(c=o[e+"Active"]),this.stopper=nd(i,{name:l,active:c},s)}else this.stopper=r.animation[e](i,s)}},{key:"stop",value:function stop(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function render(){return this.props.children}}]),AnimateChild}(le.a.Component);ad.propTypes={children:pe.a.any};var sd=ad,ld=t("xEkU"),cd=t.n(ld),ud=!("undefined"==typeof window||!window.document||!window.document.createElement);function makePrefixMap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function getVendorPrefixes(e,t){var n={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var dd=getVendorPrefixes(ud,"undefined"!=typeof window?window:{}),pd={};ud&&(pd=document.createElement("div").style);var hd={};function getVendorPrefixedEventName(e){if(hd[e])return hd[e];var t=dd[e];if(t)for(var n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var o=n[r];if(Object.prototype.hasOwnProperty.call(t,o)&&o in pd)return hd[e]=t[o],hd[e]}return""}var md=getVendorPrefixedEventName("animationend"),fd=getVendorPrefixedEventName("transitionend"),gd;function motion_getTransitionName(e,t){if(!e)return null;var n;if("object"==typeof e)return e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))];return e+"-"+t}var vd="none",yd="appear",bd="enter",Cd="leave";function genCSSMotion(e){function isSupportTransition(t){return!(!t.motionName||!e)}var t=function(e){function CSSMotion(){yc()(this,CSSMotion);var e=kc()(this,(CSSMotion.__proto__||Object.getPrototypeOf(CSSMotion)).call(this));return e.onDomUpdate=function(){var t=e.state,n=t.status,i=t.newStatus,r=e.props,o=r.onAppearStart,a=r.onEnterStart,s=r.onLeaveStart,l=r.onAppearActive,c=r.onEnterActive,u=r.onLeaveActive,d=r.motionAppear,p=r.motionEnter,h=r.motionLeave;if(!isSupportTransition(e.props))return;var m=Fc.a.findDOMNode(e);e.$ele!==m&&(e.removeEventListener(e.$ele),e.addEventListener(m),e.$ele=m),i&&n===yd&&d?e.updateStatus(o,null,null,(function(){e.updateActiveStatus(l,yd)})):i&&n===bd&&p?e.updateStatus(a,null,null,(function(){e.updateActiveStatus(c,bd)})):i&&n===Cd&&h&&e.updateStatus(s,null,null,(function(){e.updateActiveStatus(u,Cd)}))},e.onMotionEnd=function(t){var n=e.state,i=n.status,r=n.statusActive,o=e.props,a=o.onAppearEnd,s=o.onEnterEnd,l=o.onLeaveEnd;i===yd&&r?e.updateStatus(a,{status:vd},t):i===bd&&r?e.updateStatus(s,{status:vd},t):i===Cd&&r&&e.updateStatus(l,{status:vd},t)},e.addEventListener=function(t){if(!t)return;t.addEventListener(fd,e.onMotionEnd),t.addEventListener(md,e.onMotionEnd)},e.removeEventListener=function(t){if(!t)return;t.removeEventListener(fd,e.onMotionEnd),t.removeEventListener(md,e.onMotionEnd)},e.updateStatus=function(t,n,i,r){var o=t?t(Fc.a.findDOMNode(e),i):null;if(!1===o||e._destroyed)return;var a=void 0;r&&(a=function nextStep(){e.nextFrame(r)}),e.setState(gc()({statusStyle:"object"==typeof o?o:null,newStatus:!1},n),a)},e.updateActiveStatus=function(t,n){e.nextFrame((function(){var i;if(e.state.status!==n)return;e.updateStatus(t,{statusActive:!0})}))},e.nextFrame=function(t){e.cancelNextFrame(),e.raf=cd()(t)},e.cancelNextFrame=function(){e.raf&&(cd.a.cancel(e.raf),e.raf=null)},e.state={status:vd,statusActive:!1,newStatus:!1,statusStyle:null},e.$ele=null,e.raf=null,e}return Tc()(CSSMotion,e),Cc()(CSSMotion,[{key:"componentDidMount",value:function componentDidMount(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._destroyed=!0,this.removeEventListener(this.$ele),this.cancelNextFrame()}},{key:"render",value:function render(){var e,t=this.state,n=t.status,i=t.statusActive,r=t.statusStyle,o=this.props,a=o.children,s=o.motionName,l=o.visible,c=o.removeOnLeave;if(!a)return null;if(n===vd||!isSupportTransition(this.props))return l||!c?a({}):null;return a({className:tt()((e={},Oc()(e,motion_getTransitionName(s,n),n!==vd),Oc()(e,motion_getTransitionName(s,n+"-active"),n!==vd&&i),Oc()(e,s,"string"==typeof s),e)),style:r})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var n=t.prevProps;if(!isSupportTransition(e))return{};var i=e.visible,r=e.motionAppear,o=e.motionEnter,a=e.motionLeave,s=e.motionLeaveImmediately,l={prevProps:e};return!n&&i&&r&&(l.status=yd,l.statusActive=!1,l.newStatus=!0),n&&!n.visible&&i&&o&&(l.status=bd,l.statusActive=!1,l.newStatus=!0),(n&&n.visible&&!i&&a||!n&&s&&!i&&a)&&(l.status=Cd,l.statusActive=!1,l.newStatus=!0),l}}]),CSSMotion}(le.a.Component);return t.propTypes={visible:pe.a.bool,children:pe.a.func,motionName:pe.a.oneOfType([pe.a.string,pe.a.object]),motionAppear:pe.a.bool,motionEnter:pe.a.bool,motionLeave:pe.a.bool,motionLeaveImmediately:pe.a.bool,removeOnLeave:pe.a.bool,onAppearStart:pe.a.func,onAppearActive:pe.a.func,onAppearEnd:pe.a.func,onEnterStart:pe.a.func,onEnterActive:pe.a.func,onEnterEnd:pe.a.func,onLeaveStart:pe.a.func,onLeaveActive:pe.a.func,onLeaveEnd:pe.a.func},t.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},Object(Zc.polyfill)(t),t}var Sd=genCSSMotion(!(!md||!fd)),kd="rc_animate_"+Date.now();function getChildrenFromProps(e){var t=e.children;if(le.a.isValidElement(t)&&!t.key)return le.a.cloneElement(t,{key:kd});return t}function Animate_noop(){}var wd=function(e){function Animate(e){yc()(this,Animate);var t=kc()(this,(Animate.__proto__||Object.getPrototypeOf(Animate)).call(this,e));return Td.call(t),t.currentlyAnimatingKeys={},t.keysToEnter=[],t.keysToLeave=[],t.state={children:toArrayChildren(getChildrenFromProps(e))},t.childrenRefs={},t}return Tc()(Animate,e),Cc()(Animate,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this;this.nextProps=e;var n=toArrayChildren(getChildrenFromProps(e)),i=this.props;i.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var r=i.showProp,o=this.currentlyAnimatingKeys,a=i.exclusive?toArrayChildren(getChildrenFromProps(i)):this.state.children,s=[];r?(a.forEach((function(e){var t=e&&findChildInChildrenByKey(n,e.key),i=void 0;(i=t&&t.props[r]||!e.props[r]?t:le.a.cloneElement(t||e,Oc()({},r,!0)))&&s.push(i)})),n.forEach((function(e){e&&findChildInChildrenByKey(a,e.key)||s.push(e)}))):s=mergeChildren(a,n),this.setState({children:s}),n.forEach((function(e){var n=e&&e.key;if(e&&o[n])return;var i=e&&findChildInChildrenByKey(a,n);if(r){var s=e.props[r],l;if(i)!findShownChildInChildrenByKey(a,n,r)&&s&&t.keysToEnter.push(n);else s&&t.keysToEnter.push(n)}else i||t.keysToEnter.push(n)})),a.forEach((function(e){var i=e&&e.key;if(e&&o[i])return;var a=e&&findChildInChildrenByKey(n,i);if(r){var s=e.props[r],l;if(a)!findShownChildInChildrenByKey(n,i,r)&&s&&t.keysToLeave.push(i);else s&&t.keysToLeave.push(i)}else a||t.keysToLeave.push(i)}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function isValidChildByKey(e,t){var n=this.props.showProp;if(n)return findShownChildInChildrenByKey(e,t,n);return findChildInChildrenByKey(e,t)}},{key:"stop",value:function stop(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function render(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,i=null;n&&(i=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return le.a.createElement(sd,{key:n.key,ref:function ref(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var r=t.component;if(r){var o=t;return"string"==typeof r&&(o=gc()({className:t.className,style:t.style},t.componentProps)),le.a.createElement(r,o,i)}return i[0]||null}}]),Animate}(le.a.Component);wd.isAnimate=!0,wd.CSSMotion=Sd,wd.propTypes={component:pe.a.any,componentProps:pe.a.object,animation:pe.a.object,transitionName:pe.a.oneOfType([pe.a.string,pe.a.object]),transitionEnter:pe.a.bool,transitionAppear:pe.a.bool,exclusive:pe.a.bool,transitionLeave:pe.a.bool,onEnd:pe.a.func,onEnter:pe.a.func,onLeave:pe.a.func,onAppear:pe.a.func,showProp:pe.a.string,children:pe.a.node},wd.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:Animate_noop,onEnter:Animate_noop,onLeave:Animate_noop,onAppear:Animate_noop};var Td=function _initialiseProps(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var i=e.props;if(delete e.currentlyAnimatingKeys[t],i.exclusive&&i!==e.nextProps)return;var r=toArrayChildren(getChildrenFromProps(i));e.isValidChildByKey(r,t)?"appear"===n?rd.allowAppearCallback(i)&&(i.onAppear(t),i.onEnd(t,!0)):rd.allowEnterCallback(i)&&(i.onEnter(t),i.onEnd(t,!0)):e.performLeave(t)},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],n.exclusive&&n!==e.nextProps)return;var i=toArrayChildren(getChildrenFromProps(n));if(e.isValidChildByKey(i,t))e.performEnter(t);else{var r=function end(){rd.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};isSameChildren(e.state.children,i,n.showProp)?r():e.setState({children:i},r)}}},Pd=wd,Ed=function(e){function LazyRenderBox(){return yc()(this,LazyRenderBox),kc()(this,e.apply(this,arguments))}return Tc()(LazyRenderBox,e),LazyRenderBox.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return e.hiddenClassName||e.visible},LazyRenderBox.prototype.render=function render(){var e=this.props,t=e.hiddenClassName,n=e.visible,i=Mc()(e,["hiddenClassName","visible"]);if(t||le.a.Children.count(i.children)>1)return!n&&t&&(i.className+=" "+t),le.a.createElement("div",i);return le.a.Children.only(i.children)},LazyRenderBox}(se.Component);Ed.propTypes={children:pe.a.any,className:pe.a.string,visible:pe.a.bool,hiddenClassName:pe.a.string};var xd=Ed,Od=function(e){function PopupInner(){return yc()(this,PopupInner),kc()(this,e.apply(this,arguments))}return Tc()(PopupInner,e),PopupInner.prototype.render=function render(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),le.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,style:e.style},le.a.createElement(xd,{className:e.prefixCls+"-content",visible:e.visible},e.children))},PopupInner}(se.Component);Od.propTypes={hiddenClassName:pe.a.string,className:pe.a.string,prefixCls:pe.a.string,onMouseEnter:pe.a.func,onMouseLeave:pe.a.func,onMouseDown:pe.a.func,children:pe.a.any};var Ad=Od,jd=function(e){function Popup(t){yc()(this,Popup);var n=kc()(this,e.call(this,t));return _d.call(n),n.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},n.savePopupRef=saveRef.bind(n,"popupInstance"),n.saveAlignRef=saveRef.bind(n,"alignInstance"),n}return Tc()(Popup,e),Popup.prototype.componentDidMount=function componentDidMount(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},Popup.prototype.componentDidUpdate=function componentDidUpdate(){this.setStretchSize()},Popup.prototype.getPopupDomNode=function getPopupDomNode(){return Fc.a.findDOMNode(this.popupInstance)},Popup.prototype.getMaskTransitionName=function getMaskTransitionName(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},Popup.prototype.getTransitionName=function getTransitionName(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},Popup.prototype.getClassName=function getClassName(e){return this.props.prefixCls+" "+this.props.className+" "+e},Popup.prototype.getPopupElement=function getPopupElement(){var e=this,t=this.savePopupRef,n=this.state,i=n.stretchChecked,r=n.targetHeight,o=n.targetWidth,a=this.props,s=a.align,l=a.visible,c=a.prefixCls,u=a.style,d=a.getClassNameFromAlign,p=a.destroyPopupOnHide,h=a.stretch,m=a.children,f=a.onMouseEnter,g=a.onMouseLeave,v=a.onMouseDown,y=this.getClassName(this.currentAlignClassName||d(s)),b=c+"-hidden";l||(this.currentAlignClassName=null);var C={};h&&(-1!==h.indexOf("height")?C.height=r:-1!==h.indexOf("minHeight")&&(C.minHeight=r),-1!==h.indexOf("width")?C.width=o:-1!==h.indexOf("minWidth")&&(C.minWidth=o),i||(C.visibility="hidden",setTimeout((function(){e.alignInstance&&e.alignInstance.forceAlign()}),0)));var S,k={className:y,prefixCls:c,ref:t,onMouseEnter:f,onMouseLeave:g,onMouseDown:v,style:gc()({},C,u,this.getZIndexStyle())};if(p)return le.a.createElement(Pd,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},l?le.a.createElement(Wu,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:s,onAlign:this.onAlign},le.a.createElement(Ad,gc()({visible:!0},k),m)):null);return le.a.createElement(Pd,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},le.a.createElement(Wu,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:l,childrenProps:{visible:"xVisible"},disabled:!l,align:s,onAlign:this.onAlign},le.a.createElement(Ad,gc()({hiddenClassName:b},k),m)))},Popup.prototype.getZIndexStyle=function getZIndexStyle(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},Popup.prototype.getMaskElement=function getMaskElement(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=le.a.createElement(xd,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=le.a.createElement(Pd,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},Popup.prototype.render=function render(){return le.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},Popup}(se.Component);jd.propTypes={visible:pe.a.bool,style:pe.a.object,getClassNameFromAlign:pe.a.func,onAlign:pe.a.func,getRootDomNode:pe.a.func,align:pe.a.any,destroyPopupOnHide:pe.a.bool,className:pe.a.string,prefixCls:pe.a.string,onMouseEnter:pe.a.func,onMouseLeave:pe.a.func,onMouseDown:pe.a.func,stretch:pe.a.string,children:pe.a.node,point:pe.a.shape({pageX:pe.a.number,pageY:pe.a.number})};var _d=function _initialiseProps(){var e=this;this.onAlign=function(t,n){var i=e.props,r=i.getClassNameFromAlign(n);e.currentAlignClassName!==r&&(e.currentAlignClassName=r,t.className=e.getClassName(r)),i.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,i=t.getRootDomNode,r=t.visible,o=e.state,a=o.stretchChecked,s=o.targetHeight,l=o.targetWidth;if(!n||!r)return void(a&&e.setState({stretchChecked:!1}));var c=i();if(!c)return;var u=c.offsetHeight,d=c.offsetWidth;s===u&&l===d&&a||e.setState({stretchChecked:!0,targetHeight:u,targetWidth:d})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;if(t)return t;return e.getTargetElement}},Md=jd;function es_noop(){}function returnEmptyString(){return""}function returnDocument(){return window.document}var Nd=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],Id=!!Dc.createPortal,Ld={rcTrigger:pe.a.shape({onPopupMouseDown:pe.a.func})},Rd=function(e){function Trigger(t){yc()(this,Trigger);var n=kc()(this,e.call(this,t));Dd.call(n);var i=void 0;return i="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,n.prevPopupVisible=i,n.state={popupVisible:i},n}return Tc()(Trigger,e),Trigger.prototype.getChildContext=function getChildContext(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},Trigger.prototype.componentWillMount=function componentWillMount(){var e=this;Nd.forEach((function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}}))},Trigger.prototype.componentDidMount=function componentDidMount(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},Trigger.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},Trigger.prototype.componentDidUpdate=function componentDidUpdate(_,e){var t=this.props,n=this.state,i=function triggerAfterPopupVisibleChange(){e.popupVisible!==n.popupVisible&&t.afterPopupVisibleChange(n.popupVisible)};if(Id||this.renderComponent(null,i),this.prevPopupVisible=e.popupVisible,n.popupVisible){var r=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(r=t.getDocument(),this.clickOutsideHandler=addEventListenerWrap(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||t.getDocument(),this.touchOutsideHandler=addEventListenerWrap(r,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(r=r||t.getDocument(),this.contextMenuOutsideHandler1=addEventListenerWrap(r,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=addEventListenerWrap(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},Trigger.prototype.componentWillUnmount=function componentWillUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},Trigger.prototype.getPopupDomNode=function getPopupDomNode(){if(this._component&&this._component.getPopupDomNode)return this._component.getPopupDomNode();return null},Trigger.prototype.getPopupAlign=function getPopupAlign(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;if(t&&i)return getAlignFromPlacement(i,t,n);return n},Trigger.prototype.setPopupVisible=function setPopupVisible(e,t){var n=this.props.alignPoint;this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},Trigger.prototype.delaySetPopupVisible=function delaySetPopupVisible(e,t,n){var i=this,r=1e3*t;if(this.clearDelayTimer(),r){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout((function(){i.setPopupVisible(e,o),i.clearDelayTimer()}),r)}else this.setPopupVisible(e,n)},Trigger.prototype.clearDelayTimer=function clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},Trigger.prototype.clearOutsideHandler=function clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},Trigger.prototype.createTwoChains=function createTwoChains(e){var t=this.props.children.props,n=this.props;if(t[e]&&n[e])return this["fire"+e];return t[e]||n[e]},Trigger.prototype.isClickToShow=function isClickToShow(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},Trigger.prototype.isContextMenuToShow=function isContextMenuToShow(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},Trigger.prototype.isClickToHide=function isClickToHide(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},Trigger.prototype.isMouseEnterToShow=function isMouseEnterToShow(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},Trigger.prototype.isMouseLeaveToHide=function isMouseLeaveToHide(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},Trigger.prototype.isFocusToShow=function isFocusToShow(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},Trigger.prototype.isBlurToHide=function isBlurToHide(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},Trigger.prototype.forcePopupAlign=function forcePopupAlign(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},Trigger.prototype.fireEvents=function fireEvents(e,t){var n=this.props.children.props[e];n&&n(t);var i=this.props[e];i&&i(t)},Trigger.prototype.close=function close(){this.setPopupVisible(!1)},Trigger.prototype.render=function render(){var e=this,t=this.state.popupVisible,n=this.props,i=n.children,r=n.forceRender,o=n.alignPoint,a=n.className,s=le.a.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=tt()(s&&s.props&&s.props.className,a);c&&(l.className=c);var u=le.a.cloneElement(s,l);if(!Id)return le.a.createElement(ou,{parent:this,visible:t,autoMount:!1,forceRender:r,getComponent:this.getComponent,getContainer:this.getContainer},(function(t){var n=t.renderComponent;return e.renderComponent=n,u}));var d=void 0;return(t||this._component||r)&&(d=le.a.createElement(su,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[u,d]},Trigger}(le.a.Component);Rd.propTypes={children:pe.a.any,action:pe.a.oneOfType([pe.a.string,pe.a.arrayOf(pe.a.string)]),showAction:pe.a.any,hideAction:pe.a.any,getPopupClassNameFromAlign:pe.a.any,onPopupVisibleChange:pe.a.func,afterPopupVisibleChange:pe.a.func,popup:pe.a.oneOfType([pe.a.node,pe.a.func]).isRequired,popupStyle:pe.a.object,prefixCls:pe.a.string,popupClassName:pe.a.string,className:pe.a.string,popupPlacement:pe.a.string,builtinPlacements:pe.a.object,popupTransitionName:pe.a.oneOfType([pe.a.string,pe.a.object]),popupAnimation:pe.a.any,mouseEnterDelay:pe.a.number,mouseLeaveDelay:pe.a.number,zIndex:pe.a.number,focusDelay:pe.a.number,blurDelay:pe.a.number,getPopupContainer:pe.a.func,getDocument:pe.a.func,forceRender:pe.a.bool,destroyPopupOnHide:pe.a.bool,mask:pe.a.bool,maskClosable:pe.a.bool,onPopupAlign:pe.a.func,popupAlign:pe.a.object,popupVisible:pe.a.bool,defaultPopupVisible:pe.a.bool,maskTransitionName:pe.a.oneOfType([pe.a.string,pe.a.object]),maskAnimation:pe.a.string,stretch:pe.a.string,alignPoint:pe.a.bool},Rd.contextTypes=Ld,Rd.childContextTypes=Ld,Rd.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:returnEmptyString,getDocument:returnDocument,onPopupVisibleChange:es_noop,afterPopupVisibleChange:es_noop,onPopupAlign:es_noop,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var Dd=function _initialiseProps(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){if(t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&contains(e._component.getPopupDomNode(),t.relatedTarget))return;e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,t&&t.preventDefault&&t.preventDefault();var i=!e.state.popupVisible;(e.isClickToHide()&&!i||i&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(e.props.mask&&!e.props.maskClosable)return;var n=t.target,i;contains(Object(Dc.findDOMNode)(e),n)||e.hasPopupMouseDown||e.close()},this.getRootDomNode=function(){return Object(Dc.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],i=e.props,r=i.popupPlacement,o=i.builtinPlacements,a=i.prefixCls,s=i.alignPoint,l=i.getPopupClassNameFromAlign;return r&&o&&n.push(getAlignPopupClassName(o,a,t,s)),l&&n.push(l(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,i=t.destroyPopupOnHide,r=t.popupClassName,o=t.action,a=t.onPopupAlign,s=t.popupAnimation,l=t.popupTransitionName,c=t.popupStyle,u=t.mask,d=t.maskAnimation,p=t.maskTransitionName,h=t.zIndex,m=t.popup,f=t.stretch,g=t.alignPoint,v=e.state,y=v.popupVisible,b=v.point,C=e.getPopupAlign(),S={};return e.isMouseEnterToShow()&&(S.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(S.onMouseLeave=e.onPopupMouseLeave),S.onMouseDown=e.onPopupMouseDown,le.a.createElement(Md,gc()({prefixCls:n,destroyPopupOnHide:i,visible:y,point:g&&b,className:r,action:o,align:C,onAlign:a,animation:s,getClassNameFromAlign:e.getPopupClassNameFromAlign},S,{stretch:f,getRootDomNode:e.getRootDomNode,style:c,mask:u,zIndex:h,transitionName:l,maskAnimation:d,maskTransitionName:p,ref:e.savePopup}),"function"==typeof m?m():m)},this.getContainer=function(){var t=e.props,n=document.createElement("div"),i;return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(Dc.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){var n;if(!e.props.alignPoint||!t)return;e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}},Fd=Rd,Vd={adjustX:1,adjustY:1},Bd=[0,0],Hd={left:{points:["cr","cl"],overflow:Vd,offset:[-4,0],targetOffset:Bd},right:{points:["cl","cr"],overflow:Vd,offset:[4,0],targetOffset:Bd},top:{points:["bc","tc"],overflow:Vd,offset:[0,-4],targetOffset:Bd},bottom:{points:["tc","bc"],overflow:Vd,offset:[0,4],targetOffset:Bd},topLeft:{points:["bl","tl"],overflow:Vd,offset:[0,-4],targetOffset:Bd},leftTop:{points:["tr","tl"],overflow:Vd,offset:[-4,0],targetOffset:Bd},topRight:{points:["br","tr"],overflow:Vd,offset:[0,-4],targetOffset:Bd},rightTop:{points:["tl","tr"],overflow:Vd,offset:[4,0],targetOffset:Bd},bottomRight:{points:["tr","br"],overflow:Vd,offset:[0,4],targetOffset:Bd},rightBottom:{points:["bl","br"],overflow:Vd,offset:[4,0],targetOffset:Bd},bottomLeft:{points:["tl","bl"],overflow:Vd,offset:[0,4],targetOffset:Bd},leftBottom:{points:["br","bl"],overflow:Vd,offset:[-4,0],targetOffset:Bd}},Ud=Hd,Wd=function(e){function Content(){return yc()(this,Content),kc()(this,e.apply(this,arguments))}return Tc()(Content,e),Content.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.trigger;e&&e.forcePopupAlign()},Content.prototype.render=function render(){var e=this.props,t=e.overlay,n=e.prefixCls,i=e.id;return le.a.createElement("div",{className:n+"-inner",id:i,role:"tooltip"},"function"==typeof t?t():t)},Content}(le.a.Component);Wd.propTypes={prefixCls:pe.a.string,overlay:pe.a.oneOfType([pe.a.node,pe.a.func]).isRequired,id:pe.a.string,trigger:pe.a.any};var zd=Wd,qd=function(e){function Tooltip(){var t,n,i;yc()(this,Tooltip);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=kc()(this,e.call.apply(e,[this].concat(o))),n.getPopupElement=function(){var e=n.props,t=e.arrowContent,i=e.overlay,r=e.prefixCls,o=e.id;return[le.a.createElement("div",{className:r+"-arrow",key:"arrow"},t),le.a.createElement(zd,{key:"content",trigger:n.trigger,prefixCls:r,id:o,overlay:i})]},n.saveTrigger=function(e){n.trigger=e},i=t,kc()(n,i)}return Tc()(Tooltip,e),Tooltip.prototype.getPopupDomNode=function getPopupDomNode(){return this.trigger.getPopupDomNode()},Tooltip.prototype.render=function render(){var e=this.props,t=e.overlayClassName,n=e.trigger,i=e.mouseEnterDelay,r=e.mouseLeaveDelay,o=e.overlayStyle,a=e.prefixCls,s=e.children,l=e.onVisibleChange,c=e.afterVisibleChange,u=e.transitionName,d=e.animation,p=e.placement,h=e.align,m=e.destroyTooltipOnHide,f=e.defaultVisible,g=e.getTooltipContainer,v=Mc()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),y=gc()({},v);return"visible"in this.props&&(y.popupVisible=this.props.visible),le.a.createElement(Fd,gc()({popupClassName:t,ref:this.saveTrigger,prefixCls:a,popup:this.getPopupElement,action:n,builtinPlacements:Hd,popupPlacement:p,popupAlign:h,getPopupContainer:g,onPopupVisibleChange:l,afterPopupVisibleChange:c,popupTransitionName:u,popupAnimation:d,defaultPopupVisible:f,destroyPopupOnHide:m,mouseLeaveDelay:r,popupStyle:o,mouseEnterDelay:i},y),s)},Tooltip}(se.Component);qd.propTypes={trigger:pe.a.any,children:pe.a.any,defaultVisible:pe.a.bool,visible:pe.a.bool,placement:pe.a.string,transitionName:pe.a.oneOfType([pe.a.string,pe.a.object]),animation:pe.a.any,onVisibleChange:pe.a.func,afterVisibleChange:pe.a.func,overlay:pe.a.oneOfType([pe.a.node,pe.a.func]).isRequired,overlayStyle:pe.a.object,overlayClassName:pe.a.string,prefixCls:pe.a.string,mouseEnterDelay:pe.a.number,mouseLeaveDelay:pe.a.number,getTooltipContainer:pe.a.func,destroyTooltipOnHide:pe.a.bool,align:pe.a.object,arrowContent:pe.a.any,id:pe.a.string},qd.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var Kd,Qd=qd;function createSliderWithTooltip(e){var t,n;return n=t=function(t){function ComponentWrapper(){var e,t,n,i;yc()(this,ComponentWrapper);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=kc()(this,(e=ComponentWrapper.__proto__||Object.getPrototypeOf(ComponentWrapper)).call.apply(e,[this].concat(o))),n.state={visibles:{}},n.handleTooltipVisibleChange=function(e,t){n.setState((function(n){return{visibles:gc()({},n.visibles,Oc()({},e,t))}}))},n.handleWithTooltip=function(e){var t=e.value,i=e.dragging,r=e.index,o=e.disabled,a=Mc()(e,["value","dragging","index","disabled"]),s=n.props,l=s.tipFormatter,c=s.tipProps,u=s.handleStyle,d=c.prefixCls,p=void 0===d?"rc-slider-tooltip":d,h=c.overlay,m=void 0===h?l(t):h,f=c.placement,g=void 0===f?"top":f,v=c.visible,y=void 0!==v&&v,b=Mc()(c,["prefixCls","overlay","placement","visible"]),C=void 0;return C=Array.isArray(u)?u[r]||u[0]:u,le.a.createElement(Qd,gc()({},b,{prefixCls:p,overlay:m,placement:g,visible:!o&&(n.state.visibles[r]||i)||y,key:r}),le.a.createElement(qc,gc()({},a,{style:gc()({},C),value:t,onMouseEnter:function onMouseEnter(){return n.handleTooltipVisibleChange(r,!0)},onMouseLeave:function onMouseLeave(){return n.handleTooltipVisibleChange(r,!1)}})))},i=t,kc()(n,i)}return Tc()(ComponentWrapper,t),Cc()(ComponentWrapper,[{key:"render",value:function render(){return le.a.createElement(e,gc()({},this.props,{handle:this.handleWithTooltip}))}}]),ComponentWrapper}(le.a.Component),t.propTypes={tipFormatter:pe.a.func,handleStyle:pe.a.oneOfType([pe.a.object,pe.a.arrayOf(pe.a.object)]),tipProps:pe.a.object},t.defaultProps={tipFormatter:function tipFormatter(e){return e},handleStyle:[{}],tipProps:{}},n}Jc.Range=iu,Jc.Handle=qc,Jc.createSliderWithTooltip=createSliderWithTooltip;var Gd=Jc,Yd=t("GmE1"),Xd=t("P8KX"),Jd,Zd=function VolumeMenuPopup(e){var t=e.visible,n=e.volume,i=e.muted,r=e.onVolumeSliderChange,o=e.onBeforeChange,s=e.onAfterChange;return(se.createElement("div",{className:tt()("rc-VolumeMenuPopup","horizontal-box","align-items-absolute-center",{visible:t})},se.createElement(Gd,{className:"rc-VolumeSlider",value:i?0:100*n,onChange:r,onBeforeChange:o,onAfterChange:s,trackStyle:{backgroundColor:lt.b.white,cursor:"pointer"},handleStyle:{borderColor:lt.b.white,height:"10px",width:"10px",marginLeft:"-5px",marginTop:"-3px",cursor:"pointer"},railStyle:{backgroundColor:"#aaa"},reverse:Object(a.isRightToLeft)(Is.a.getLocale())})))},$d=t("8i3M"),ep=function(e){function VolumeMenu(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={menuPopupVisible:!1,muted:null,volume:null,isSliderChanging:!1},t.onClick=function(e){e.stopPropagation()},t.showVolumeMenuPopup=function(){var e;(0,t.props.setVolumeMenuPopup)(),t.setState({menuPopupVisible:!0})},t.onMenuEnter=function(e){e.stopPropagation(),t.showVolumeMenuPopup()},t.onMenuLeave=function(e){var n;e.stopPropagation(),t.state.isSliderChanging||t.setState({menuPopupVisible:!1})},t.onVolumeChange=function(){var e=t.props.player,n=t.state.volume;null!=n&&t.trackVolumeEvent("volume.change",{volume_delta:e.volume()-n}),t.setState({volume:e.volume(),muted:e.muted()})},t.onVolumeButtonClick=function(e){e.stopPropagation();var n=t.props.player,i,r=!n.muted();if(n.muted(r),po.set("volume",r?0:n.volume()),r)t.trackVolumeEvent("mute");else if(t.trackVolumeEvent("unmute"),0===n.volume()){var o=.3;n.volume(.3),t.setState({volume:.3}),po.set("volume",.3)}t.setState({muted:n.muted()})},t.onVolumeSliderChange=function(e){var n=t.props.player;0===e?(n.volume(0),n.muted(!0)):(n.volume(e/100),n.muted(!1)),po.set("volume",n.muted()?0:n.volume())},t.onBeforeChange=function(){t.setState({isSliderChanging:!0})},t.onAfterChange=function(){t.setState({isSliderChanging:!1})},t.trackVolumeEvent=function(e,n){var i=t.props.player,r=t.context._eventData.namespace.app,o;js(r,i)(e,Z()({},n))},t}yt()(VolumeMenu,e);var t=VolumeMenu.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.player;this.setState({volume:e.volume(),muted:e.muted()}),e.on("volumechange",this.onVolumeChange)},t.componentWillUnmount=function componentWillUnmount(){var e;this.props.player.off("volumechange",this.onVolumeChange)},t.render=function render(){var e=this.props.assignRef,t=this.state,n=t.menuPopupVisible,i=t.muted,r=t.volume;if(null==i||null==r)return null;return(se.createElement("div",{className:tt()("rc-VolumeMenu","horizontal-box","align-items-absolute-center"),role:"presentation",onMouseEnter:this.onMenuEnter,onMouseLeave:this.onMenuLeave,onFocus:this.showVolumeMenuPopup,onClick:this.onClick,ref:e},se.createElement(mc,{onVolumeButtonClick:this.onVolumeButtonClick,volume:r,muted:i}),se.createElement(Zd,{visible:n,volume:r,muted:i,onVolumeSliderChange:this.onVolumeSliderChange,onBeforeChange:this.onBeforeChange,onAfterChange:this.onAfterChange})))},VolumeMenu}(se.Component);ep.contextTypes={_eventData:pe.a.object};var tp=ep,np=t("60BN"),ip,rp=function(e){function ControlBar(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleDocumentClick=function(){var e;(0,t.props.setVisiblePopup)(null)},t.onSubtitleMenuClick=function(){t.toggleMenuPopup(t.subtitleMenuPopupName)},t.onSettingsMenuClick=function(){t.toggleMenuPopup(t.settingsMenuPopupName)},t.setVolumeMenuPopup=function(){t.toggleMenuPopup(t.volumeMenuPopupName)},t.settingsMenuPopupName="settings",t.subtitleMenuPopupName="subtitle",t.volumeMenuPopupName="volume",t.toggleMenuPopup=function(e){var n=t.props,i,r;(0,n.setVisiblePopup)(n.visiblePopup===e?null:e)},t.refDoesNotContainTarget=function(e){return function(t){return!t||!t.contains(e)}},t.dismissAllMenusExcept=function(){return function(e){var n=t.props.setVisiblePopup,i=e.target,r=t.refDoesNotContainTarget(i),o;r(t.settingsMenuRef)&&r(t.subtitlesMenuRef)&&r(t.volumeMenuRef)&&n(null)}},t.assignSubtitleMenuRef=function(e){t.subtitlesMenuRef=e},t.assignSettingsMenuRef=function(e){t.settingsMenuRef=e},t.assignVolumeMenuRef=function(e){t.volumeMenuRef=e},t}yt()(ControlBar,e);var t=ControlBar.prototype;return t.componentDidMount=function componentDidMount(){document.addEventListener("mousedown",this.dismissAllMenusExcept())},t.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("mousedown",this.dismissAllMenusExcept())},t.render=function render(){var e=this.props,t=e.visible,n=e.player,i=e.visiblePopup,r=e.defaultSubtitleLanguage,o=e.videoQuizQuestions,a=e.showToolbarAutoplayToggle,s=e.onChangeFullScreen,l=e.setChromeVisibility,c=e.shouldShowPrerollVideoAds,u=i===this.settingsMenuPopupName,d=i===this.subtitleMenuPopupName;return se.createElement("div",{className:tt()("rc-ControlBar","horizontal-box","align-items-vertical-center",{visible:t}),onClick:function onClick(e){e.stopPropagation()},onDoubleClick:function onDoubleClick(e){e.stopPropagation()}},se.createElement(yl,{player:n,videoQuizQuestions:o}),se.createElement(Vs,{player:n}),se.createElement(tp,{player:n,setVolumeMenuPopup:this.setVolumeMenuPopup,assignRef:this.assignVolumeMenuRef}),se.createElement(Ws,{player:n}),a&&se.createElement(tl,{subscribeToAutoplayChanges:function subscribeToAutoplayChanges(e){return n.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function unsubscribeFromAutoplayChanges(e){return n.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function triggerAutoplayChangePlayerEvent(){return n.trigger("autoplaychange")}}),se.createElement(pc,{player:n,assignRef:this.assignSubtitleMenuRef,defaultSubtitleLanguage:r,menuPopupVisible:d,onSubtitleMenuClick:this.onSubtitleMenuClick}),se.createElement(ic,{player:n,assignRef:this.assignSettingsMenuRef,menuPopupVisible:u,onSettingsMenuClick:this.onSettingsMenuClick,hideAutoplayToggle:a}),se.createElement(Rs,{onChangeFullScreen:s,player:n,setChromeVisibility:l,shouldShowPrerollVideoAds:c}))},ControlBar}(se.Component),op=t("GrJq"),ap=function(e){function AutoNextOverlay(t){var n;return(n=e.call(this,t)||this).cancelTransition=function(e){e&&e.stopPropagation(),n.stopTimer(),n.setState({canceled:!0})},n.handleNextTransition=function(e){null==e||e.stopPropagation();var t=n.props.nextItem,i=null==t?void 0:t.getContent().typeName;n.stopTimer(),Pe.c.isFullScreen()&&"lecture"===i?Object(vo.f)()&&Pe.c.exitFullScreen():Pe.c.exitFullScreen()},n.state={countdownTime:t.defaultCountdown||10,showTimer:!1,canceled:!1},n.intervalId=null,n}yt()(AutoNextOverlay,e);var t=AutoNextOverlay.prototype;return t.componentDidMount=function componentDidMount(){var e;this.props.isAutoNextEnabled&&(this.intervalId=window.setInterval(this.countdown.bind(this),1e3),this.setState({showTimer:!0}))},t.componentWillUnmount=function componentWillUnmount(){this.stopTimer()},t.countdown=function countdown(){var e=this.state.countdownTime;if(1===e){var t=this.props.nextItem;this.handleNextTransition(),this.props.router.push(t.getLink())}else this.setState({countdownTime:e-1})},t.stopTimer=function stopTimer(){this.intervalId&&clearInterval(this.intervalId),this.setState({showTimer:!1})},t.preventClick=function preventClick(e){e.stopPropagation()},t.render=function render(){var e=this.props,t=e.isAutoNextEnabled,n=e.nextItem,i=this.state,r=i.countdownTime,o=i.showTimer,a=i.canceled;if(!n)return null;var s=n.getName(),l=n.getTimeCommitment(),c=n.getContent().typeName,u=Object(go.x)(l);return se.createElement("div",{className:tt()("rc-AutoNextOverlay","horizontal-box","align-items-absolute-center"),onClick:this.preventClick},se.createElement("div",{className:"overlay-display horizontal-box"},se.createElement("div",{className:"next-item-button vertical-box"},se.createElement(Ci.b,{onClick:this.handleNextTransition,href:n.getLink(),trackingName:"video_next_item_overlay"},se.createElement(yo.a,{size:96,type:c,style:{fill:lt.b.white}}))),se.createElement("div",{className:"next-item-display vertical-box"},se.createElement("div",{className:"item-info vertical-box"},se.createElement("span",{className:"up-next"},Co()("Up Next")),se.createElement(Ci.b,{href:n.getLink(),onClick:this.handleNextTransition,trackingName:"video_next_item_overlay",className:"next-item-name",style:{color:lt.b.white}},s),se.createElement("span",{className:"next-item-duration"},u),o&&!a&&se.createElement(At.a,{message:Co()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:r}),!o&&!a&&se.createElement(At.a,{message:Co()('<span class="timer-red">Autoplay Disabled</span>'),countdownTime:r})),se.createElement("div",{className:"horizontal-box align-items-vertical-center",style:{marginLeft:"-33"}},n&&se.createElement(Ci.b,{href:n.getLink(),onClick:this.handleNextTransition,trackingName:"video_next_item_overlay",className:"next-item-cta-button",id:"start-button",style:{color:lt.b.white}},Co()("Start")),n&&t&&o&&se.createElement(Ci.b,{href:"#",onClick:this.cancelTransition,trackingName:"video_next_item_overlay_cancel",className:"next-item-cta-button",id:"cancel-button",style:{marginLeft:"1rem",color:lt.b.white}},Co()("Cancel"))))))},AutoNextOverlay}(se.Component),sp=Object(_n.a)((function(e){return{router:e}}))(ap),lp=t("Brjr"),cp=function PlayButton(e){var t=e.onClick,n=e.onKeyPress,i=e.haspopup,r=Is()("Play Video");return se.createElement("div",{role:"presentation",onClick:t,onKeyPress:n,className:"rc-PlayButton horizontal-box align-items-absolute-center"},se.createElement("button",{type:"button",className:"vjs-button","aria-disabled":"false","aria-haspopup":!!i||void 0,"aria-label":r,"aria-live":"off",onClick:t,onKeyDown:n},se.createElement("span",{className:tt()("cif-stack","cif-2x")},se.createElement("em",{className:tt()("cif-circle","cif-stack-2x","cif-inverse")}),se.createElement("em",{className:tt()("cif-play-circle","cif-stack-2x")})),se.createElement("span",{className:"vjs-control-text"},r)))};cp.defaultProps={haspopup:!0};var up=cp,dp=t("YZMc"),pp=32,hp=13,mp,fp=function(e){function VideoControlsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isChromeVisible:!1,showAutoNextOverlay:!1,showAutoMinimizeOverlay:!1,showPlayButton:!0,visiblePopup:null,hideContextMenu:!1},t.handleDocumentMouseMove=function(){var e;t.state.hideContextMenu&&t.setState({hideContextMenu:!1})},t.handleVideoRegionMouseMove=function(){t.timeoutID&&clearTimeout(t.timeoutID),t.setChromeVisibility(!0)},t.handleDocumentMouseDown=function(e){var n=t.props.player,i=n.isFullscreen();!t.node||t.node.contains(e.target)||i||n.paused()||t.setChromeVisibility(!1)},t.applySubtitlePosition=function(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,r=e.position,o=void 0===r?50:r,a=e.align,s=void 0===a?"bottom":a;t.forEach((function(e){return e.cues&&Object.keys(e.cues).forEach((function(t){e.cues&&(e.cues[t].position=o,e.cues[t].line=i,e.cues[t].align=s)}))}))},t.onPlayButtonClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.player;n.play(),n.on("play",(function(){var e=Array.from(n.textTracks());t.applySubtitlePosition({textTracks:e})})),t.setState({showPlayButton:!1})},t.onPlayButtonKeyPress=function(e){if(e.keyCode===pp||e.keyCode===hp){var n=t.props.player;n.play(),n.on("play",(function(){var e=Array.from(n.textTracks());t.applySubtitlePosition({textTracks:e})})),t.setState({showPlayButton:!1})}},t.onClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.player;n.paused()?n.play():n.pause(),n.on("play",(function(){var e=Array.from(n.textTracks());t.applySubtitlePosition({textTracks:e})}))},t.onShareClick=function(e){e.stopPropagation();var n=t.props.player;n.paused()||n.pause()},t.onContextMenu=function(){t.setState({hideContextMenu:!0})},t.hideChrome=function(e){e.stopPropagation();var n=t.state.visiblePopup,i=t.props.player,r=i.isFullscreen();i.paused()||r||null!==n||t.setChromeVisibility(!1)},t.hideChromeOnBlur=function(e){e.currentTarget.contains(e.relatedTarget)||t.hideChrome(e)},t.showChrome=function(e){e.stopPropagation(),t.setChromeVisibility(!0)},t.showChromeOnFocus=function(e){t.showChrome(e),t.timeoutID&&clearTimeout(t.timeoutID)},t.setChromeVisibility=function(e){var n=t.state.visiblePopup;t.setState({isChromeVisible:e,visiblePopup:e?n:null})},t.setVisiblePopup=function(e){t.setState({visiblePopup:e})},t.assignRef=function(e){t.node=e},t}yt()(VideoControlsContainer,e);var t=VideoControlsContainer.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.player;t.one("play",(function(){e.setState({showPlayButton:!1})})),t.on("play",(function(){e.setState({showAutoNextOverlay:!1,showAutoMinimizeOverlay:!1}),e.timeoutID=window.setTimeout((function(){e.setChromeVisibility(!1)}),5e3)})),t.on("ended",(function(){e.setState({showAutoNextOverlay:!0,showAutoMinimizeOverlay:!0})})),this.setState({showPlayButton:!t.autoplay()}),document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("mousemove",this.handleDocumentMouseMove)},t.componentWillUnmount=function componentWillUnmount(){var e;this.props.player.off("ended"),this.timeoutID&&clearTimeout(this.timeoutID),document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("mousemove",this.handleDocumentMouseMove)},t.render=function render(){var e=this.props,t=e.defaultSubtitleLanguage,n=e.nextItem,i=e.player,r=e.videoQuizQuestions,o=e.visibility,a=e.showToolbarAutoplayToggle,s=e.onChangeFullScreen,l=e.autoNextCountdownSeconds,c=e.shouldShowPrerollVideoAds,u=this.state,d=u.isChromeVisible,p=u.visiblePopup,h=u.showAutoNextOverlay,m=u.showAutoMinimizeOverlay,f=u.showPlayButton,g=u.hideContextMenu,v=po&&po.get("autoplay");return se.createElement("div",{ref:this.assignRef,role:"presentation",className:tt()("rc-VideoControlsContainer",{hideContextMenu:g}),onClick:this.onClick,onFocus:this.showChromeOnFocus,onContextMenu:this.onContextMenu,onBlur:this.hideChromeOnBlur,onMouseEnter:f?void 0:this.showChrome,onMouseLeave:this.hideChrome,onMouseMove:this.handleVideoRegionMouseMove},f&&se.createElement(up,{onClick:this.onPlayButtonClick,onKeyPress:this.onPlayButtonKeyPress,haspopup:!1}),h&&o&&n&&i.ended()&&se.createElement(sp,{player:i,nextItem:n,isAutoNextEnabled:v,defaultCountdown:l}),m&&!o&&n&&i.ended()&&se.createElement(wo,{player:i,nextItem:n,isAutoMinimizeEnabled:v}),se.createElement(rp,{visiblePopup:p,videoQuizQuestions:r,setVisiblePopup:this.setVisiblePopup,visible:d,player:i,defaultSubtitleLanguage:t,showToolbarAutoplayToggle:a,onChangeFullScreen:s,setChromeVisibility:this.setChromeVisibility,shouldShowPrerollVideoAds:c}))},VideoControlsContainer}(se.Component),gp=t("++Ya"),vp=Object(r.a)("/api/onDemandVideoProgresses.v1",{type:"rest"}),yp={getVideoProgressId:function getVideoProgressId(e,t){return Object(gp.c)([me.a.get().id,e,t])},get:function get(e,t){var n=this.getVideoProgressId(e,t);if(!me.a.isAuthenticatedUser())return i.a.reject();var r=new g.a(n);return i()(vp.get(r.toString()))},update:function update(e,t,n){var r=this.getVideoProgressId(e,t),o={viewedUpTo:n,videoProgressId:r},a=new g.a(r);return i()(vp.put(a.toString(),{data:o}))}},bp=yp,Cp=yp.get,Sp=yp.update,kp=t("BVC1"),wp=Object(r.a)("/api/opencourse.v1",{type:"rest"}),Tp={sendEvent:function sendEvent(e,t){var n={data:{contentRequestBody:{}}},i=e.itemMetadata,r=i.get("course.slug"),o=i.getId(),a=new g.a(kp.a.join("user","".concat(me.a.get().id),"course",r,"item",o,"lecture/videoEvents",t));return a.addQueryParam("autoEnroll","false"),wp.post(a.toString(),n)}},Pp=Tp,Ep=Tp.sendEvent,xp=function getDefaultVideoResolution(){return Ao()(ho.d.lowBandwidthCountries).contains(Fn.a.requestCountryCode)?ho.d.defaultLowBandwidthVideoPlayerResolution:ho.d.defaultNormalBandwidthVideoPlayerResolution},Op=function formatSourcesByResolution(e){var t={};return Ao()(e).each((function(e,n){t[n]=Ao()(e).map((function(e,t){return{type:t,src:e}}))})),t},Ap=function updateIMAAdsControlsContainerStyle(){var e=document.querySelector("#video_player_ima-ad-container iframe");e&&(e.style.paddingBottom="2.5em")},jp=t("W8MJ"),_p=t.n(jp),Mp=t("Wjkg"),Np=t("RUkv"),Ip=t("4uH7"),Lp=t("Gcrz"),Rp=t("UYTu"),Dp,Fp=Object(Rp.a)(Dp||(Dp=ie()(['\n  mutation submitQuiz(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    submitQuiz(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/lecture/inVideoQuiz/session/{args.sessionId}/action/submitResponse?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestSubmitQuizResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          id\n          isSubmitAllowed\n          feedback {\n            feedbackLevel\n            definition {\n              isCorrect\n              display {\n                typeName\n                definition {\n                  dtdId\n                  value\n                }\n              }\n              options {\n                id\n                count\n                isCorrect\n                feedback {\n                  typeName\n                  definition {\n                    dtdId\n                    value\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),Vp,Bp=function(e){function VideoQuizMutations(){return e.apply(this,arguments)||this}var t;return yt()(VideoQuizMutations,e),VideoQuizMutations.prototype.render=function render(){var e=this.props,t=e.itemId,n=e.courseSlug,i=e.question,r=e.sessionId,o=e.userId,a=e.children;return(se.createElement(Lp.b,{mutation:Fp},(function(e){var s;return a({submitQuiz:function submitQuiz(a){var s,l;return e({variables:{sessionId:r,userId:o,itemId:t,slug:n,body:{contentRequestBody:{argument:{questionInstance:i.id,response:null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(l=s.definition)||void 0===l?void 0:l.value,timestamp:null}}}}})}})})))},VideoQuizMutations}(se.Component),Hp=t("/96O"),Up=t("GD6B"),Wp=t("Jn0X"),zp=t("/Sxx"),qp=t("vU9D"),Kp=function getDefaultResponseValue(e){if("widget"===((e||{}).question||{}).type)return{answer:{}};return null},Qp,Gp=function transformQuizToFormData(e,t,n){if(!t)return e&&e.map((function(e){return{prompt:e,response:{typeName:qp.g.AUTO_GRADABLE_RESPONSE,definition:{value:n&&((e||{}).effectiveResponse||{}).response?((e||{}).effectiveResponse||{}).response:Kp(e)}}}}));var i=t.reduce((function(e,t){return Z()(Z()({},e),{},$r()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t=i[e.id];return{prompt:e,response:{typeName:qp.g.AUTO_GRADABLE_RESPONSE,definition:{value:t}}}}))},Yp,Xp=function transformQuestionToFormData(e){var t=Gp([e],void 0,!0),n,i=te()(t,1)[0],r=i.prompt,o=i.response;return{id:r.id,root:{element:{definition:{prompt:{typeName:qp.g.AUTO_GRADABLE_PROMPT,definition:{value:{effectiveResponse:r.effectiveResponse,variant:{definition:r.variant},question:r.question,feedback:r.feedback}}},response:o,responseId:r.id},typeName:qp.g.PROMPT_REQUIRING_RESPONSE_ELEMENT},children:[]}}},Jp=t("kD7S"),Zp,$p=function(e){function VideoQuizQuestionArea(){return e.apply(this,arguments)||this}yt()(VideoQuizQuestionArea,e);var t=VideoQuizQuestionArea.prototype;return t.componentDidUpdate=function componentDidUpdate(){var e,t,n="[data-test='GradeFeedback-".concat(zp.a.FAILURE,"]");this.containerRef.querySelector(n)||(n="[data-test^='GradeFeedback-']"),this.containerRef.scrollTop=null!==(e=null===(t=this.containerRef.querySelector(n))||void 0===t?void 0:t.offsetTop)&&void 0!==e?e:0},t.render=function render(){var e=this,t=this.props,n=t.question,i=t.isReadonly,r=t.currentState,o="done"===r||"retry"===r;if(!n)return null;var a,s=Xp(n).root,l=s.element,c=s.children,u,d=Object(Wp.a)(l).promptText;return se.createElement("fieldset",{ref:function ref(t){e.containerRef=t},className:"rc-VideoQuizQuestionArea"},se.createElement("legend",{className:"rc-VideoQuizQuestionArea__legend"},se.createElement(Hp.a,{value:d})),se.createElement("div",{className:"rc-VideoQuizQuestionArea__responseBox"},se.createElement(Up.b,{isReadOnly:i,isDisabled:o,formPart:l,enableFeedbackFocus:!0}),c&&c.length>0&&se.createElement("div",null,c.map((function(e){var t=e.element;return(se.createElement(Up.b,{isReadOnly:i,isDisabled:o,formPart:t}))})))))},VideoQuizQuestionArea}(se.Component),eh=t("AWZ4"),th=t("agp5"),nh=t("XBa+"),ih=t("uhOI"),rh=t("iR3l"),oh=t.n(rh),ah=t("4bHD"),sh,lh=function(e){function VideoQuizSubmissionButton(){return e.apply(this,arguments)||this}var t;return yt()(VideoQuizSubmissionButton,e),VideoQuizSubmissionButton.prototype.render=function render(){var e=this.props,t=e.onRetry,n=e.question,i=e.onSubmit,r=e.onContinue,o=e.apiState,a,s="continueOnly"===n.question.responseType,l,c,u=ih.a;switch(o){case"submitting":u=ih.c,c=oh()("Submitting...");break;case"ready":l=i,c=oh()("Submit");break;case"retry":l=t,c=oh()("Retry");break;default:l=r,c=oh()("Continue")}if(s)switch(o){case"submitting":c=oh()("Continuing...");break;default:c=oh()("Continue"),l=r}return(se.createElement(nh.a,{label:c,apiStatus:u,onClick:l,rootClassName:"rc-VideoQuizSubmissionButton",type:"primary",size:"sm"}))},VideoQuizSubmissionButton}(se.Component),ch=t("H8ar"),uh,dh=function(e){function VideoQuizSubmissionArea(){return e.apply(this,arguments)||this}var t;return yt()(VideoQuizSubmissionArea,e),VideoQuizSubmissionArea.prototype.render=function render(){var e=this.props,t=e.onSubmit,n=e.onContinue,i=e.onRetry,r=e.questionState,o=e.question,a=e.question.id,s,l="continueOnly"===o.question.responseType;return se.createElement(st.b,{rootClassName:"rc-VideoQuizSubmissionArea",flexDirection:"row",justifyContent:"end",alignItems:"center"},!l&&se.createElement(eh.b,{onClick:n,type:"link",size:"sm"},oh()("Skip")),se.createElement(th.a,{ids:[a]},(function(e){return se.createElement(lh,{onContinue:n,onRetry:i,onSubmit:function onSubmit(){return e&&e.length>0&&t(e[0])},question:o,apiState:r})})))},VideoQuizSubmissionArea}(se.Component),ph=t("27K9"),hh=function(e){function VideoQuizContent(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).blurListeningEnabled=!1,t.state={isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null},t.onBlur=function(e){var n=e.relatedTarget;if(t.blurListeningEnabled&&t.windowRef&&n&&!t.windowRef.contains(n)){var i,r=t.getFocusableWindowElements();null==r||null===(i=r.first)||void 0===i||i.focus()}},t.mouseListener=function(){t.blurListeningEnabled=!1},t.keyListener=function(e){var n=t.props.onContinue;t.blurListeningEnabled=!0,e.keyCode===Ip.a.tab?t.handleTabKey(e):e.keyCode===Ip.a.esc&&n()},t.handleTabKey=function(e){var n=t.getFocusableWindowElements();n&&(e.shiftKey&&n.active===n.first&&(n.last.focus(),e.preventDefault()),e.shiftKey||n.active!==n.last||(n.first.focus(),e.preventDefault()))},t.handleFocus=function(){var e=t.getFocusableWindowElements();e&&e.first.focus()},t.getFocusableWindowElements=function(){if(t.windowRef){var e=t.windowRef.querySelectorAll('a[href], button, textarea, input, select, iframe, [tabindex]:not([tabindex="-1"])'),n,i,r;return{first:e[0],last:e[e.length-2],active:document.activeElement,all:e}}return null},t}yt()(VideoQuizContent,e);var t=VideoQuizContent.prototype;return t.componentDidMount=function componentDidMount(){var e,t=this.getFocusableWindowElements();null==t||null===(e=t.first)||void 0===e||e.focus(),document.addEventListener("keydown",this.keyListener),document.addEventListener("mousedown",this.mouseListener)},t.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("keydown",this.keyListener),document.removeEventListener("mousedown",this.mouseListener)},t.getPersistedResponse=function getPersistedResponse(){var e;if(this.props.question){var t=Mp.a.get(this.localStorageKey);if(t)return t}return{feedback:null,response:null}},t.setPersistedResponse=function setPersistedResponse(e,t){var n=this.props.question;n&&Mp.a.set("videoQuizResponses.".concat(n.id),{feedback:e,response:t})},t.getQuestionWithSubmission=function getQuestionWithSubmission(){var e=this.props.question,t=this.state,n=t.latestResponse,i=t.latestFeedback;if(e){var r,o,a=this.getPersistedResponse(),s=i||a.feedback,l=n||a.response,c={questionInstance:e.id,response:null==l?void 0:null===(r=l.response)||void 0===r?void 0:null===(o=r.definition)||void 0===o?void 0:o.value};return Z()(Z()({},e),{},{feedback:s,effectiveResponse:c})}return null},t.resetQuestion=function resetQuestion(){Mp.a.remove(this.localStorageKey),this.setState({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null})},t.render=function render(){var e,t=this,n=this.props,i=n.onContinue,r=n.onSubmit,o=n.question,a=this.state,s=a.isSubmitting,l=a.didError;if(!o)return null;var c=this.getQuestionWithSubmission(),u=null==c?void 0:c.feedback,d=null==u?void 0:null===(e=u.definition)||void 0===e?void 0:e.isCorrect,p=[Np.a.Poll,Np.a.CheckboxPoll].includes(o.question.type),h="ready";return l?h="errored":s?h="submitting":u&&(h=d||p?"done":"retry"),se.createElement("div",{role:"dialog","aria-labelledby":"dialog_videoQuizQuestion",className:"rc-VideoQuiz__window",ref:function ref(e){t.windowRef=e}},se.createElement(st.b,{onBlur:this.onBlur,flexDirection:"column",style:{height:"100%",width:"100%"}},se.createElement(ye.a,{variant:"h2",id:"dialog_videoQuizQuestion",className:"video-quiz-header"},p?oh()("Poll"):oh()("Question")),se.createElement($p,{isReadonly:void 0!==d,currentState:h,question:c}),se.createElement(dh,{onRetry:function onRetry(){return t.resetQuestion()},onContinue:i,onSubmit:function onSubmit(e){t.setState({isSubmitting:!0}),r(e).then((function(n){var i,r,o,a,s,l=(null!==(i=null==n?void 0:null===(r=n.data)||void 0===r?void 0:null===(o=r.submitQuiz)||void 0===o?void 0:null===(a=o.contentResponseBody)||void 0===a?void 0:a.return)&&void 0!==i?i:{}).feedback;t.setState({isSubmitting:!1,didError:!1,latestFeedback:l,latestResponse:e}),t.setPersistedResponse(l,e)})).catch((function(){return t.setState({didError:!0})}))},question:o,questionState:h}),se.createElement("button",{type:"button",className:"focus-trap",onFocus:this.handleFocus})))},_p()(VideoQuizContent,[{key:"localStorageKey",get:function get(){var e;return"videoQuizResponses.".concat(null===(e=this.props.question)||void 0===e?void 0:e.id)}}]),VideoQuizContent}(se.Component),mh,fh=function(e){function VideoQuiz(){return e.apply(this,arguments)||this}var t;return yt()(VideoQuiz,e),VideoQuiz.prototype.render=function render(){var e=this.props,t=e.onContinue,n=e.sessionId,i=e.itemId,r=e.courseSlug,o=e.question;if(!o)return null;var a=me.a.get().id;return(se.createElement("div",{className:"rc-VideoQuiz"},se.createElement(Bp,{itemId:i,courseSlug:r,userId:a,sessionId:n,question:o},(function(e){var n=e.submitQuiz;return(se.createElement(hh,{question:o,onContinue:t,onSubmit:n}))}))))},VideoQuiz}(se.Component),gh=function Cuepoint(e,t,n){var i=Ao()(t);this.name=i.has("name")?t.name:"",this.startTime=t.at||0,this.endTime=i.has("to")?t.to:0,this.type=i.has("to")?Cuepoint.RANGE:Cuepoint.POINT,this.callback=n||function(){},this.player=e,this.visible=i.has("visible")&&t.visible};gh.POINT=0,gh.RANGE=1,Ao.a.extend(gh.prototype,{type:gh.POINT,visible:!1,marker:null,startTime:0,endTime:0,name:"",didFire:!1,move:function move(e){this.startTime=parseFloat(e/100*this.player.duration()).toFixed(1),this.marker&&this.marker.move(e)},filter:function filter(e,t){if(this.type===gh.POINT)return e<this.startTime&&this.startTime<=t;var n=e>=this.startTime&&e<this.endTime,i=e<this.startTime,r=t>this.startTime&&t<this.endTime;return n||i&&r},setFired:function setFired(e){this.didFire=e},fire:function fire(){this.name&&this.player.emitter.trigger("cuepoint."+this.name),this.callback&&this.callback(),this.setFired(!0)}});var vh=[],yh=!1;_o.a.registerPlugin("addCuepoint",(function(e,t){this.eventEmitter(),vh.push(new gh(this,e,t)),this.on("seeking",(function(){yh=!0})),this.on("seeked",(function(){yh=!1;var e=this.currentTime();Ao()(vh).chain().filter((function(t){var n;return t.startTime>e})).forEach((function(e){e.setFired(!1)}))}));var n=0;this.on("timeupdate",(function(){var e=this.currentTime();yh||Ao()(vh).chain().filter((function(t){return t.filter(n,e)&&!t.didFire})).invoke("fire"),n=e})),this.on("dispose",(function(){vh=[]}))})),_o.a.registerPlugin("eventEmitter",(function(){this.emitter||(this.emitter=Ss.a.emitter())}));var bh=t("t9gw"),Ch=t("oYk5"),Sh=t.n(Ch);function tab_visible(e){return Sh.a.expr.filters.visible(e)&&!Sh()(e).parents().addBack().filter((function(){return"hidden"===Sh.a.css(this,"visibility")})).length}function _focusable(e){var t,n,i,r=e.nodeName.toLowerCase(),o=!isNaN(Sh.a.attr(e,"tabindex"));if("area"===r){if(n=(t=e.parentNode).name,!e.href||!n||"map"!==t.nodeName.toLowerCase())return!1;return!!(i=Sh()("img[usemap=#"+n+"]")[0])&&tab_visible(i)}return/^(input|select|textarea|button|object)$/.test(r)?!e.disabled&&tab_visible(e):"a"===r?(e.href||o)&&tab_visible(e):o&&tab_visible(e)}function focusable(e){return _focusable(e,!isNaN(Sh.a.attr(e,"tabindex")))}function tabbable(e){var t=Sh.a.attr(e,"tabindex"),n=isNaN(t);return(n||t>=0)&&_focusable(e,!n)}function getNext(e){for(var t=e;t;)if((t=t.nextSibling)&&tabbable(t))return t;return null}function getPrevious(e){for(var t=e;t;)if((t=t.previousSibling)&&tabbable(t))return t;return null}var kh,wh,Th={isFocusable:focusable,isTabbable:tabbable,getNext:getNext,getPrevious:getPrevious},Ph=function hotkeys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},i=null;t.el().hasAttribute("tabIndex")||t.el().setAttribute("tabIndex","-1"),t.on("play",(function(){var e=t.el().querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var r=function keyDown(i){var r=e.volumeStep||n.volumeStep,o=e.seekStep||n.seekStep,a=e.enableMute||n.enableMute,s=e.enableFullscreen||n.enableFullscreen,l=e.playbackStep||n.playbackStep,c=e.playbackLowerLimit||n.playbackLowerLimit,u=e.playbackUpperLimit||n.playbackUpperLimit;if(t.controls()){var d=document.activeElement;if(d===t.el()||d===t.el().querySelector(".iframeblocker"))if(32===i.which)i.preventDefault(),t.paused()?t.play():t.pause();else if(37===i.which){i.preventDefault();var p=t.currentTime()-o;t.currentTime()<=o&&(p=0),t.currentTime(p)}else 39===i.which?(i.preventDefault(),t.currentTime(t.currentTime()+o)):40===i.which?(i.preventDefault(),t.volume(t.volume()-r)):38===i.which?(i.preventDefault(),t.volume(t.volume()+r)):77===i.which?a&&(t.muted()?t.muted(!1):t.muted(!0)):70===i.which?s&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()):i.shiftKey&&(190===i.which&&t.playbackRate()<u?t.playbackRate(t.playbackRate()+l):188===i.which&&t.playbackRate()>c&&t.playbackRate(t.playbackRate()-l))}};return t.on("keydown",r),t.on("userinactive",(function(){if(t.controls()){var e=document.activeElement,n=Sh()(t.controlBar.el_),r=function restoreFocus(){t.el_.focus()};n.find(e).size()>0?(i=document.activeElement,n.css("transition")?n.one("transitionend",r):r()):i=null}})),t.on("useractive",(function(){if(t.controls()&&i){var e=Sh()(t.controlBar.el_),n=function returnFocus(){i&&(i.focus(),i=null)};e.css("transition")?e.one("transitionend",n):n()}})),Sh()(document).on("keydown.videoJSPlayer",(function(e){if(9===e.which&&!t.userActive()){if(i){var n=null;(n=e.shiftKey?Th.getPrevious(i):Th.getNext(i))&&(i=n)}t.userActive(!0)}})),t.on("dispose",(function(e){Sh()(document).off("keydown.videoJSPlayer")})),this};_o.a.registerPlugin("hotkeys",Ph),_o.a.registerPlugin("joinEvents",(function(){this.eventEmitter();var e=null,t=null,n=!1,i=function triggerJoining(){n||(e=new Date,this.trigger("joining"))},r=function triggerJoined(){t=new Date,n=!0,this.emitter.set("joined",{joinDuration:t-e}),this.off("play",i)};this.on("play",i),this.one("durationchange",r)}));var Eh=t("JAA1"),xh=function attachWaitTimer(e){var t="STOPPED",n="WAITING",i="PLAYING",r=100,o=15e3,a=250,s=null,l=0,c=t,u=0,d=0,p=0,h=null,m=function resetTimers(){u=0,d=0,p=0},f=function triggerEvent(){(u>0||d>0||p>0)&&(e.trigger({type:"waitmetrics",playDuration:u,waitDuration:d,waitCount:p}),m())},g=function stopTimer(){h&&(clearInterval(h),h=null)},v=function timerTick(){if(!e.contentEl())return void g();var r=new Date,o=e.currentTime(),a;a=e.paused()?t:o>l?i:n;var h=r-s;if(c!==n&&a===n&&h<250)return;c!==n&&a===n&&(p+=1),a===i?u+=h:a===n?d+=h:a===t&&(g(),f()),u+d>=15e3&&f(),s=r,l=o,c=a},y=function startTimer(){h||(s=new Date,h=setInterval(v,100))};e.on("play",y),e.on("timeupdate",y)};_o.a.registerPlugin("waitEvents",(function(){xh(this)}));var Oh=t("yZsk"),Ah=t("DJ+3"),jh=t("HXl9"),_h=t("OsHj"),Mh=t("IFgl"),Nh={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},Ih=function(e){function VideoPlayer(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={videoProgress:null,videoQuizQueue:[],activeQuestion:null},t.imaScript=se.createRef(),t.togglePlayingState=function(){t.player.paused()?t.player.play():t.player.pause()},t.handlePlayerKeyDown=function(e){var n=t.player.options(),i=Nh.volumeStep,r=Nh.seekStep,o=Z()(Z()({},n),Nh),a=o.volumeStep,s=void 0===a?i:a,l=o.seekStep,c=void 0===l?r:l,u;if(document.activeElement===t.player.el())switch(e.which){case 32:case 13:e.preventDefault(),t.togglePlayingState();break;case 37:e.preventDefault();var d=t.player.currentTime()-c;t.player.currentTime()<=c&&(d=0),t.player.currentTime(d);break;case 39:e.preventDefault(),t.player.currentTime(t.player.currentTime()+c);break;case 38:e.preventDefault(),t.player.volume(t.player.volume()+s);break;case 40:e.preventDefault(),t.player.volume(t.player.volume()-s)}},t.handlePlayerDblClick=function(e){e.preventDefault();var n=t.player.options(),i=Nh.enableFullscreen,r,o=Z()(Z()({},n),Nh).enableFullscreen,a,s,l;(void 0===o?i:o)&&(Pe.c.isFullScreen()?Pe.c.exitFullScreen({detail:{videoPlayer:null===(s=t.player)||void 0===s?void 0:s.el_}}):Pe.c.enterFullScreen({detail:{videoPlayer:null===(l=t.player)||void 0===l?void 0:l.el_}}))},t.handleDocumentKeyDown=function(e){var n=t.player.options(),i=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey;if(t.trapFocusInIvq(e),i)return;var r=Nh.enableMute,o=Nh.enableFullscreen,a=Nh.playbackStep,s=Nh.playbackLowerLimit,l=Nh.playbackUpperLimit,c=Z()(Z()({},n),Nh),u=c.enableMute,d=void 0===u?r:u,p=c.enableFullscreen,h=void 0===p?o:p,m=c.playbackStep,f=void 0===m?a:m,g=c.playbackLowerLimit,v=void 0===g?s:g,y=c.playbackUpperLimit,b=void 0===y?l:y,C=e.target||e.srcElement,S=C.tagName,k;if("INPUT"===S||"SELECT"===S||"TEXTAREA"===S||C.isContentEditable)return;switch(e.which){case 75:e.preventDefault(),t.player.paused()?t.player.play():t.player.pause();break;case 77:e.preventDefault(),d&&t.player.muted(!t.player.muted());break;case 70:var w,T;if(e.preventDefault(),h)if(Pe.c.isFullScreen())Pe.c.exitFullScreen({detail:{videoPlayer:null===(w=t.player)||void 0===w?void 0:w.el_}});else Pe.c.enterFullScreen({detail:{videoPlayer:null===(T=t.player)||void 0===T?void 0:T.el_}});break;case 190:e.preventDefault(),e.shiftKey&&t.player.playbackRate()<b&&t.player.playbackRate(t.player.playbackRate()+f);break;case 188:e.preventDefault(),e.shiftKey&&t.player.playbackRate()>v&&t.player.playbackRate(t.player.playbackRate()-f)}},t.initializeSubtitleTracks=function(){var e=Ao()(t.player.textTracks()).find((function(e){return e.language===po.get("subtitleLanguage")}));e&&(e.mode="showing"),t.player.trigger("trackloaded")},t.onLoadedMetadata=function(){t.setUserPreferences(),t.initializeSubtitleTracks(),t.attachVideoEndedListener(),t.initializeVideoQuizListeners()},t.applySubtitlePosition=function(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,r=e.position,o=void 0===r?50:r,a=e.align,s=void 0===a?"bottom":a;t.forEach((function(e){return e.cues&&Object.keys(e.cues).forEach((function(t){e.cues&&(e.cues[t].position=o,e.cues[t].line=i,e.cues[t].align=s)}))}))},t.createVideoJSPlayer=function(e){var n=t.props,i=n.viewOptions,r=i.videoContent,o=i.nextItemMetadataOrItemGroup,a=i.course,s=n.shouldShowPrerollVideoAds,l=n.layoutMode,c=void 0===l?"fluid":l,u=r.name,d=r.itemMetadata,p=po.get("resolution")||xp(),h=r.getSourcesForResolution(p),m="fluid"===c?{fluid:!0}:{fill:!0},f={nextItemMetadataOrItemGroup:o,title:u,subtitle:a.get("name"),courseId:a.get("id"),itemId:d.get("id"),moduleName:d.get("module.name"),moduleId:d.get("module.id"),lessonId:d.get("lesson.id"),lessonName:d.get("lesson.name"),defaultSubtitleLanguage:po.get("subtitleLanguage"),controls:!1,html5:{nativeTextTracks:Object(ks.a)()},poster:r.getPosterForResolution("720p"),sources:t.formatVideoSource(h),plugins:{hotkeys:{},resolutions:{sourcesByResolution:Op(r.sources),resolution:p},joinEvents:{},waitEvents:"IE"!==bs.a.browser.name?{}:void 0}},g,v=Z()(Z()({},f),m);return s&&e?(g=_o()("video_player",v),t.initAds(g)):g=_o()(t.videoNode,v),g.emitter||(g.emitter=Ss.a.emitter()),g.setupHeartbeatListener(),g.currentTrack=function(){return g.textTracks().tracks_.find((function(e){return"showing"===e.mode}))},g},t.setupVideoPlayerEvents=function(e){var n=t.props.viewOptions,i=n.videoContent.subtitlesVtt,r=n.setInteractiveTranscript,o=n.course;e.ready((function(){var t=o.get("primaryLanguageCodes");r({player:e,languageMap:i,defaultLanguage:t&&t[0]})})),e.on("contextmenu",(function(e){var n;t.props.isContextMenuEnabled||e.preventDefault()})),e.on("loadedmetadata",t.onLoadedMetadata),e.on("durationchange",t.setInitialPlaybackTime),e.one("play",(function(){e.autoplay()&&t.videoNode&&t.videoNode.focus()})),e.on("play",(function(){var e=Array.from(t.player.textTracks());t.applySubtitlePosition({textTracks:e})})),e.on("keydown",t.handlePlayerKeyDown),document.addEventListener("keydown",t.handleDocumentKeyDown)},t.setInitialPlaybackTime=function(){var e=t.props.viewOptions,n=e.course,i=e.videoContent,r=e.startPlaybackSeconds;if(t.player.off("durationchange",t.setInitialPlaybackTime),void 0!==r)t.setPlaybackTime(r);else{var o=i.videoId,a=n.get("id");bp.get(a,o).then((function(e){return e.elements[0]})).fail((function(){if(me.a.isAuthenticatedUser())return{courseId:a,videoId:o,userId:me.a.get().id,viewedUpTo:0};return{}})).done((function(e){t.setState({videoProgress:e});var n=e.viewedUpTo,i,r=(void 0===n?0:n)/1e3;t.setPlaybackTime(r)}))}},t.setUserPreferences=function(){var e=po.get("playbackRate"),n=po.get("volume");t.player.playbackRate(e),t.player.volume(n)},t.updateProgress=function(){var e=t.props.viewOptions,n=e.course,i=e.videoContent,r=t.player.duration(),o=t.player.currentTime(),a=r*w.videoEndPercentage,s=parseInt((1e3*t.player.currentTime()).toString(),10);o>a&&(s=0);var l=i.videoId,c=n.get("id");bp.update(c,l,s)},t.initializeVideoQuizListeners=function(){var e=t.props.viewOptions.videoQuizModel;if(e){var n=e.questions,i=void 0===n?[]:n,r=xo()(Po()(i,"video.order","desc"),"video.cuePointMs");Object.keys(r).forEach((function(e){var n=r[e],i=parseInt(e,10)/1e3;t.player.addCuepoint({at:i,visible:!0},(function(){var e=Me()(n),i=t.getScrollContainer();t.player.pause(),t.player.emitter.trigger("videoQuizView.visible"),i&&(i.scrollTop=0);var r=e.pop();t.setState({activeQuestion:r,videoQuizQueue:e})}))}))}},t.attachVideoEndedListener=function(){var e=t.player.duration(),n=e*w.videoEndPercentage,r;t.player.addCuepoint({at:n,to:e},(r=!1,function(){if(!r){r=!0;var e=t.props.viewOptions,n=e.videoContent,o=e.courseProgress,a=n.itemMetadata.getId(),s=o.getItemProgress(a);i()(Ep(n,"ended")).then((function(e){if(s&&e&&e.itemProgress){var n=t.context.executeAction,i=Z()(Z()({},e.itemProgress),{},{progressState:ho.e});s.set(i),n(ws.c,{courseProgress:o}),Object(ws.b)(o.get("id"),o)}})).done();var l=t.context._eventData.namespace.app,c;js(l,t.player)("end")}}))},t.formatVideoSource=function(e){var t=[{type:"video/webm",src:e["video/webm"]}];return Object.keys(e).filter((function(e){return"video/webm"!==e})).forEach((function(n){t.push({type:n,src:e[n]})})),t},t.resumePlayback=function(){var e=t.player.duration();t.player.emitter.trigger("videoQuizView.hidden"),t.setState({activeQuestion:null}),e>t.player.currentTime()&&t.player.play()},t.goToNextIVQorResumePlayback=function(){var e=t.state.videoQuizQueue;if(e.length>0){var n=e.pop();n&&t.setState({activeQuestion:n,videoQuizQueue:e})}else t.resumePlayback()},t.onAdEvent=function(e){var n=t.props.viewOptions.setIsAdsPlaying;if(n)switch(e.type){case L.START:n(!0),Ap();break;case L.COMPLETE:case L.SKIP:n(!1)}},t.adsManagerLoadedCallback=function(){Object.values(L).forEach((function(e){t.player.ima.addEventListener(e,t.onAdEvent)}))},t.initAds=function(e){var n="click",i,r=t.props.viewOptions.autoplay;e.ima({id:"video_player",adsManagerLoadedCallback:t.adsManagerLoadedCallback,adTagUrl:I,adsRenderingSettings:{enablePreloading:!0},preventLateAdStart:!0,disableCustomPlaybackForIOS10Plus:!0});var o=function initAdDisplayContainer(){var t;e.ima.initializeAdDisplayContainer(),null===(t=i)||void 0===t||t.removeEventListener(n,initAdDisplayContainer)},a;r||(navigator.userAgent.match(/(iPhone)|(iPad)|(Android)/i)&&(n="touchend"),null===(a=i=document.getElementById("video_player"))||void 0===a||a.addEventListener(n,o))},t}yt()(VideoPlayer,e);var t=VideoPlayer.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props,n=t.viewOptions.setVideoPlayer,i=t.setVideoRegion,r=t.shouldShowPrerollVideoAds,o=function initVideoJSPlayer(t){e.player=e.createVideoJSPlayer(t),e.setupVideoPlayerEvents(e.player),n(e.player),i(e.videoNode)};r?(this.imaScript.current=document.createElement("script"),this.imaScript.current.src=N,this.imaScript.current.onerror=function(){o(!1)},this.imaScript.current.onload=function(){o(!0)},document.body.appendChild(this.imaScript.current)):o(!1)},t.componentWillUnmount=function componentWillUnmount(){var e,t,n=this,i=this.props.viewOptions.setInteractiveTranscript;this.updateProgress(),document.removeEventListener("keydown",this.handleDocumentKeyDown),null===(e=this.imaScript.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(this.imaScript.current),this.player&&(this.player.isFullscreen()?(this.player.one("fullscreenchange",(function(){n.player.dispose()})),this.player.exitFullscreen()):this.player.dispose()),i(null)},t.trapFocusInIvq=function trapFocusInIvq(e){var t=document.querySelector(".vjs-overlay");if(t){var n='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',i,r=Array.from(t.querySelectorAll(n)).filter((function(e){return"none"!==e.style.display})),o=r[0],a=r[r.length-1];9===e.keyCode&&(e.shiftKey?document.activeElement===o&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),o.focus()))}},t.setPlaybackTime=function setPlaybackTime(e){var t=Math.max(0,e-w.videoStartPlaybackDelay);this.player.currentTime(t)},t.getScrollContainer=function getScrollContainer(){return document.querySelector('[data-id="item-scroll-container"]')},t.render=function render(){var e=this,t=this.props,n=t.viewOptions,i=t.viewOptions,r=i.course,o=i.nextItemMetadataOrItemGroup,a=i.verificationDisplay,s=t.ariaLabel,l=t.visibility,c=t.itemMetadata,u=t.isFullscreen,d=t.layoutMode,p=void 0===d?"fluid":d,h=t.showToolbarAutoplayToggle,m=t.autoNextCountdownSeconds,f=t.shouldShowPrerollVideoAds,g=Z()(Z()({},n),{},{videoPlayer:this.player}),v=g.videoContent,y=g.videoQuizModel,b=g.autoplay,C,S=(y||{}).questions,k=void 0===S?[]:S,w=this.state,T=w.videoProgress,P=w.activeQuestion,E=v.getSources(),x=v.subtitlesVtt;for(var O in x)x[O]&&x[O].url&&(x[O].url=x[O].url.replace(/^https?:\/\/[^\/]+\//,"/"));var A=b?void 0:v.getPosterForResolution("720p"),j=E["video/webm"],M="fill"===p?{width:"100%",height:"100%"}:{},N=tt()("vjs-react","c-video",{"vjs-fluid":"fluid"===p},"vjs-circle-play-centered","vjs-coursera-skin","vjs-coursera-phoenix-skin","video-js",{"vjs-fill":"fill"===p});return se.createElement("div",{ref:function ref(t){var n,i;t&&(Pe.c.setOriginalContainerElRef(t),null!==(n=e.player)&&void 0!==n&&n.el_&&Pe.c.setFullScreenElRef(null===(i=e.player)||void 0===i?void 0:i.el_))},style:Z()({position:"relative"},M),onDoubleClick:this.handlePlayerDblClick},se.createElement("div",{"data-vjs-player":!0},y&&se.createElement(fh,{key:null==P?void 0:P.id,onContinue:this.goToNextIVQorResumePlayback,itemId:c.get("id"),courseSlug:c.get("course").get("slug"),sessionId:null==y?void 0:y.sessionId,question:P}),se.createElement("video",{id:"video_player",className:N,crossOrigin:"anonymous",preload:"auto",ref:function ref(t){e.videoNode=t},poster:A,autoPlay:b,tabIndex:0,"aria-label":s,playsInline:f},j&&se.createElement("source",{key:E[j],type:"video/webm",src:j}),Object.keys(E).filter((function(e){return"video/webm"!==e})).map((function(e){var t=E[e];return(se.createElement("source",{key:t,type:e,src:t}))})),Object.keys(x).map((function(e){var t=x[e];return(se.createElement("track",{key:e,kind:"captions",label:Co()(t.label),src:t.url,srcLang:e}))}))),this.player&&se.createElement(fp,{defaultSubtitleLanguage:po.get("subtitleLanguage"),nextItem:o,courseId:r.get("id"),player:this.player,videoQuizQuestions:k,verificationDisplay:a,onChangeFullScreen:function onChangeFullScreen(t){var n,i,r,o;t?Pe.c.exitFullScreen({detail:{videoPlayer:null===(r=e.player)||void 0===r?void 0:r.el_}}):Pe.c.enterFullScreen({detail:{videoPlayer:null===(o=e.player)||void 0===o?void 0:o.el_}});null===(n=(i=e.props).onChangeFullScreen)||void 0===n||n.call(i,!t)},itemMetadata:c,visibility:l,isFullscreen:u,showToolbarAutoplayToggle:h,autoNextCountdownSeconds:m,shouldShowPrerollVideoAds:f}),this.player&&se.createElement(_s,{player:this.player,videoProgress:T})))},VideoPlayer}(se.Component);Ih.contextTypes={executeAction:pe.a.func,_eventData:pe.a.object};var Lh=Object(W.b)(z.a.createTrackedContainer((function(){return{namespace:{app:"open_course.video",page:"item_layout"}}})))(Ih),Rh,Dh=function VideoOrigamiRegion(e){var t,n=e.computedItem,i=e.courseProgress,r=e.verificationDisplay,o=e.itemMetadata,a=e.videoContent,s=e.videoQuizModel,l=e.enrollmentMode,c=e.startPlaybackSeconds,u=e.autoplay,d=e.setVideoPlayer,p=e.setInteractiveTranscript,h=e.setVideoRegion,m=e.ariaLabel,f=e.isFullscreen,g=e.layoutMode,v=e.visibility,y=e.isContextMenuEnabled,b=e.showToolbarAutoplayToggle,C=e.autoNextCountdownSeconds,S=e.shouldShowPrerollVideoAds,k=e.setIsAdsPlaying,w=o.get("course"),T=o.get("courseMaterials"),P,E={course:w,courseProgress:i,computedItem:n,videoContent:a,videoQuizModel:s,nextItemMetadataOrItemGroup:null==T?void 0:null===(t=T.getNeighbors(o))||void 0===t?void 0:t.nextItemMetadataOrItemGroup,enrollmentMode:l,verificationDisplay:r,startPlaybackSeconds:c,autoplay:u,setVideoPlayer:d,setInteractiveTranscript:p,setIsAdsPlaying:k};return se.createElement(Lh,{viewOptions:E,setVideoRegion:h,ariaLabel:m,itemMetadata:o,visibility:v,isFullscreen:f,layoutMode:g,isContextMenuEnabled:y,showToolbarAutoplayToggle:b,autoNextCountdownSeconds:C,shouldShowPrerollVideoAds:S})},Fh=t("DeKs"),Vh=function isLearningHoursSignalsEnabled(){return Fh.a.get("learningHoursSignalsEnabled")},Bh=function userLanguageSupportsLectureSummaries(){var e;return"en"===Object(a.getLanguageCode)()},Hh=function isLectureSummaryVariantEnabled(){return Fh.a.get("lectureSummaryVariantEnabled")&&Bh()},Uh=function isWebAppJourneyVariantEnabled(){return Fh.a.get("webAppJourneyVariantEnabled")},Wh=function isVideoToolbarAutoplayToggleEnabled(){var e=so.get("autoplayToggleLocationAndDefault");return"outsideDefaultOff"===e||"outsideDefaultOn"===e},zh=t("KoCz"),qh=t("2T3l"),Kh=t("DfKC"),Qh=t("RuU6"),Gh=t("emlC"),Yh=t("CLvh"),Xh=t.n(Yh),getSocialCaptions=function(e){var t=e.courseName,n=e.partnerName,i=e.videoTitle;return{twitter:function twitter(){return Xh()("Check out this video from #{partnerName}: #{courseName} on @Coursera.",{courseName:t,partnerName:n,videoTitle:i})},whatsapp:function whatsapp(e){return Xh()("I found a great video from a course called #{courseName}. I think you’ll really like it. It’s from #{partnerName} on Coursera, an online learning platform that partners with top universities and companies around the world Check it out: #{shareLink}",{courseName:t,partnerName:n,shareLink:e})},emailSubject:function emailSubject(){return Xh()("I found an interesting video for you on Coursera!")},emailBody:function emailBody(e){return Xh()("I thought you might like this video from #{courseName} offered by #{partnerName}: on Coursera. #{shareLink}\n\nCoursera also offers online courses and Professional Certificates from 190+ world-class universities and companies, including Yale, the University of Pennsylvania, Google, IBM, and more.\n\nLet me know what you think!",{courseName:t,partnerName:n,shareLink:e})}}},Jh=t("ZLWr"),Zh=t.n(Jh),$h,em,tm,nm,im,rm,om,am,sm=se.lazy((function(){return Promise.resolve().then(t.bind(null,"VDEC")).then((function(e){return e}))})),lm=function ShowMobilePromoOptionBannerDetector(e){var t=e.isCompleted,n=e.isFirstVideoItem,i=Object(se.useContext)(Kh.MobilePromoOptionContext);return Object(se.useEffect)((function(){if(i){var e=i.setShowMobilePromoBanner;t&&n&&e(!0)}}),[t,n,i]),null},cm=function getMaxVideoHeight(e,t,n){return e?Fe:t?Ve:n?Be:Fe},um=function getVideoHeight(e,t,n){if(n)return 240;if(e>68)return Math.max(240,t-(e-68));return t},dm={outermostContainer:function outermostContainer(e){return Object(ae.c)($h||($h=ie()(["\n      padding-top: ",";\n    "])),e.spacing(12))},titleAndSaveNoteContainer:function titleAndSaveNoteContainer(e){return Object(ae.c)(em||(em=ie()(["\n      margin-top: ",";\n      background-color: ",";\n      z-index: 1; /* so that the video player is on top of the title and save note container */\n      & button > span {\n        white-space: nowrap;\n      }\n    "])),e.spacing(12),e.palette.white)},iTakeSpace:function iTakeSpace(e,t,n){return Object(ae.c)(tm||(tm=ie()(["\n    width: 100%;\n    height: 0;\n    "," {\n      /* Empty div above video that keeps the overall scroll height the same.\n      Since videoHeight already accounts for VIDEO_TOP, don't need to account for that again. */\n      height: ","px;\n    }\n  "])),e.breakpoints.up("md"),n-t)},videoPlayerRow:function videoPlayerRow(e,t,n){return Object(ae.c)(nm||(nm=ie()(["\n    background-color: ",";\n    z-index: 2; /* This is needed so that buttons in lecture tab panels don't overlap the video when they overflow their container. */\n    height: ","px;\n\n    /* Grid sets flex-basis to 100%. This causes the video to have zero height when it's not sticky. */\n    flex-basis: unset;\n\n    "," {\n      position: ",";\n      height: ","px;\n      top: 0;\n      flex-basis: 100%;\n    }\n  "])),e.palette.black[700],n,e.breakpoints.up("md"),t?"sticky":"static",n)},videoPlayerContainer:function videoPlayerContainer(e,t){return Object(ae.c)(im||(im=ie()(["\n    width: 100%;\n    height: 100%;\n    "," {\n      z-index: 3;\n      height: ","px;\n    }\n\n    & .rc-VideoMiniPlayer .vjs-coursera-skin {\n      /* !important is needed to override the !important property rule used by videoJS */\n      outline: none !important;\n    }\n  "])),e.breakpoints.up("md"),t)},feedbackButtons:function feedbackButtons(e){return Object(ae.c)(rm||(rm=ie()(["\n    margin-top: ",";\n    margin-bottom: ",";\n  "])),e.spacing(16),e.spacing(16))},overrideItemFeedbackStyles:function overrideItemFeedbackStyles(){return Object(ae.c)(om||(om=ie()(["\n    & .c-flag-categories-modal > div {\n      bottom: 0;\n    }\n  "])))},embeddedSourceAttribution:function embeddedSourceAttribution(e){return Object(ae.c)({marginTop:e.spacing(8),marginBottom:e.spacing(16)})}},pm=48,hm=90,mm=12,fm=function didLearnerScrollToTop(e,t,n,i){var r,o,a;return e>t&&t<=i-n},gm=function VideoItem(e){var t,n,i,r=e.autoplay,o=e.course,a=e.computedItem,s=e.videoContent,l=e.itemMetadata,c=e.hasModalOpen,u=e.courseProgress,d=e.verificationDisplay,p=e.enrollmentMode,h=e.startPlaybackSeconds,m=e.videoQuizModel,f=e.executeAction,g=e.mobilePromoEligible,v=e.firstVideoItem,y=e.isSubtitleTranslationEnabled,b=e.weekNumber,C=e.itemSummaryHtml,S=e.scrollingContainerRef,k=e.isPreviewMode,w=e.shouldShowPrerollVideoAds,T=void 0!==w&&w,P=Object(se.useState)({isFullScreen:!1,visiblePlayer:!1,videoPlayer:void 0,videoRegion:void 0,isAdsPlaying:!1}),E=te()(P,2),x=E[0],O=E[1],A=Object(fe.a)(),j=Object(ge.a)(A.breakpoints.only("md")),M=Object(ge.a)(A.breakpoints.only("lg")),N=Object(ge.a)(A.breakpoints.only("xl")),I=Object(se.useState)(!1),L=te()(I,2),R=L[0],D=L[1],B=cm(j,M,N),U=B+68-240,W=Object(se.useState)(0),z=te()(W,2),q=z[0],K=z[1],Q=Object(se.useState)({tracks:void 0,selectedTrack:void 0}),Y=te()(Q,2),J=Y[0],ee=Y[1],ne=Object(se.useState)([]),ie=te()(ne,2),re=ie[0],le=ie[1],ce=Object(se.useState)(""),de=te()(ce,2),pe=de[0],he=de[1],Ce=null==S?void 0:S.current,Ee=um(q,B,R),Oe=Object(se.useCallback)((function(){if(!Ce)return;var e=Ce.scrollTop;R?fm(q,e,Ee,B)&&D(!1):e>=U&&D(!0),K(e)}),[Ce,R,q,U,Ee,B]),Ae=function handleTabChange(){if(Ce&&R){Ce.removeEventListener("scroll",Oe);var e=l.getEmbeddedContentSourceCourseId()?90:48,t=U+e+12;Ce.scrollTop=t,K(t),Ce.addEventListener("scroll",Oe)}};Object(se.useEffect)((function(){return Ce&&Ce.addEventListener("scroll",Oe),function(){null==Ce||Ce.removeEventListener("scroll",Oe)}}),[Ce,Oe]);var je=o.slug,_e=o.id,Me=a.id,Ne=s.name,Ie=Zh()("Video: #{name}",{name:Ne}),Le=l.get("courseMaterials"),Re=null==Le?void 0:null===(t=Le.getNeighbors(l))||void 0===t?void 0:t.nextItemMetadataOrItemGroup,De=x.videoRegion&&x.videoPlayer,Fe=5,Ve=Wh(),Be=H(_e),He=function setVisibility(e){O((function(t){return Z()(Z()({},t),{},{visiblePlayer:e})}))},Ue=function setVideoPlayer(e){O((function(t){return Z()(Z()({},t),{},{videoPlayer:e})}))},We=function setVideoRegion(e){O((function(t){return Z()(Z()({},t),{},{videoRegion:e})}))},ze=function setIsAdsPlaying(e){O((function(t){return Z()(Z()({},t),{},{isAdsPlaying:e})}))},qe=function onSubtitlesChange(){he(F(l,x.videoPlayer,s))};Object(se.useEffect)((function(){var e=x.videoPlayer,t;if(!e)return;return e.on("subtitleschange",qe),function(){var e=X()(G()().mark((function _callee(){var e;return G()().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(l);case 2:e=t.sent,le(e);case 4:case"end":return t.stop()}}),_callee)})));return function fetchLectureAssetsData(){return e.apply(this,arguments)}}()(),he(F(l,e,s)),function(){e.off("subtitleschange",qe)}}),[s,l,x.videoPlayer]);var Ke=Object(se.useMemo)((function(){return _r({videoContent:s,languageCode:pe,computedItem:a,assetSources:re,courseId:_e})}),[s,pe,a,re,_e]),Qe=function setInteractiveTranscript(e){if(!e)return void ee((function(e){return Z()(Z()({},e),{},{tracks:void 0,selectedTrack:void 0})}));if(oe()(e.languageMap))return f(Ct,!1),void ee((function(e){return Z()(Z()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var t=J.selectedTrack,n=e.languageMap,i=e.defaultLanguage,r=Object(xe.a)(n),o=Object(xe.b)(r,i),a=t||o;f(Ct,!0),ee((function(e){return Z()(Z()({},e),{},{tracks:r,selectedTrack:a})}))},Ge=function handleTrackSelected(e){e&&ee((function(t){return Z()(Z()({},t),{},{selectedTrack:e})}))},Ye=Boolean(!Object(qh.a)(_e)&&!k&&b);return Object(ae.d)(Lr,{autoplay:r,courseSlug:je,computedItem:a,isVideoHighlightingEnabled:!0},Object(ae.d)(ve.a,{id:"video-item-outermost-container",container:!0,direction:"column",css:dm.outermostContainer,wrap:"nowrap"},Object(ae.d)("div",{css:dm.iTakeSpace(A,Ee,B)}),Object(ae.d)(ve.a,{id:"video-player-row",item:!0,container:!0,xs:12,direction:"row",wrap:"nowrap",css:dm.videoPlayerRow(A,q,B)},Object(ae.d)(ve.a,{id:"video-player-container",alignContent:"flex-start",item:!0,css:dm.videoPlayerContainer(A,Ee)},Object(ae.d)(ue.a,{onChange:function onChange(e){(e||x.isFullScreen)&&He(e)}},Object(ae.d)(Jr,{videoPlayer:x.videoPlayer,videoRegion:x.videoRegion,nextItem:Re,parentCb:He,hasModalOpen:c,layoutMode:"fill"},Object(ae.d)(Dh,{computedItem:a,courseProgress:u,verificationDisplay:d,itemMetadata:l,enrollmentMode:p,autoplay:r,startPlaybackSeconds:h,videoQuizModel:m,videoContent:s,setVideoPlayer:Ue,setVideoRegion:We,setInteractiveTranscript:Qe,ariaLabel:Ie,visibility:x.visiblePlayer,isFullscreen:Pe.c.isFullScreen(),layoutMode:"fill",isContextMenuEnabled:Be,showToolbarAutoplayToggle:Ve,autoNextCountdownSeconds:Fe,shouldShowPrerollVideoAds:T,setIsAdsPlaying:ze}))))),De&&J.tracks&&J.selectedTrack&&Object(ae.d)(oi,{itemId:Me,courseId:_e,videoPlayer:x.videoPlayer,videoRegionRef:x.videoRegion,selectedTrack:J.selectedTrack,tracks:J.tracks,onTrackSelected:Ge,computedItem:a,itemMetadata:l,videoContent:s,course:o,isSubtitleTranslationEnabled:y,executeAction:f},Object(ae.d)(ve.a,{item:!0,container:!0,direction:"column"},Object(ae.d)(ve.a,{id:"video-item-title-and-save-note",container:!0,item:!0,direction:"row",xs:12,justifyContent:"space-between",alignItems:"center",wrap:"nowrap",css:dm.titleAndSaveNoteContainer},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(ye.a,{variant:"h1semibold",className:"video-name"},Ne,Object(ae.d)(Te.a,{courseId:_e})),l.getEmbeddedContentSourceCourseId()&&Object(ae.d)("div",{css:dm.embeddedSourceAttribution},Object(ae.d)(Se.a,{embeddedContentSourceCourseId:l.getEmbeddedContentSourceCourseId(),includeCourseName:!0})),Uh()&&g&&Object(ae.d)(lm,{"data-test":"mobile-web-banner",isCompleted:null==a?void 0:a.isCompleted,isFirstVideoItem:null==v?void 0:v.includes(Me)})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(di,{videoPlayer:x.videoPlayer,selectedTrack:J.selectedTrack}))),Object(ae.d)(ve.a,{item:!0,xs:12},Object(ae.d)($e,{isLoggedIn:me.a.isAuthenticatedUser(),stickyTop:Ee,transcriptTabContent:Object(ae.d)(Cr,{isAdsPlaying:x.isAdsPlaying}),downloadTabContent:0===Ke.length?null:Object(ae.d)(Pi,{lectureDownloadLinks:Ke}),discussTabContent:Ye?Object(ae.d)(yi,{weekNumber:b}):null,notesTabContent:Object(ae.d)(Yi,{isAdsPlaying:x.isAdsPlaying}),lectureSummaryTabContent:Object(ae.d)(Li,{itemSummaryHtml:C,name:Ne}),notifyOnTabChange:Ae,itemSummaryHtml:C})))),am||(am=Object(ae.d)(be.a,{color:"light"})),Object(ae.d)(ve.a,{container:!0,css:dm.feedbackButtons},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(ke.a,{courseId:_e,computedItem:a,itemFeedbackType:we.c.Lecture,css:dm.overrideItemFeedbackStyles})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Br,{utmMediumParam:"page_share",utmContentParam:"in_course_lecture",utmCampaignParam:"bar_button",title:Zh()("Share this video"),description:Zh()("If you enjoy this video, take the time to show your friends."),captions:getSocialCaptions({courseName:null==o?void 0:o.name,partnerName:null==l?void 0:null===(n=l.get("course"))||void 0===n?void 0:null===(i=n.get("universities"))||void 0===i?void 0:i.getNamesString()})})))))},vm=function VideoItemWithItemPageContext(e){var t,n="CourseraCoach"===Object(Qh.a)();return Ee.a.get("showLearningAssistant"),Object(ae.d)("div",{role:"region","aria-label":Zh()("Video item")},Object(ae.d)(zh.b.Consumer,null,(function(t){var n=t.hasModalOpen,i=t.setHasModalOpen;return Object(ae.d)(gm,K()({},e,{hasModalOpen:n,setHasModalOpen:i}))})),n&&Object(ae.d)(se.Suspense,{fallback:null},Object(ae.d)(sm,{courseId:e.course.id,itemId:e.computedItem.id,humanReadableItemType:Ce.HumanReadableItemType.VIDEO})))},ym=Object(W.b)(Object(he.a)(["ApplicationStore","SessionStore"],(function(e,t){var n=e.ApplicationStore,i=e.SessionStore,r=t.course;return{courseBranchId:i.getBranchId()||r.id,mobilePromoEligible:n.getMobilePromoEligibility()}})),Object(Gh.a)(["CourseStore"],(function(e){var t;return{firstVideoItem:e.CourseStore.getFirstVideoItemPerModule()}})),Object(W.c)({executeAction:pe.a.func.isRequired}))(vm),bm=t("hMuw"),Cm,Sm=function DiscussionLink(e){var t=e.weekNumber;return(se.createElement(Oe.a,{variant:"ghost",component:Ci.a,iconPosition:"before",trackingName:"week_forums",href:Object(mi.q)(t),target:"_blank",icon:Cm||(Cm=se.createElement(Mn.a,{size:"small"})),"aria-label":D()("Discuss, opens discussion forums in another browser window")},D()("Discuss")))};Sm.displayName="DiscussionLink";var km=Sm,wm=function(e){function VideoHighlightingManager(t){var n;return(n=e.call(this,t)||this).handleDelete=function(){var e=X()(G()().mark((function _callee(e){var t,i,r;return G()().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return t=n.state.highlights,i=n.context.executeAction,r=t.filter((function(t){return t.id!==e})),n.setState({highlights:r}),o.next=6,Object(ei.c)({id:e});case 6:n.setState({notificationAnnouncement:D()("Note deleted")}),i(St,r.length);case 8:case"end":return o.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdate=function(){var e=X()(G()().mark((function _callee2(e,t){var i,r,o,a,s;return G()().wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return i=n.state.highlights,r=n.props,o=r.itemId,a=r.courseId,s=r.selectedTrack.languageCode,n.setState({highlights:i.map((function(e){return e.id===t.id?Z()(Z()({},t),{},{pendingUpdate:!0}):e}))}),l.next=5,Object(ei.f)({itemId:o,courseId:a,languageCode:s,id:e,highlight:t});case 5:n.handleUpdateComplete(t.id,Z()(Z()({},t),{},{pendingUpdate:!1})),n.setState({notificationAnnouncement:D()("Note updated")});case 7:case"end":return l.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),n.handleCreate=function(){var e=X()(G()().mark((function _callee3(e){var t,i,r,o,a,s,l,c,u,d;return G()().wrap((function _callee3$(p){for(;;)switch(p.prev=p.next){case 0:return t=n.state.highlights,i=n.context.executeAction,r=n.props,o=r.itemId,a=r.courseId,s=r.selectedTrack.languageCode,l=[e].concat(Me()(t)),n.setState({highlights:l}),p.next=7,Object(ei.b)({itemId:o,courseId:a,languageCode:s,highlight:e});case 7:c=p.sent,u=c.id,d=c.snapshotUrl,n.handleUpdateComplete(e.id,Z()(Z()({},e),{},{id:u,snapshotUrl:d,pendingCreate:!1})),i(St,l.length);case 12:case"end":return p.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateComplete=function(e,t){var i=n.state.highlights;n.setState({highlights:Me()(i).sort(ei.a).map((function(n){return n.id===e?t:n}))})},n.state={highlights:[],loadingHighlights:!0,notificationAnnouncement:""},n}yt()(VideoHighlightingManager,e);var t=VideoHighlightingManager.prototype;return t.componentDidMount=function(){var e=X()(G()().mark((function _callee4(){var e,t,n,i,r,o;return G()().wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.itemId,n=e.courseId,i=e.selectedTrack.languageCode,r=this.context.executeAction,a.next=4,Object(ei.d)({itemId:t,courseId:n,languageCode:i});case 4:o=a.sent,this.setState({loadingHighlights:!1,highlights:o}),r(St,o.length);case 7:case"end":return a.stop()}}),_callee4,this)})));function componentDidMount(){return e.apply(this,arguments)}return componentDidMount}(),t.componentWillReceiveProps=function(){var e=X()(G()().mark((function _callee5(e){var t,n,i,r,o,a,s;return G()().wrap((function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:if(t=this.props,n=t.itemId,i=t.courseId,r=t.selectedTrack.languageCode,o=this.context.executeAction,(a=e.selectedTrack.languageCode)===r){l.next=10;break}return this.setState({loadingHighlights:!0}),l.next=7,Object(ei.d)({itemId:n,courseId:i,languageCode:a});case 7:s=l.sent,this.setState({loadingHighlights:!1,highlights:s}),o(St,s.length);case 10:case"end":return l.stop()}}),_callee5,this)})));function componentWillReceiveProps(t){return e.apply(this,arguments)}return componentWillReceiveProps}(),t.render=function render(){var e=this.state,t=e.highlights,n=e.loadingHighlights,i=e.notificationAnnouncement,r=this.props,o=r.selectedTrack,a=r.videoPlayer,s=r.course,l=r.computedItem,c=r.itemMetadata,u=r.courseId,d=r.videoContent,p=r.tracks,h=r.onTrackSelected,m=r.isSubtitleTranslationEnabled,f=r.children;return se.createElement("div",{className:"rc-VideoHighlightingManager"},f({highlights:t,videoPlayer:a,loading:n,notificationAnnouncement:i,onDelete:this.handleDelete,onUpdate:this.handleUpdate,course:s,courseId:u,computedItem:l,itemMetadata:c,videoContent:d,selectedTrack:o,onCapture:this.handleCreate,tracks:p,onTrackSelected:h,hideVolunteerLink:!m,player:a,onSaveHighlight:this.handleCreate,onRemoveHighlight:this.handleDelete}))},VideoHighlightingManager}(se.Component);wm.contextTypes={executeAction:pe.a.func.isRequired};var Tm=wm,Pm=function(e){function VideoJsTranscriptContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={time:0},t.handleTimeUpdate=function(){var e=t.props.player;t.setState({time:e.currentTime()})},t.handleTimeChange=function(e){var n=t.props,i=n.player,r=n.isAdsPlaying,o=void 0!==r&&r;i.currentTime(e),i.paused()&&!o&&i.play(),t.setState({time:e})},t.handleSaveHighlight=function(e){var n=t.props,i=n.selectedTrack,r=n.onSaveHighlight,o=Object(ni.b)(e,i);r&&r(o)},t.handlePausePlayer=function(){var e;t.props.player.pause()},t}yt()(VideoJsTranscriptContainer,e);var t=VideoJsTranscriptContainer.prototype;return t.componentDidMount=function componentDidMount(){var e;this.props.player.on("timeupdate",this.handleTimeUpdate)},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.player;t&&!e.player&&t.off("timeupdate",this.handleTimeUpdate)},t.componentWillUnmount=function componentWillUnmount(){var e;this.props.player.off("timeupdate",this.handleTimeUpdate)},t.render=function render(){var e=this.state.time,t=this.props,n=t.selectedTrack,i=t.highlights,r=t.onRemoveHighlight;return se.createElement(Xi.a,{time:e,timeDiff:void 0,track:n,highlights:i||[],onTimeChange:this.handleTimeChange,onRemoveHighlight:r,onSaveHighlight:this.handleSaveHighlight,handlePausePlayer:this.handlePausePlayer})},VideoJsTranscriptContainer}(se.Component);Pm.defaultProps={onSaveHighlight:function onSaveHighlight(){},onRemoveHighlight:function onRemoveHighlight(){}};var Em=Pm,xm=t("/kEZ"),Om=t.n(xm),Am=t("kyt0"),jm=730,_m=t("Retq"),Mm,Nm,Im={headerHeight:"64px",drawer:function drawer(e){return Object(ae.c)($r()({border:"1px solid #E5E7E8",background:"white",position:"absolute",top:-1,right:0,width:"33%",bottom:0,flexFlow:"row",".DrawerComponent__closeButton":{position:"absolute",right:e.spacing(16),top:e.spacing(8)},".DrawerComponent":{position:"absolute",flexFlow:"column",padding:0,zIndex:10,right:0,top:0,bottom:0,backgroundColor:"white"},".DrawerComponentChildren":{overflow:"hidden auto",padding:e.spacing(0,48,0,48)},"@media(min-width: 1440px)":{width:"28%"},"@media(max-width: 1439px)":{width:"25%"},"@media(max-width: 1024px)":{width:"37%"}},"@media(max-width: ".concat(729,"px)"),{width:"100%"}))},drawerContent:function drawerContent(){return Object(ae.c)({height:"100vh"})},grayOutBackground:function grayOutBackground(){return Object(ae.c)({background:"rgba(0,0,0,.5)",height:"100%",width:"100%",position:"absolute",left:0})}},Lm,Rm=function DrawerComponent(e){var t=e.children,n=e.className,i=e.handleClose,r=e.notesButtonRef,o=e.isOpen,a=void 0!==o&&o,s=a?["DrawerComponent","open"]:["DrawerComponent","close"];s=n?[].concat(Me()(s),[n]):s;var l=null,c=Object(fe.a)();return Object(se.useEffect)((function(){var e;a?null===(e=l)||void 0===e||e.focus():null==r||r.focus()}),[a,l,r]),a?Object(ae.d)(_m.a,{keyActionMap:{Escape:function Escape(){return i(!1)}}},Object(ae.d)(Om.a,{focusTrapOptions:{returnFocusOnDeactivate:!1,allowOutsideClick:!0}},Object(ae.d)(ve.a,{css:[Im.drawer(c)]},Object(ae.d)(ve.a,{container:!0,item:!0,className:s.join(" ")},Object(ae.d)("div",{css:Object(ae.c)(Mm||(Mm=ie()(["\n                width: 100%;\n                position: relative;\n                height: 48px;\n                z-index: 100;\n                padding: 4px;\n              "])))},Object(ae.d)(Oe.a,{component:hn.a,trackingName:"drawer_component_close_button",variant:"ghost",onClick:function onClick(){return i(!1)},iconPosition:"after",icon:Nm||(Nm=Object(ae.d)(Am.a,{size:"small"})),className:"DrawerComponent__closeButton",size:"small",withVisibilityTracking:!1,requireFullyVisible:!1,onSetRef:function onSetRef(e){l=e},role:"button"},Zh()("Close"))),Object(ae.d)(ve.a,{xs:12,css:Im.drawerContent,className:"DrawerComponentChildren"},t))))):null},Dm,Fm=function VideoTranscriptToolbar(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,r=e.itemId,o=e.courseId,a=e.hideVolunteerLink,s=void 0!==a&&a,l=e.className;return(se.createElement(ve.a,{container:!0,className:"rc-VideoTranscriptToolbar ".concat(l)},se.createElement(ve.a,{item:!0,xs:12,sm:"auto"},se.createElement(Xi.b,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:o,itemId:r})),se.createElement(ve.a,{item:!0,xs:12,sm:"auto"},!s&&se.createElement(pr,{linkClassName:"volunteer-link",linkStyle:{fontSize:"14px"},linkTrackingName:"lecture_translation_link",modalTrackingName:"lecture_translation_modal"},D()("Help Us Translate")))))},Vm=t("/RAd"),Bm,Hm=5e3,Um=Object(je.d)({type:"BUTTON"})(Oe.a);Um.displayName="TrackedButton";var Wm,zm=function CaptureHighlightButton(e){var t=e.selectedTrack,n=e.videoPlayer,i=e.onCapture,r=e.onFocusHighlight,o=Object(se.useState)(!1),a=te()(o,2),s=a[0],l=a[1],c=Object(se.useState)(!1),u=te()(c,2),d=u[0],p=u[1],h=Object(se.useState)(null),m=te()(h,2),f=m[0],g=m[1],v;Object(se.useEffect)((function(){return n.emitter.on("videoQuizView.hidden",(function(){return l(!1)})),n.emitter.on("videoQuizView.visible",(function(){return l(!0)})),function(){"function"==typeof n.emitter.off&&(n.emitter.off("videoQuizView.hidden",(function(){return l(!1)})),n.emitter.off("videoQuizView.visible",(function(){return l(!0)})))}}),[]);var y=function handleClick(e){if("Enter"===e.key||" "===e.key)return;if(v&&clearTimeout(v),t){var r=Object(ni.a)(t,n);i(r),g(r),p(!0),v=window.setTimeout((function(){p(!1)}),5e3)}},b=function handlePreviewClick(){v&&clearTimeout(v),p(!1),f&&r(f)};return se.createElement("div",{className:"rc-CaptureHighlightButton"},se.createElement(Um,{disabled:s,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:Bm||(Bm=se.createElement(Ae.a,{size:"small"})),onClick:y,trackingName:"create_video_highlight"},D()("Save note")),se.createElement(ot,{show:d,highlight:f,onClick:b}))},qm=t("6qMG"),Km=t("eEox"),Qm=Object(je.d)({type:"BUTTON"})(at.a),Gm,Ym=function VideoToolbarButton(e){var t=e.label,n=e.trackingName,i=e.onClick,r=e.tag,o=e.htmlAttributes,a=e.type,s=e.disabled,l=e.svgElement;return(se.createElement(Qm,{rootClassName:"rc-VideoToolbarButton",style:{border:"none",display:"flex",fontWeight:"normal",padding:"6px 12px",minHeight:"32px",fontSize:"14px",marginLeft:"6px",color:lt.b.secondaryText},disabled:s,trackingName:n,onClick:i,tag:r,htmlAttributes:o,type:a,label:t,svgElement:l}))},Xm,Jm=function DiscussButton(e){var t=e.weekNumber;return(se.createElement(Ym,{trackingName:"week_forums",tag:"a",htmlAttributes:{"aria-label":D()("Discuss, Opens in a new tab"),href:Object(mi.q)(t),target:"_blank",rel:"noopener noreferrer"},type:"secondary",label:D()("Discuss"),svgElement:se.createElement(qm.a,{color:lt.b.secondaryText,hoverColor:lt.b.white,size:20,suppressTitle:!0})}))},Zm=t("Miom"),$m,ef=function DownloadItemLink(e){var t=e.trackingName,n=e.onClick,i=e.data,r=e.href,o=e.target,a=e.children,s=e.download,l=e.rel;return(se.createElement("li",{className:"menuitem"},se.createElement(pi.a,{component:Ci.a,data:i,href:r,role:"menuitem",target:o,onClick:n,download:s,trackingName:t,style:{padding:"".concat(lt.k.sm," ").concat(lt.k.lg)},className:"menuitem",rel:l},a)))},tf,nf=function AssetDownloadItem(e){var t=e.downloadUrl,n=e.itemName,i=e.fileType,r=e.assetTypeName;return(se.createElement(ef,{trackingName:"download_asset",data:{asset_type:r},href:t,target:"_blank",download:"asset"===r?n:void 0},se.createElement("span",{style:{marginRight:"8px"}},n),se.createElement("span",{className:"caption-text color-secondary-dark-text"},i)))},rf=function(e){function LectureVideoDownloadItem(t,n){var i;(i=e.call(this,t,n)||this).onVideoSourceClick=function(){var e=i.props,t=e.courseId,n=e.computedItem.id;wr(t,n,!0,!0)};var r=t.videoContent.getSourcesForResolution(i.props.resolution),o=r&&r["video/mp4"];return i.state={videoSource:o},i}yt()(LectureVideoDownloadItem,e);var t=LectureVideoDownloadItem.prototype;return t.getFilename=function getFilename(){var e=this.props,t=e.fileName,n,i=e.computedItem.name;return t||i||D()("lecture")},t.render=function render(){var e=this.props.fileExtension,t=this.state.videoSource;if(!t)return null;return(se.createElement(ef,{trackingName:"download_video",onClick:this.onVideoSourceClick,href:t,download:"".concat(this.getFilename(),".").concat(e),target:"_blank",rel:"noopener noreferrer"},se.createElement("span",{style:{marginRight:"8px"}},D()("Lecture Video (#{resolution})",{resolution:this.props.resolution})),se.createElement("span",{className:"caption-text color-secondary-dark-text"},e)))},LectureVideoDownloadItem}(se.Component);rf.defaultProps={fileExtension:"mp4"};var of=rf,af,sf=function SubtitleDownloadItem(e){var t=e.videoContent,n=e.languageCode,i=t.getSubtitlesUrl("subtitlesVtt",n),r=t.getSubtitlesLabel("subtitlesVtt",n);if(!i)return null;return(se.createElement(ef,{trackingName:"download_subtitle",data:{languageCode:n,format:"vtt"},href:i,download:"subtitles-".concat(n,".vtt")},se.createElement(At.b,{message:D()("Subtitles ({subtitleLanguage})"),subtitleLanguage:r}),se.createElement("div",null,D()("WebVTT"))))},lf,cf=function TranscriptDownloadItem(e){var t=e.videoContent,n=e.languageCode,i=t.getSubtitlesUrl("subtitlesTxt",n),r=t.getSubtitlesLabel("subtitlesTxt",n);if(!i)return null;return(se.createElement(ef,{href:i,download:"transcript.txt",trackingName:"download_subtitle",data:{languageCode:n,format:"txt"}},se.createElement(st.b,{alignItems:"center"},se.createElement("span",{style:{marginRight:"8px"}},se.createElement(At.b,{message:D()("Transcript ({subtitleLanguage})"),subtitleLanguage:r})),se.createElement("span",{className:"caption-text color-secondary-dark-text"},D()("txt")))))},uf=t("dY//"),df,pf,hf=function(e){function DownloadsDropdown(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={assetSources:[],languageCode:"",showMenu:!1},t.handleEscKeyPress=function(e){27===e.keyCode&&t.toggleMenu()},t.handleDocumentClick=function(e){if(t.dropdown&&t.dropdown.contains(e.target))return;t.toggleMenu()},t.onSubtitlesChange=function(){var e=t.props,n=e.itemMetadata,i=e.videoPlayer,r=e.videoContent,o=F(n,i,r);t.setState({languageCode:o})},t.toggleMenu=function(){t.setState((function(e){return{showMenu:!e.showMenu}}))},t}yt()(DownloadsDropdown,e);var t=DownloadsDropdown.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props,n=t.itemMetadata,i=t.videoPlayer,r=t.videoContent;i.on("subtitleschange",this.onSubtitlesChange);var o=F(n,i,r);this.setState({languageCode:o}),V(n).then((function(t){e.setState({assetSources:t})}))},t.componentDidUpdate=function componentDidUpdate(e,t){var n=t.showMenu,i=this.state.showMenu;i!==n&&(i?(document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("keydown",this.handleEscKeyPress,!1)):(document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("keydown",this.handleEscKeyPress,!1)))},t.componentWillUnmount=function componentWillUnmount(){var e=this.props.videoPlayer;"function"==typeof e.off&&e.off("subtitleschange",this.onSubtitlesChange),document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("keydown",this.handleEscKeyPress,!1)},t.render=function render(){var e=this,t=this.state,n=t.assetSources,i=t.languageCode,r=t.showMenu,o=this.props,a=o.computedItem,s=o.courseId,l=o.videoContent,c=r?D()("Download video resources dropdown menu: open"):D()("Download video resources dropdown menu: closed"),u=tt()({"rc-DownloadsDropdown":!0,"bt3-dropdown":!0,"bt3-open":r}),d=l&&B(s);if(!d&&0===n.length)return null;var p=getResolutionRange(l),h=te()(p,2),m=h[0],f=h[1];return(se.createElement("div",{className:u,ref:function ref(t){e.dropdown=t}},se.createElement(Oe.a,{variant:"ghost",type:"button","aria-haspopup":"true","aria-expanded":r,"aria-label":c,onClick:this.toggleMenu,id:"downloads-dropdown-btn",icon:df||(df=se.createElement(Zm.a,{size:"small"})),iconPosition:"after"},D()("Download")),r&&se.createElement("ul",{role:"menu",className:"bt3-dropdown-menu",css:Object(ae.c)(pf||(pf=ie()(["\n              ","\n            "])),this.props.theme.typography.body1),"aria-labelledby":"downloads-dropdown-btn","aria-label":D()("Downloads Menu")},d&&se.createElement(se.Fragment,null,m&&se.createElement(of,{resolution:m,courseId:s,computedItem:a,videoContent:l}),f&&se.createElement(of,{resolution:f,courseId:s,computedItem:a,videoContent:l}),se.createElement(sf,{languageCode:i,videoContent:l}),se.createElement(cf,{languageCode:i,videoContent:l})),n.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,r=e.typeName;return(se.createElement(nf,{key:n,itemName:t,downloadUrl:n,fileType:i,assetTypeName:r}))})))))},DownloadsDropdown}(se.Component),mf=Object(nn.a)(hf),ff=function VideoToolbar(e){var t=e.courseId,n=e.computedItem,i=e.itemMetadata,r=e.course,o=e.selectedTrack,a=e.videoPlayer,s=e.videoContent,l=e.onCapture,c=e.onFocusHighlight,u=e.disableHighlighting,d=e.className,p=n.weekNumber,h=r.isClosedCourse,m=!(r&&h),f=Vm.a.get("discussions");return se.createElement(ve.a,{container:!0,className:"rc-VideoToolbar ".concat(d),style:{border:"0px"}},se.createElement(ve.a,{container:!0,item:!0,xs:12},!u&&l&&c&&se.createElement(ve.a,{item:!0},se.createElement(zm,{videoPlayer:a,selectedTrack:o,onCapture:l,onFocusHighlight:c})),!f&&se.createElement(ve.a,{item:!0},se.createElement(Jm,{weekNumber:p})),se.createElement(ve.a,{item:!0},se.createElement(mf,{courseId:t,videoPlayer:a,itemMetadata:i,computedItem:n,videoContent:s,shouldShowVideoDownloads:m}))))};ff.displayName="VideoToolbar";var gf=ff,vf=3e4;function SendSignalsOnPlayTracker(e){var t=e.isPlaying,n=e._eventData,i=e.data,r=e._withTrackingData;return Object(se.useEffect)((function(){var e,o;return null!==(e=window)&&void 0!==e&&e.setInterval&&t&&(o=window.setInterval((function(){z.a.trackComponent(n,Z()(Z()({},i),{},{start_timestamp:Date.now(),user_action_type:"video_is_playing"}),"v1","heartbeat",r)}),vf)),function cleanup(){o&&clearInterval(o)}}),[t]),null}function VideoIsPlayingStateProvider(e){var t=e.videoPlayer,n=e.children,i=Object(se.useState)(!1),r=te()(i,2),o=r[0],a=r[1];return Object(se.useEffect)((function(){return t&&(t.on("play",(function(){return a(!0)})),t.on("pause",(function(){return a(!1)})),t.on("ended",(function(){return a(!1)}))),function cleanup(){t&&(t.off("play",(function(){return a(!0)})),t.off("pause",(function(){return a(!1)})),t.off("ended",(function(){return a(!1)})))}}),[t]),n({isPlaying:o})}var yf=t("j0VE"),bf,Cf=se.lazy((function(){return Promise.resolve().then(t.bind(null,"VDEC")).then((function(e){return e}))})),Sf=5,kf={NotesSpacing:function NotesSpacing(e){return Object(ae.c)({marginTop:e.spacing(8),marginBottom:"6px"})},SectionSpacer:function SectionSpacer(e){return Object(ae.c)({marginTop:e.spacing(16)})},SectionBottomBorder:function SectionBottomBorder(e){return Object(ae.c)({paddingBottom:e.spacing(16),borderBottom:"1px solid ".concat(e.palette.gray[400])})},TranscriptContainer:function TranscriptContainer(){return Object(ae.c)({maxWidth:"700px"})},NegativeMarginLeft:function NegativeMarginLeft(){return Object(ae.c)({marginLeft:"-16px"})},TitleSpacing:function TitleSpacing(e){var t;return Object(ae.c)((t={marginTop:e.spacing(4)},$r()(t,e.breakpoints.up("sm"),{marginTop:e.spacing(32)}),$r()(t,e.breakpoints.up("md"),{marginTop:e.spacing(48)}),t))},EmbeddedSourceAttribution:function EmbeddedSourceAttribution(e){return Object(ae.c)({marginTop:e.spacing(16)})}},wf=function ShowMobilePromoOptionBannerDetector(e){var t=e.isCompleted,n=e.isFirstVideoItem,i=Object(se.useContext)(Kh.MobilePromoOptionContext);return Object(se.useEffect)((function(){if(i){var e=i.setShowMobilePromoBanner;t&&n&&e(!0)}}),[t,n,i]),null},Tf="video-notes-drawer",Pf=function(e){function VideoItemWithHighlighting(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={tracks:void 0,videoPlayer:void 0,videoRegion:void 0,selectedTrack:void 0,showNotes:!1,miniPlayerVisible:!1,visiblePlayer:!1,isFullScreen:!1,isAdsPlaying:!1},t.drawerContainerRef=null,t.notesButtonRef=null,t.handleTrackSelected=function(e){e&&t.setState({selectedTrack:e})},t.handleOnMiniPlayerShow=function(e){t.setState({miniPlayerVisible:!e})},t.setShowNotes=function(e){t.setState({showNotes:e})},t.setVideoPlayer=function(e){t.setState({videoPlayer:e})},t.setVideoRegion=function(e){t.setState({videoRegion:e})},t.setVisibility=function(e){t.setState({visiblePlayer:e})},t.setFullScreen=function(e){t.setState({isFullScreen:e}),e&&t.setVisibility(!0)},t.setIsAdsPlaying=function(e){t.setState({isAdsPlaying:e})},t.setInteractiveTranscript=function(e){var n=t.context.executeAction;if(!e)return void t.setState({tracks:void 0,selectedTrack:void 0});if(oe()(e.languageMap))return n(Ct,!1),void t.setState({tracks:void 0,selectedTrack:void 0});var i=t.state.selectedTrack,r=e.languageMap,o=e.defaultLanguage,a=Object(xe.a)(r),s=Object(xe.b)(a,o),l=i||s;n(Ct,!0),t.setState({tracks:a,selectedTrack:l})},t.handleNotesCapture=function(e,n){t.setShowNotes(!0),null==n||n(e)},t}yt()(VideoItemWithHighlighting,e);var t=VideoItemWithHighlighting.prototype;return t.renderNotesDrawerContent=function renderNotesDrawerContent(e){var t=this.state,n=t.videoPlayer,i=t.isAdsPlaying;return Object(ae.d)($n,{loading:e.loading,videoPlayer:n,highlights:e.highlights,notificationAnnouncement:e.notificationAnnouncement,onDelete:e.onDelete,onUpdate:e.onUpdate,isAdsPlaying:i})},t.render=function render(){var e,t,n,i,r,o=this,a,s,l=this.props,c=l.weekNumber,u=l.isPreviewMode,d=l.course,p=l.itemMetadata,h=l.computedItem,m=l.courseProgress,f=l.verificationDisplay,g=l.enrollmentMode,v=l.autoplay,y=l.startPlaybackSeconds,b=l.videoQuizModel,C=l.videoContent,S=l.isSubtitleTranslationEnabled,k=l.courseBranchId,w=l.hasModalOpen,T=l.shouldShowPrerollVideoAds,P=void 0!==T&&T,E=this.state,x=E.videoPlayer,O=E.videoRegion,A=E.selectedTrack,j=E.tracks,M=E.visiblePlayer,N=E.isAdsPlaying,I=h.id,L=d.slug,R=d.id,D=O&&x,F=C.name,V=Zh()("Video: #{name}",{name:F}),B=!Object(qh.a)(R)&&!u&&c,U=p.get("courseMaterials"),W=null==U?void 0:null===(e=U.getNeighbors(p))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,z=this.context,q=z._eventData,K=z._withTrackingData,Q=Z()(Z()({},q),{},{namespace:{app:"course",page:"learner_activity",action:null==q?void 0:null===(t=q.namespace)||void 0===t?void 0:t.action,component:null==q?void 0:null===(n=q.namespace)||void 0===n?void 0:n.component}}),G={course_id:R,duration:vf,item_id:I,learner_activity_type:"lecture"},Y=H(R),X=this.state.showNotes,J={drawer_state_before_click:X?"open":"closed"},ee=Wh();return Object(ae.d)(Lr,{autoplay:v,courseSlug:L,computedItem:h,isVideoHighlightingEnabled:!0},Object(ae.d)(ve.a,{container:!0,"data-js":"item-container"},Object(ae.d)(ve.a,{container:!0,item:!0,xl:X?9:12,md:X?8:12,xs:X?7:12},Object(ae.d)(ve.a,{item:!0,className:"ItemLecture_Video_Title",xs:12,css:kf.TitleSpacing},Object(ae.d)(ye.a,{variant:"d2",component:"h1",className:"video-name"},F,Object(ae.d)(Te.a,{courseId:R})),p.getEmbeddedContentSourceCourseId()&&Object(ae.d)("div",{css:kf.EmbeddedSourceAttribution},Object(ae.d)(Se.a,{embeddedContentSourceCourseId:p.getEmbeddedContentSourceCourseId(),includeCourseName:!0})),Uh()&&this.props.mobilePromoEligible&&Object(ae.d)(wf,{"data-test":"mobile-web-banner",isCompleted:null==h?void 0:h.isCompleted,isFirstVideoItem:null===(i=this.props)||void 0===i?void 0:null===(r=i.firstVideoItem)||void 0===r?void 0:r.includes(I)})),Object(ae.d)(ve.a,{container:!0,item:!0,className:"ItemLecture_Video_Notes_Navigation",xs:12,css:[kf.NegativeMarginLeft,kf.NotesSpacing]},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Oe.a,{component:hn.a,withVisibilityTracking:!1,requireFullyVisible:!1,trackingName:"open_notes_drawer_link",data:J,variant:"ghost","data-testid":"item-lecture-notes-button",onClick:function onClick(){return o.setShowNotes(!X)},onKeyPress:function onKeyPress(){return o.setShowNotes(!X)},iconPosition:"before",icon:bf||(bf=Object(ae.d)(bm.a,{size:"small"})),"aria-label":Zh()("Notes, opens notes panel"),"aria-controls":"video-notes-drawer","aria-expanded":X,onSetRef:function onSetRef(e){o.notesButtonRef=e}},Zh()("Notes"))),B&&Object(ae.d)(ve.a,{item:!0},Object(ae.d)(km,{weekNumber:c})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(yf.a,{courseSlug:L,courseId:R,courseBranchId:k,itemId:I}))),Object(ae.d)(ve.a,{item:!0,xs:12},Object(ae.d)(ue.a,{onChange:function onChange(e){!e&&o.state.isFullScreen||o.setVisibility(e)}},Object(ae.d)(Jr,{videoPlayer:x,videoRegion:O,nextItem:W,parentCb:this.setVisibility,onMiniPlayerShow:this.handleOnMiniPlayerShow,hasModalOpen:w,isAdsPlaying:N},Object(ae.d)(Dh,{computedItem:h,courseProgress:m,verificationDisplay:f,itemMetadata:p,enrollmentMode:g,autoplay:v,startPlaybackSeconds:y,videoQuizModel:b,videoContent:C,setVideoPlayer:this.setVideoPlayer,setVideoRegion:this.setVideoRegion,setInteractiveTranscript:this.setInteractiveTranscript,ariaLabel:V,visibility:M,isFullscreen:Pe.c.isFullScreen(),isContextMenuEnabled:Y,showToolbarAutoplayToggle:ee,autoNextCountdownSeconds:Sf,shouldShowPrerollVideoAds:P,setIsAdsPlaying:this.setIsAdsPlaying})))),Object(ae.d)(ve.a,{item:!0,"data-testid":"ItemLecture_Video_Transcript","data-js":"item-container",xs:12,css:kf.SectionBottomBorder},D&&j&&A&&Object(ae.d)(Tm,{itemId:I,courseId:R,videoPlayer:x,videoRegionRef:O,selectedTrack:A,tracks:j,onTrackSelected:this.handleTrackSelected,computedItem:h,itemMetadata:p,videoContent:C,course:d,isSubtitleTranslationEnabled:S},(function(e){return Object(ae.d)("div",{"data-testid":"ItemLecture_Video_Highlights",ref:function ref(e){o.drawerContainerRef=e},id:"video-notes-drawer"},Object(ae.d)(Rm,{handleClose:o.setShowNotes,notesButtonRef:o.notesButtonRef,css:o.state.miniPlayerVisible&&Object(ae.c)({".DrawerComponentChildren":{paddingBottom:"180px !important"}}),isOpen:X},o.renderNotesDrawerContent(e)),Object(ae.d)("div",{css:[kf.SectionSpacer,kf.SectionBottomBorder]},Object(ae.d)(gf,{course:d,courseId:R,computedItem:h,itemMetadata:p,videoPlayer:x,videoContent:C,selectedTrack:A,onCapture:function onCapture(t){return o.handleNotesCapture(t,e.onCapture)},onFocusHighlight:function onFocusHighlight(){return o.setShowNotes(!0)},css:[kf.NegativeMarginLeft]})),Object(ae.d)(ye.a,{variant:"h2semibold",css:[kf.SectionSpacer]},Zh()("Transcript")),j&&Object(ae.d)(Fm,{tracks:j,selectedTrack:A,onTrackSelected:e.onTrackSelected,hideVolunteerLink:!S,courseId:R,itemId:I,css:[kf.SectionSpacer,kf.NegativeMarginLeft]}),Object(ae.d)("div",{css:[kf.TranscriptContainer,kf.SectionSpacer]},Object(ae.d)(Em,{player:x,highlights:e.highlights,selectedTrack:A,onSaveHighlight:function onSaveHighlight(t){return o.handleNotesCapture(t,e.onSaveHighlight)},onRemoveHighlight:e.onRemoveHighlight,isAdsPlaying:N})))})),D&&!A&&Object(ae.d)(gf,{course:d,courseId:R,computedItem:h,itemMetadata:p,videoPlayer:x,videoContent:C,disableHighlighting:!0})),Object(ae.d)(ve.a,{container:!0},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(ke.a,{courseId:R,computedItem:h,itemFeedbackType:we.c.Lecture,css:[kf.SectionSpacer]})),Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Br,{utmMediumParam:"page_share",utmContentParam:"in_course_lecture",utmCampaignParam:"bar_button",title:Zh()("Share this video"),description:Zh()("If you enjoy this video, take the time to show your friends."),captions:getSocialCaptions({courseName:null==d?void 0:d.name,partnerName:null==p?void 0:null===(a=p.get("course"))||void 0===a?void 0:null===(s=a.get("universities"))||void 0===s?void 0:s.getNamesString()}),style:{marginTop:"16px"}}),Vh()&&Object(ae.d)(VideoIsPlayingStateProvider,{videoPlayer:x},(function(e){var t=e.isPlaying;return Object(ae.d)(SendSignalsOnPlayTracker,{isPlaying:t,_eventData:Q,data:G,_withTrackingData:K})})))))))},VideoItemWithHighlighting}(se.Component);Pf.contextTypes={executeAction:pe.a.func.isRequired,_eventData:pe.a.object,_withTrackingData:pe.a.func,router:pe.a.object.isRequired};var Ef=function VideoItemWithHighlightingWithItemPageContext(e){var t,n="CourseraCoach"===Object(Qh.a)();return Ee.a.get("showLearningAssistant"),Object(ae.d)(ve.a,{container:!0,item:!0,xs:12},Object(ae.d)(zh.b.Consumer,null,(function(t){var n=t.hasModalOpen,i=t.setHasModalOpen;return Object(ae.d)(Pf,K()({},e,{hasModalOpen:n,setHasModalOpen:i}))})),n&&Object(ae.d)(se.Suspense,{fallback:null},Object(ae.d)(ve.a,{item:!0},Object(ae.d)(Cf,{courseId:e.course.id,itemId:e.computedItem.id,humanReadableItemType:Ce.HumanReadableItemType.VIDEO}))))},xf=Object(W.b)(Object(he.a)(["ApplicationStore","SessionStore"],(function(e,t){var n=e.ApplicationStore,i=e.SessionStore,r=t.course;return{courseBranchId:i.getBranchId()||r.id,mobilePromoEligible:n.getMobilePromoEligibility()}})),Object(Gh.a)(["CourseStore"],(function(e){var t;return{firstVideoItem:e.CourseStore.getFirstVideoItemPerModule()}})))(Ef),Of=t("wig9"),Af=t.n(Of),jf=t("jGbM"),_f=t("noZS"),Mf=t.n(_f),Nf=t("xkGU"),If=t.n(Nf),Lf=t("K7Vu"),videoData=function(e){var t=e.itemId,n=e.courseId,i=e.courseSlug,r,o={includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags)"]};return new Lf.a({itemId:t,courseId:n,courseSlug:i}).getWithCourseItemId(ho.d.lectureVideosApi,o).then((function(e){return e.linked["onDemandVideos.v1"][0]}))},Rf=t("/hg5");function getSubtitleLabel(e,t){var n=Object(Rf.b)(e),i=Object(Rf.a)(e);return t?"".concat(n," (").concat(i,")"):n}function constructLanguageMap(e,t){var n={};return Object.keys(e).forEach((function(i){var r;if("__typename"===i)return;var o,a=null!==(r=((null==t?void 0:t[i])||[]).some((function(e){return"machineTranslation"===e.name&&e.value})))&&void 0!==r&&r;n[i]={label:getSubtitleLabel(i,a),url:e[i]}})),n}var Df={mp4VideoUrl:"video/mp4",webMVideoUrl:"video/webm"},video=function(e){var t=e.metadata,n=t.get("id"),i=t.get("course.id"),r=t.get("course.slug");return videoData({itemId:n,courseId:i,courseSlug:r}).then((function(e){var n=Mf()(e.sources.byResolution,(function(e){var t={};return If()(Df,(function(n,i){i in e&&(t[n]=e[i])})),t}));return new fo({itemMetadata:t,videoId:e.id,sources:n,subtitles:constructLanguageMap(e.subtitles,e.subtitlesAssetTags),subtitlesVtt:constructLanguageMap(e.subtitlesVtt,e.subtitlesAssetTags),subtitlesTxt:constructLanguageMap(e.subtitlesTxt,e.subtitlesAssetTags),posters:Mf()(e.sources.byResolution,(function(e){return e.previewImageUrl}))})}))},Ff=t("/0hG"),Vf=t("KnSn"),Bf=t("doNK"),Hf=function apiUrl(e){var t;return{closedPeer:"peer",gradedPeer:"peer",phasedPeer:"peer",splitPeerReviewItem:"peer"}[e]||e},Uf=function buildBaseUrl(){return kp.a.join("user",me.a.get().id,"course",this.itemMetadata.get("course").get("slug"),"item",this.itemMetadata.getId(),Hf(this.itemMetadata.getTypeName()))},Wf=function ContentRequester(e){this.itemMetadata=e};Wf.prototype.request=function(e,t){var n=this.itemMetadata,r=Uf.call(this),o=new g.a(kp.a.join(r,e));/action/.test(e)&&o.addQueryParam("autoEnroll","false");var a={data:{contentRequestBody:t}};return i.a.allSettled([Object(Vf.b)(n.get("course").get("id")),Object(Bf.b)(n.get("course").get("slug")),Ff.a.post(o.toString(),a)]).spread((function(e,t,i){if("rejected"===i.state)throw i.reason;var r=t.value,o=e.value,a=i.value,s=n.getId(),l=r.getItemProgress(s);l&&a&&a.itemProgress&&l.set(a.itemProgress,{refreshCourseProgress:!0});var c=o.getItemGrade(s);return c&&a&&a.itemGradeRecord&&(c.set(a.itemGradeRecord),o.refresh()),a&&a.contentResponseBody}))};var zf=Wf,qf=function Requester(e,t){this._contentRequester=e,this._sessionId=t};qf.prototype.action=function(e,t){return this._contentRequester.request(kp.a.join("inVideoQuiz","session",this._sessionId,"action",e),{argument:t}).then(Ao.a.property("return"))};var Kf=qf,data_videoQuizData=function(e){var t=new zf(e.metadata);return t.request(kp.a.join("inVideoQuiz","session"),{}).then((function(e){var n=e.session.id,r=new Kf(t,n);return i.a.all([e.session.id,r.action("getQuestions",{})])})).spread((function(e,t){var n={sessionId:e};return Ao()(n).extend(t),n}))},Qf,Gf=function VideoQuiz(e){var t=e.sessionId,n=e.questions;this.sessionId=t,this.questions=n},videoQuizPromise=function(e){var t=e.metadata.getDefinition("hasInVideoAssessment"),n=e.authenticated;if(!t||!n)return i.a.fcall(Ao.a.constant(null));return data_videoQuizData(e).then((function(e){return new Gf(e)})).catch((function(e){return i.a.fcall(Ao.a.constant(null))}))},Yf=t("3S+W"),Xf=t("FcnH"),Jf=["EXPLICIT","UPSELL","PRE_ENROLLED","ENROLLED"],Zf,$f,eg={modeKeys:Jf,modes:Object(Xf.a)(Jf)},tg=t("xiyk"),ng,ig=function enrollmentModePromise(e,t){return Object(Yf.a)(e,t).then((function(n){return n.hasEnrolledRole()?i()(eg.modes.ENROLLED):n.hasPreEnrolled()?i()(eg.modes.PRE_ENROLLED):Object(tg.a)(t,e).then((function(e){return e.isEmpty()?eg.modes.EXPLICIT:eg.modes.UPSELL}))}))},rg=t("S4ke"),og=t("lrrv"),ag=t("G2Rf"),sg=t("6f99"),lg=t("/1xI"),cg=t("cKta"),ug=function getIsProductAndLearnerEligibleForPrerollVideoAds(e){var t=e.isNotInFinAidAndLiteTest,n=e.isNotSiteWideSubscriber,i=e.isAuditableContent,r=e.isStandaloneCourse,o,a;return[t,n,i||r,e.isUnpaidLearner].every((function(e){return!!e}))},dg,pg=Object(W.b)(ag.a,Object(og.a)(),Object(W.p)((function(e){var t,n=e.course,i=e.ownsCourseraLite,r=e.ownsCourseraPlus,o=e.ownsCourse,a=Object(cg.c)()&&Object(rg.r)(),s=!i&&!r,l=(null==n?void 0:n.premiumExperienceVariant)===lg.d.premiumGrading,c=0===(null==n?void 0:null===(t=n.s12nIds)||void 0===t?void 0:t.length),u;return{shouldShowPrerollVideoAds:ug({isNotInFinAidAndLiteTest:a,isNotSiteWideSubscriber:s,isAuditableContent:l,isStandaloneCourse:c,isUnpaidLearner:!o})&&Object(sg.a)(n.partnerIds)}}))),hg,mg=Object(Rp.a)(hg||(hg=ie()(['\n  query GetItemSummaryByItemId($input: GetItemSummaryByItemIdVariables!) {\n    GetItemSummary(input: $input)\n      @rest(\n        type: "GetItemSummary"\n        path: "grpc/lexexperiments/itemsummary/v1beta1/ItemSummaryAPI/GetItemSummary"\n        method: "POST"\n      ) {\n      itemSummary @type(name: "ItemSummary") {\n        itemId\n        summary\n        title\n      }\n    }\n  }\n']))),fg,gg=function ItemSummaryProvider(e){var t=e.itemId,n=e.courseId,i=e.userId,r=e.children;if(!Object(We.d)())return r({loading:!1});return(se.createElement(Lp.c,{query:mg,variables:{input:{itemId:t,courseId:n,userId:i}}},(function(e){var t,n,i=e.loading,o=e.error,a=e.data,s=null==a?void 0:null===(t=a.GetItemSummary)||void 0===t?void 0:null===(n=t.itemSummary)||void 0===n?void 0:n.summary;return r({loading:i,error:o,itemSummaryHtml:s})})))},vg=t("TdzE"),yg=t("PStO"),bg=t("aZBY"),Cg,Sg=function withVideoItemData(){return function(e){var t=e.displayName||e.name,n=function(t){function HOC(e){var n;return(n=t.call(this,e)||this).state={videoQuizModel:null,enrollmentMode:null,videoContent:null},n}yt()(HOC,t);var n=HOC.prototype;return n.componentDidMount=function componentDidMount(){var e=this,t=this.props,n=t.courseId,r=t.itemMetadata,o=Af()([video({metadata:r}),ig(me.a.get().id,n),videoQuizPromise({metadata:r,authenticated:!0})]);i.a.all(o).spread((function(t,n,i){e.setState({videoContent:t,enrollmentMode:n,videoQuizModel:i||null})})).done()},n.render=function render(){var t=this,n=this.props.router.location,i=this.state,r=i.videoQuizModel,o=i.videoContent,a=i.enrollmentMode;if(!o)return null;var s=n&&n.query.t?parseInt(n.query.t,10):void 0,l=!(!n||!n.query.t)||po.get("autoplay");return se.createElement(gg,{itemId:String(this.props.itemMetadata.id),courseId:this.props.courseId,userId:me.a.get().id},(function(n){var i=n.itemSummaryHtml,c=n.loading;return(se.createElement(e,K()({},t.props,{autoplay:l||!1,enrollmentMode:a,videoQuizModel:r,videoContent:o,startPlaybackSeconds:s,itemSummaryHtml:i,isLoadingSummary:c})))}))},HOC}(se.Component);return n.displayName="withVideoItemData(".concat(t,")"),Object(jf.a)(n,e),Object(W.b)(Object(_n.a)((function(e){return{router:e}})),Object(vg.b)(),Object(Gh.a)(["ProgressStore","VerificationStore","CourseScheduleStore","SessionStore","CourseStore"],(function(e,t){var n=e.ProgressStore,i=e.VerificationStore,r=e.CourseScheduleStore,o=e.SessionStore,a=e.CourseStore,s,l=t.itemMetadata.get("lesson.module.id"),c=r.getSchedule();return{courseId:a.getCourseId(),isSubtitleTranslationEnabled:a.isSubtitleTranslationEnabledForCourse(),courseProgress:n.courseProgress,verificationDisplay:i.getVerificationDisplay(),weekNumber:c.getWeekForModuleId(l),isPreviewMode:o.isPreviewMode()}})),yg.a.createContainer((function(e){var t=e.courseId;return{course:bg.a.get(t,{fields:["isClosedCourse","s12nIds"],params:{showHidden:!0}})}})),pg)(n)}},kg=Object(W.b)(Sg(),z.a.createTrackedContainer((function(){return{namespace:["open_course_home.video_item"]}})))(xf),wg=Object(W.b)(Sg(),z.a.createTrackedContainer((function(){return{namespace:"focused_lex_open_course_home.video_item"}})))(ym);kg.displayName="ComposedVideoItemWithHighlighting",wg.displayName="ComposedVideoItemWithHighlightingFocusedLex",t.d(e,"isContextMenuEnabled",(function(){return H})),t.d(e,"VideoItemContainer",(function(){return kg})),t.d(e,"VideoItemContainerFocusedLex",(function(){return wg})),t.d(e,"MIN_WIDTH_FOR_TABBED_NOTES_DRAWER",(function(){return 730})),t.d(e,"isWebAppJourneyVariantEnabled",(function(){return Uh}))},jo6Y:function(module,exports,e){"use strict";exports.__esModule=!0,exports.default=function(e,t){var n={};for(var i in e){if(t.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,i))continue;n[i]=e[i]}return n}},jzkQ:function(module,e,t){"use strict";var n=t("Puqe"),i=t.n(n),r=t("wig9"),o=t.n(r),a=t("3WF5"),s=t.n(a),l=t("k4Da"),c=t.n(l),u=t("xweI"),d=t.n(u),p=t("S+eF"),h=t.n(p),m=t("PTN7"),f=t("DnuM"),g,v=function Cue(e,t,n,i,r){this.id=e,this.index=t,this.startTime=i,this.endTime=r,this.text=n.replace("<br/>"," ").replace("\n"," ").replace(/^\.$/,"").replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))},y=t("HLRV"),b=t("RrrT"),C=t("eMqL");function ParserError(e,t){this.message=e,this.error=t}ParserError.prototype=Object.create(Error.prototype);var S=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{3})/;function parse(e){if("string"!=typeof e)throw new ParserError("Input must be a string");var t=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),n=t.shift();if(!n.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');var i=n.split("\n"),r;if(0===t.length&&1===i.length)return{valid:!0};if(i.length>1&&""!==i[1])throw new ParserError("No blank line after signature");return{valid:!0,cues:webvttParser_parseCues(t)}}function webvttParser_parseCues(e){return e.map(parseCue)}function parseCue(e,t){var n="",i=0,r=0,o="",a="",s=e.split("\n").filter(Boolean),l;if(1===s.length&&!s[0].includes("--\x3e"))throw new ParserError("Cue identifier cannot be standalone (cue #".concat(t,")"));if(s.length>1&&!s[0].includes("--\x3e")&&!s[1].includes("--\x3e"))throw new ParserError("Cue identifier needs to be followed by timestamp (cue #".concat(t,")"));if(s.length>1&&s[1].includes("--\x3e")&&(n=s.shift()),s.length>0&&s[0].includes("--\x3e")){var c=s[0].split(" --\x3e ");if(2!==c.length||!validTimestamp(c[0])||!validTimestamp(c[1]))throw new ParserError("Invalid cue timestamp (cue #".concat(t,")"));if((i=parseTimestamp(c[0]))>(r=parseTimestamp(c[1])))throw new ParserError("Start timestamp greater than end (cue #".concat(t,")"));if(r<i)throw new ParserError("End must be greater or equal than start (cue #".concat(t,")"));a=c[1].replace(S,"").trim(),s.shift()}return{identifier:n,start:i,end:r,text:o=s.join("\n"),styles:a}}function validTimestamp(e){return S.test(e)}function parseTimestamp(e){var t=e.match(S),n=parseFloat(t[3]);return n+=60*parseFloat(t[2]),n+=60*parseFloat(t[1]||0)*60}var k=ParserError,w=parse,T=t("erQL");t.d(e,"c",(function(){return E})),t.d(e,"a",(function(){return x})),t.d(e,"b",(function(){return O}));var P=function parseCues(e){if(T.a)return parse(e).cues;var t=[],n=new WebVTT.Parser(window,window.vttjs,new WebVTT.StringDecoder);return n.oncue=function(e){return t.push(e)},n.onparsingerror=function(e){throw new Error("Error parsing track: "+e)},n.parse(e),n.flush(),t},E=function loadTrack(e){if(e.isLoaded)return h()(e);var t=function constructCues(t){var n=e;n.sourceContent=t,n.isLoaded=!0;var i=P(n.sourceContent);return n.cues=d()(c()(s()(o()(i),(function(e,t){if(T.a)return new v(e.identifier,t,e.text,e.start,e.end);return new v(e.id,t,e.text,e.startTime,e.endTime)})),(function(e){return!!e.text.trim()})),"index"),n},n=Object(f.a)("",{type:"rest"});return h()(n.get(e.url)).then(t).catch((function(e,t,n){throw new Error("Error loading track. Error: ".concat(n,"; status: ").concat(t,"; response text: ").concat(JSON.stringify(e)))}))},x=function buildTracks(e){var t=[],n=i()(e,"__typename");return Object.keys(n).forEach((function(n){var i=e[n];t.push(new y.a(n,i.label,i.url))})),new b.a(t)},O=function getDefaultTrack(e,t){return!T.a&&e.getFromLanguageCode(C.a.get("language-code"))||e.getFromLanguageCode(t)||e.getFromLanguageCode("en")||e.toArray()[0]}},"k6X/":function(module,exports,e){var t=e("o0WZ"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},kD7S:function(module,exports,e){e("I/Al")},kUGv:function(module,exports,e){var t=e("7whZ").document;module.exports=t&&t.documentElement},kcqV:function(module,exports,e){var t=e("bKEA"),n=e("TSC6").f;e("czaS")("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(e,i){return n(t(e),i)}}))},"kj/T":function(module,exports,e){var t=e("nzgR"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},kvAF:function(module,exports,e){var t=e("GhSp").f,n=e("nA4W"),i=e("zBWt")("toStringTag");module.exports=function(e,r,o){e&&!n(e=o?e:e.prototype,i)&&t(e,i,{configurable:!0,value:r})}},l0Kd:function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},lhOz:function(module,exports,e){},"m/0+":function(module,exports,e){},m1cH:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("rfXi"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,n.default)(e)}},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return h})),t.d(e,"f",(function(){return m})),t.d(e,"b",(function(){return f})),t.d(e,"c",(function(){return g})),t.d(e,"a",(function(){return v})),t.d(e,"d",(function(){return y}));var n=t("fsL8"),i=t.n(n),r=t("yXPU"),o=t.n(r),a=t("fw5G"),s=t.n(a),l=t("DnuM"),c=t("sQ/U"),u=t("p6CZ"),d=Object(l.a)("/api/userNotes.v1",{type:"rest"}),p=function(){var e=o()(i()().mark((function _callee(e,t,n,r,o){var a,c,p,h,m;return i()().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return a=(new s.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",r).addQueryParam("timestamp",n),i.next=3,d.post(a.toString());case 3:return c=i.sent,p=c.split("?")[0],h=Object(u.c)(o),m=Object(l.a)(c,{type:"rest"}),i.next=9,m.put("",{contentType:"image/png",data:h,processData:!1});case 9:return i.abrupt("return",p);case 10:case"end":return i.stop()}}),_callee)})));return function uploadSnapshot(t,n,i,r,o){return e.apply(this,arguments)}}(),h=function reshapeHighlightForClient(e){var t=e.id,n=e.createdAt,i=e.updatedAt,r=e.userText,o=e.shouldFocusOn,a=e.details.definition,s=a.noteEndTs,l=a.noteStartTs,c=a.captureTs,u=a.snapshotUrl,d=a.transcriptTextStartIndex,p=a.transcriptTextEndIndex,h=a.transcriptText,m,f,g;return{id:t,itemId:a.itemId,itemName:a.itemName,clientId:t,createdAt:n,updatedAt:i,languageCode:a.languageCode,noteText:r,noteEndTs:s&&s/1e3,noteStartTs:l&&l/1e3,captureTs:c&&c/1e3,snapshotUrl:u,transcriptTextStartIndex:d,transcriptTextEndIndex:p,transcriptText:h,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:o}},m=function updateHighlight(e){var t=e.itemId,n=e.courseId,i=e.languageCode,r=e.id,o=e.highlight,a=new s.a(r),l=Object(u.d)({itemId:t,courseId:n,highlight:o,languageCode:i});return d.put(a.toString(),{data:l})},f=function(){var e=o()(i()().mark((function _callee2(e){var t,n,r,o,a,s,l,h,m,f,g;return i()().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(o=e.itemId,a=e.courseId,s=e.languageCode,l=e.highlight,h=Object(u.d)({itemId:o,courseId:a,highlight:l,languageCode:s}),m=c.a.get().id,!l.snapshotDataUrl){i.next=8;break}return i.next=6,p(a,o,h.details.definition.noteStartTs,m,l.snapshotDataUrl);case 6:f=i.sent,h.details.definition.snapshotUrl=f;case 8:return i.next=10,d.post("",{data:h});case 10:return g=i.sent,i.abrupt("return",{id:g.elements[0].id,snapshotUrl:(null===(t=g.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(r=n.definition)||void 0===r?void 0:r.snapshotUrl)||""});case 12:case"end":return i.stop()}}),_callee2)})));return function createHighlight(t){return e.apply(this,arguments)}}(),g=function deleteHighlight(e){var t=e.id,n=new s.a(t);return d.delete(n.toString())},v=function compareHighlightsByStartTimestamp(e,t){if(e.noteStartTs<t.noteStartTs)return-1;if(e.noteStartTs>t.noteStartTs)return 1;return 0},y=function(){var e=o()(i()().mark((function _callee3(e){var t,n,r,o,a;return i()().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.itemId,n=e.courseId,r=e.languageCode,o=(new s.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",r).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(o.toString());case 4:return a=i.sent,i.abrupt("return",a.elements.map(h).sort(v));case 6:case"end":return i.stop()}}),_callee3)})));return function getHighlights(t){return e.apply(this,arguments)}}(),b=function(){var e=o()(i()().mark((function _callee4(e){var t,n,r,o;return i()().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return n=e.courseId,r=(new s.a).addQueryParam("courseId",n).addQueryParam("q","course").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(r.toString());case 4:return o=i.sent,i.abrupt("return",null==o?void 0:null===(t=o.elements)||void 0===t?void 0:t.map(h));case 6:case"end":return i.stop()}}),_callee4)})));return function getCourseHighlights(t){return e.apply(this,arguments)}}()},mHY4:function(module,exports,e){var t=e("A9a0"),n=e("l0Kd");module.exports=Object.keys||function keys(e){return t(e,n)}},mRg0:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("s3Ml")),i,r=_interopRequireDefault(e("AyUB")),o,a=_interopRequireDefault(e("EJiy"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},mdDt:function(module,exports,e){e("ZJ5c")},myGB:function(module,exports,e){e("C5kU"),e("CE4/"),module.exports=e("VSTI").Array.from},n7vu:function(module,exports,e){var t=e("TYje");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==t(e)?e.split(""):Object(e)}},nA4W:function(module,exports){var e={}.hasOwnProperty;module.exports=function(t,n){return e.call(t,n)}},nAx8:function(module,exports,e){var t=e("FgkJ");module.exports=function(e,n,i){if(t(e),void 0===n)return e;switch(i){case 1:return function(t){return e.call(n,t)};case 2:return function(t,i){return e.call(n,t,i)};case 3:return function(t,i,r){return e.call(n,t,i,r)}}return function(){return e.apply(n,arguments)}}},"nQ+W":function(module,exports){exports.default={"Close information about Coursera Coach":"Fermer les informations concernant le coach Coursera","Coursera Coach is an AI-powered assistant that helps you review, summarize, and retain what you're learning.":"Le coach Coursera est un assistant basé sur l’IA qui vous aide à réviser, résumer et retenir ce que vous apprenez.","Discuss":"Discuter","Discuss, Opens in a new tab":"Discuter, s'ouvre dans un nouvel onglet","Discuss, opens discussion forums in another browser window":"Discuter, ouvre les forums de discussion dans une autre fenêtre du navigateur","Download":"Télécharger","Download Asset":"Télécharger un actif","Download Subtitles":"Télécharger des sous-titres","Download Transcript":"Télécharger une transcription","Download Video":"Télécharger la vidéo","Download video resources dropdown menu: closed":"Menu déroulant des téléchargements des ressources vidéo : fermé","Download video resources dropdown menu: open":"Menu déroulant des téléchargements des ressources vidéo : ouvert","Downloads":"Téléchargements","Downloads Menu":"Menu téléchargements","Generated by":"Généré par","Have a question? Discuss this lecture in the week forums.":"Vous avez une question ? Discutez de cette vidéo de cours dans les forums de discussion hebdomadaires.","Help Us Translate":"Aidez-nous à traduire","Information about Coursera Coach":"Informations à propos du coach Coursera","Lecture Summary":"Résumé du cours","Lecture Video":"Vidéo de cours","Lecture Video (#{resolution})":"Vidéo de cours (#{resolution})","Link":"Lien","Mini video player":"Mini lecteur vidéo","New":"Nouveau","Note deleted":"Remarque supprimée","Note updated":"Remarque mise à jour","Notes":"Notes Personnelles","Open this file in your video player to display subtitles.\nWebVTT files are compatible with most video players.":"Ouvrez ce fichier dans votre lecteur vidéo pour afficher les sous-titres.\nLes fichiers WebVTT sont compatibles avec la plupart des lecteurs vidéo.","Pause":"Pause","Play":"Lecture","Related lecture content tabs":"Onglets de contenu des cours associés","Save note":"Enregistrer la note","Subtitles (#{subtitleLanguage})":"Sous-titres (#{subtitleLanguage})","Subtitles ({subtitleLanguage})":"Sous-titres ({subtitleLanguage})","Transcript":"Transcription","Transcript (#{subtitleLanguage})":"Transcription (#{subtitleLanguage})","Transcript ({subtitleLanguage})":"Transcription en ({subtitleLanguage})","WebVTT":"WebVTT","Would you like to {helpUsTranslate} the transcript and subtitles into additional languages?":"Souhaitez-vous {helpUsTranslate} la transcription et les sous-titres dans des langues supplémentaires ?","You can visit the Forums page to see all the different topics and discussions that are available. From there, you can post a question, start a new discussion, or join an existing conversation.":"Vous pouvez consulter la page Forums pour découvrir l’ensemble des sujets et discussions disponibles. Vous pouvez y poser une question, démarrer une nouvelle discussion ou rejoindre une conversation existante.","coach":"coach","help us translate":"Aidez-nous à traduire","lecture":"Vidéo de cours","txt":"txt"}},nRFE:function(module,exports,e){var t=e("/F7N"),n=Math.max,i=Math.min;module.exports=function(e,r){return(e=t(e))<0?n(e+r,0):i(e,r)}},nzgR:function(module,exports){exports.default={"#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note":"#{selectedText} : ajouté à la sélection. Appuyer sur [#{modifierKey} + S] pour enregistrer en tant que note","Already a GTC translator?":"Vous êtes déjà un traducteur ou une traductrice de la GTC ?","As many times as you need.":"autant de fois que vous en aurez besoin.","Basic Transcript - Enable interactive transcript mode by pressing the escape key":"Transcription de base : appuyez sur la touche Échap pour activer le mode de transcription interactive","CTRL":"CTRL","Coursera video subtitles are translated by passionate learners like yourself.":"Les sous-titres des vidéos de Coursera sont traduits par des étudiants passionnés comme vous.","Delete Note":"Supprimer la note","Help Us Translate":"Aidez-nous à traduire","Help us translate":"Aidez-nous à traduire","Help us translate!":"Aidez-nous à traduire !","How It Works":"Comment cela fonctionne","How it works":"Comment cela marche","How many times can I reset my deadlines?":"Combien de fois puis-je réinitialiser les dates limites ?","Interactive Transcript - Enable basic transcript mode by pressing the escape key":"Transcription interactive : appuyez sur la touche Échap pour activer le mode de transcription de base","Join the Global Translator Community (GTC) to help make the world’s best education accessible to anyone, anywhere.":"Rejoignez la Communauté internationale des traducteurs (GTC), pour nous aider à rendre le meilleur enseignement du monde accessible à tous et en tout lieu.","Language":"Langue","Note Deleted!":"Note supprimée !","Note Saved!":"Note enregistrée !","Note saved!":"Note enregistrée !","Play video starting at {hours}:{minutes}:{seconds} and follow transcript":"Lisez la vidéo à partir de {hours}:{minutes}:{seconds} et suivez la transcription","Press [#{modiferKey} + D] to Delete Note":"Appuyer sur [#{modiferKey} + D] pour supprimer la note","Press [#{modiferKey} + S] to Save Note":"Appuyer sur [#{modiferKey} + S] pour enregistrer la note","Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note":"Note enregistrée précédemment : #{highlightedText}. Appuyer sur [#{modifierKey} + D] pour supprimer la note","Resetting your deadlines unlocks all locked assignments and gives them new submission deadlines.":"La réinitialisation de vos dates limites déverrouille tous les devoirs verrouillés et leur donne de nouvelles dates limites de soumission.","Save Note":"Enregistrer la note","Select a language":"Choisissez une langue","Sign up for the Global Translator Community":"Inscrivez-vous à la Communauté internationale des traducteurs","View my language community":"Voir ma communauté linguistique","What does it do?":"Que fait-elle ?","When you missed 2 deadlines in a row or miss a deadline by 2 weeks, you will be given the option to reset your deadlines.":"Lorsque vous dépassez 2 dates limites d’affilée ou une date limite de 2 semaines, vous aurez la possibilité de réinitialiser vos dates limites.","Why am I seeing this?":"Pourquoi est-ce que je vois cela ?","Will my progress be saved?":"Mes progrès seront-ils sauvegardés ?","Yes. All assignment progress and video notes will be saved when you reset deadlines.":"Oui. Tous les progrès des devoirs et les remarques de vidéo seront sauvegardés lorsque vous réinitialiserez vos dates limites.","You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key":"Vous pouvez parcourir la transcription à l'aide de la touche de tabulation. Pour enregistrer une note associée à une section de texte, appuyez sur #{modifierKey} + S. Pour étendre votre sélection, vous pouvez utiliser #{modifierKey} + touche fléchée. Vous pouvez réduire votre sélection à l'aide de la combinaison Maj + #{modifierKey} + touche fléchée. Pour les lecteurs d'écran ne prenant pas en charge l'utilisation des touches fléchées pour les raccourcis, vous pouvez les remplacer par les touches H, J, K, L. Pour certains lecteurs d'écran, il peut être nécessaire d'utiliser #{modifierKey} avec la touche Alt","toggle video from #{cueText}":"activer/désactiver la vidéo à partir de #{cueText}","toggle video from current lecture segment: #{cueText}":"activer/désactiver la vidéo à partir du segment de la vidéo de cours actuel : #{cueText}"}},o0WZ:function(module,exports){exports.default={"#{numberOfMillions}M":"#{numberOfMillions} m","#{numberOfMillions}m":"#{numberOfMillions} m","#{numberOfThousands}K":"#{numberOfThousands} 000","#{numberOfThousands}k":"#{numberOfThousands} 000","All Content Types":"Tous les types de contenus","Analytics":"Analytique","Announcements":"Notifications","App Manager":"Gestionnaire d’applications","Assessment Grading":"Notation de l’évaluation","Assessments":"Évaluations","Asset Library":"Bibliothèque d'actifs","Assignment Grading":"Notation de devoir","Auto-generated descriptions will take a minute to appear.":"Les descriptions générées automatiquement apparaîtront en une minute.","Availability":"Disponibilité","Cancel":"Annuler","Certificate":"Certificat","Certificate Settings":"Paramètres de certificat","Changes made here will affect these places":"Les modifications effectuées ici affecteront ces emplacements","Changes made here will also affect <span class=\"mock-link\"> {numGroups, plural, =1 {# private group} other {# private groups}} </span> that {numGroups, plural, =1 {is} other {are}} using this session.":"Les modifications effectuées ici affecteront également <span class=\"mock-link\"> {numGroups, plural, =1 {# groupe privé} other {# groupes privés}} </span> qui {numGroups, plural, =1 {utilise} other {utilisent}} cette session.","Changes made here will also affect <span class=\"mock-link\"> {numInstances, plural, =1 {# private instances} other {# private instances}} </span> that {numInstances, plural, =1 {is} other {are}} using this version.":"Les modifications effectuées ici affecteront également <span class=\"mock-link\"> {numInstances, plural, =1 {# instance personnelle} other {# instances personnelles}} </span> {numInstances, plural, =1 {associée} other {associées}} à cette version.","Choose Partner Modal":"Choisir modal de partenaire","Close":"Fermer","Content":"Contenu","Content Analytics":"Analyse de contenu","Content Schedule":"Planning du contenu","Content here will be accessible in all versions of this {course}.":"Le contenu placé ici est accessible dans toutes les versions de ce {course}.","Continue":"Continuer","Course Details":"Informations sur le cours","Course Material":"Contenu du cours","Course Staff":"Personnel du cours","Course does not appear in the public Coursera catalog":"Le cours ne figure pas dans le catalogue Coursera public.","Custom Labels":"Étiquettes personnalisées","Discussion Forums":"Forums de discussion","Draft":"Version préliminaire","Edit Content":"Modifier le contenu","Educator Resource Center":"Centre de Ressources pour les Enseignants","Experiments":"Expériences","Expert Editor":"Éditeur expert","Exports":"Exports","General":"Général","Gradebook Manager":"Gestionnaire de carnet de notes","Graded assessments":"Évaluations notées","Grader Overview":"Vue d’ensemble pour les évaluateurs","Grading":"Notation","Grading Formula":"Formule de notation","Group Settings":"Paramètres du groupe","Group Staff":"Personnel du groupe","Groups":"Groupes","Home":"Page d'accueil","Integrations":"Intégrations","Invitations":"Invitations","Item Feedback":"Commentaires de l'élément","Item Grades":"Notes de l'élément","Lab Analytics":"Analyse de labo","Landing Page":"Page de renvoi","Launched":"Lancé","Learners":"Étudiants","Learning Objectives":"Objectifs d'apprentissage","Live Events":"Événements en direct","Loading...":"Chargement en cours...","Lower-case letters, numbers, and dashes only.":"Lettres minuscules, nombres et tirets uniquement.","MIN ACCURACY LEVEL (%)":"NIVEAU DE PRÉCISION MINIMUM (%)","Manage Teamwork":"Gérer le travail en équipe","Marketing Assets":"Actifs de marketing","Mentors":"Mentors","New Scheduled Message":"Nouveau message planifié","Next":"Suivant","No":"Non","Oops! Someone else is editing these settings at the same time. Refresh this page and try again.":"Oups ! Une autre personne modifie actuellement ces paramètres. Actualisez la page et réessayez.","Overview":"Vue d'ensemble","Part of: <strong> {degreeName} </strong>":"Partie de : <strong>{degreeName}</strong>","Please contact us at the {link}.":"Veuillez nous contacter à {link}.","Please create your first instance from the <a href=\"{overviewLink}\">Overview</a> page in order to use this functionality.":"Veuillez créer votre première instance depuis la page <a href=\"{overviewLink}\">Vue d'ensemble</a> afin d'utiliser cette fonctionnalité.","Please input a number from 0 to 100":"Veuillez saisir un nombre compris entre 0 et 100","Please select an institution to continue.":"Veuillez sélectionner un établissement pour continuer.","Plugin Manager":"Gestionnaire de plug-ins","Prices":"Prix","Private":"Privée","Private groups using this session":"Groupes privés utilisant cette session","Private instances attached to this version":"Instances personnelles associées à cette version","Programmed Messages":"Messages programmés","Progress Funnel":"Schéma de progression","Publish":"Publier","Question Banks":"Banques de questions","Ratings":"Évaluations","Reach":"Portée","Readings":"Lectures","Resources":"Ressources","Rosters":"Listes","Save":"Sauvegarder","Save & Publish":"Sauvegarder et publier","Saved":"Sauvegardé","Saving...":"Sauvegarde en cours...","Scheduled Message":"Message planifié","Scheduled Message Preview":"Aperçu du message planifié","Select institution":"Sélectionner l'établissement","Session Settings":"Paramètres de session","Session Staff":"Personnel de la session","Sessions":"Sessions","Set a min accuracy level for auto-generated descriptions":"Définir un niveau de précision minimum pour les descriptions générées automatiquement","Settings":"Paramètres","Sorry we were unable to process the export as you have sent too many requests. Please wait between requests.":"Nous sommes désolés, nous ne pouvons pas effectuer l’export, car vous avez soumis trop de demandes. Veuillez patienter entre vos demandes.","Sorry we were unable to process the export. Please try again later or contact #{email}":"Nous sommes désolés, nous ne pouvons pas effectuer l’export. Veuillez réessayer plus tard ou contacter #{email}","Sorry, this URL is already in use.":"Désolé, cette URL est déjà utilisée.","Sorry, you cannot use #{feature} yet":"Nous sommes désolés, vous ne pouvez pas utiliser #{feature} pour le moment","Stories":"Témoignages","Student Success":"Réussite des étudiants","Summary":"Résumé","Superuser":"Superutilisateur","Switch to classic experience":"Basculer vers l’expérience classique","Teams":"Équipes","There is no session attached to this course version. Go to the Course Overview page to create a new session.":"Il n'y a pas de session associée à cette version du cours. Aller à la page Vue d'ensemble du cours pour créer une nouvelle session.","There was an error uploading. Please refresh the page and try again or reach out to Coursera support.":"Une erreur s'est produite lors du chargement. Veuillez actualiser la page et réessayer ou contactez l'Assistance technique de Coursera.","This is an active <strong>E2E test course</strong>, any data mutations you make may cause test failures. <br/> Proceed with caution!":"Il s'agit d'un <strong>cours de test E2E</strong> actif, les mutations de données que vous effectuez peuvent entraîner des échecs de test. <br/> Faites preuve de prudence !","This page can only be viewed by authorized accounts. If you should have access to this page, please contact us at the {link} via webform or chat.":"Cette page peut être affichée uniquement par des comptes autorisés. Si vous avez besoin d’accéder à cette page, veuillez nous contacter à {link}, via le formulaire web ou le chat.","To view or make changes, go to <span class=\"mock-link\"> {versionName} </span> which is attached to this session.":"Pour visualiser ou effectuer des modifications, rendez-vous sur la version <span class=\"mock-link\"> {versionName} </span> associée à cette session.","Today":"Aujourd'hui","URL cannot be longer than #{numCharacters} characters.":"L'URL ne doit pas dépasser #{numCharacters} caractères.","Version Settings":"Paramètres de version","Videos":"Vidéos","View course prompt":"Voir la demande de cours","Yes":"Oui","this feature":"cette fonctionnalité","week ago":"semaine auparavant","weeks ago":"semaines auparavant","{capitalizedCourse} Settings":"Paramètres de {capitalizedCourse}","{capitalizedCourse} Staff":"Personnel {capitalizedCourse}"}},ostm:function(module,exports,e){},oynu:function(module,exports,e){},"p/xp":function(module,exports,e){},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),i=t("F9YM"),createSnapshot=function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),i=t.getContext("2d");return i&&n&&i.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")};t.d(e,"c",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"a",(function(){return a})),t.d(e,"d",(function(){return s}));var r=function getBlobFromDataURI(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0;o<t.length;o+=1)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})},o=function generateHighlightFromTranscriptSelection(e,t){var i=e.transcriptTextStartIndex,r=e.transcriptTextEndIndex,o=t.cues.filter((function(e){return e.index>=i.cueIndex&&e.index<=r.cueIndex})),a=o.reduce((function(e,t){var n=t.index,o=t.text,a=i.cueIndex,s=i.textIndex,l=r.cueIndex,c=r.textIndex;if(n===a){if(n===l)return"".concat(e).concat(o.substring(s,c+1));return"".concat(e).concat(o.substring(s))}if(n===l)return"".concat(e," ").concat(o.substring(0,c+1));return"".concat(e," ").concat(o)}),""),s=Object(n.a)(),l=s,c=o[0],u,d=o[o.length-1].endTime,p,h,m="",f=!0,g=!1,v;return{id:s,clientId:l,captureTs:c.startTime,noteStartTs:c.startTime,noteEndTs:d,transcriptText:a,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:i,transcriptTextEndIndex:r,pendingCreate:!0,pendingUpdate:!1}},a=function generateHighlightFromCaptureButton(e,t){var r=Object(n.a)(),o=r,a="",s=e.languageCode,l=t.currentTime(),c=Object(i.d)(e.cues,l,s),u=c[0],d=c[c.length-1],p=c.reduce((function(e,t){if(t.index===u.index)return"".concat(e).concat(t.text);return"".concat(e," ").concat(t.text)}),""),h={textIndex:0,cueIndex:u.index},m={textIndex:d.text.length-1,cueIndex:d.index},f=d.endTime,g,v=!0,y=!1,b;return{id:r,clientId:o,captureTs:l,noteStartTs:u.startTime,noteEndTs:f,transcriptText:p,noteText:"",languageCode:s,transcriptTextStartIndex:h,transcriptTextEndIndex:m,snapshotDataUrl:createSnapshot(t),pendingCreate:!0,pendingUpdate:!1}},s=function getDraftFromHighlight(e){var t=e.itemId,n=e.courseId,i=e.highlight,r=e.languageCode,o=i.noteStartTs,a=i.noteEndTs,s=i.captureTs,l=i.snapshotUrl,c=i.transcriptText,u=i.noteText,d=i.transcriptTextEndIndex,p;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:l||"",transcriptTextStartIndex:i.transcriptTextStartIndex,transcriptTextEndIndex:d,languageCode:r,transcriptText:c,noteEndTs:a&&1e3*a,captureTs:s&&1e3*s,noteStartTs:o&&1e3*o}},userNote:u}}},qenF:function(module,e,t){"use strict";t.d(e,"d",(function(){return a})),t.d(e,"c",(function(){return s})),t.d(e,"e",(function(){return l})),t.d(e,"f",(function(){return c})),t.d(e,"a",(function(){return u})),t.d(e,"b",(function(){return d}));var n=t("VTx5"),i=t("DeKs"),r=t("+rcu"),o=function isCDSAdoptionQ2ABTestEnabled(){return!0},a=function isHelpIconEnabled(){return i.a.get("lowerRightHelpWidgetEnabled")},s=function isFullstoryOnCourseHomeForPartnersEnabled(){return n.a.get("enableFullstoryOnCourseHomeForPartners")},l=function isLearningHoursSignalsEnabled(){return i.a.get("learningHoursSignalsEnabled")},c=function persistentFullScreenVideo(){return i.a.get("persistentFullScreenVideo")},u=function isCourseNavigationV2Enabled(){return i.a.get("courseNavigationV2")},d=function isFlashcardsEnabledForUserAndCourse(e){return r.a.get("showFlashcards",{course_id:e})}},rO66:function(module,exports){exports.default={"Add to Google Calendar":"Ajoutez à Google Agenda","Cancel":"Annuler","Continue":"Continuer","Continuing...":"Continuation en cours...","Edit":"Éditer","Edit your weekly goal":"Modifiez votre objectif hebdomadaire","Learners who set a goal are 75% more likely to complete the course. You can always change it.":"Les étudiants qui définissent un objectif ont 75 % de plus de chance de terminer le cours. Vous pouvez le modifier à tout moment.","Not now":"Pas maintenant","Other calendar":"Autre calendrier","Poll":"Sondage","Question":"Questionner","Recommended":"Recommandé","Retry":"Réessayer","Save":"Sauvegarder","Saving...":"Sauvegarde en cours...","Set a weekly goal":"Définir un objectif hebdomadaire","Set goal":"Définir l'objectif","Set your schedule":"Définissez votre planning","Setting goal...":"Définition de l'objectif…","Skip":"Sauter","Submit":"Envoyer","Submitting...":"Soumission en cours...","You're more likely to reach your goal if you dedicate some time in your schedule for learning. Choose the days that work for you:":"Il est plus probable que vous atteigniez votre objectif si vous réservez du temps pour l'apprentissage dans votre planning. Choisissez les jours qui vous conviennent :","Your goal is set!":"Votre objectif est défini !","Your goal will be tracked Monday - Sunday":"Votre objectif sera suivi du lundi au dimanche.","to":"pour"}},rfXi:function(module,exports,e){module.exports={default:e("myGB"),__esModule:!0}},rxKS:function(module,exports,e){},s1EA:function(module,exports,e){e("FAkQ")},s2er:function(module,exports,e){var t=e("VSTI"),n=e("7whZ"),i="__core-js_shared__",r=n[i]||(n[i]={});(module.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:t.version,mode:e("5ETA")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},s3Ml:function(module,exports,e){module.exports={default:e("QRdY"),__esModule:!0}},t9gw:function(module,e,t){"use strict";var n=t("PTN7"),i=t.n(n),r=t("yiR1"),o=t.n(r),a=5e3,s=function Heartbeat(e,t,n){var i=function startHeartbeat(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(n,parseInt(t,10))};e.on("playing",i.bind(this)),e.on("pause",function(){window.clearInterval(this.interval)}.bind(this)),e.on("dispose",function(){window.clearInterval(this.interval)}.bind(this))};i.a.registerPlugin("setupHeartbeatListener",(function(){var e=this,t=[];e.emitter||(e.emitter=o.a.emitter()),e.emitter.on("emitter.listener",(function(n,i){var r,o;if(o=(r=/^heartbeat(:(\d+))?$/).exec(n)){var a=o[2]||5e3;t.push(new s(e,a,i))}}))}))},tfYw:function(module,exports,e){"use strict";exports.__esModule=!0;var t,n=_interopRequireDefault(e("Yz+Y")),i,r=_interopRequireDefault(e("JO7F"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=function get(e,t,i){null===e&&(e=Function.prototype);var o=(0,r.default)(e,t);if(void 0===o){var a=(0,n.default)(e);return null===a?void 0:get(a,t,i)}if("value"in o)return o.value;var s=o.get;if(void 0===s)return;return s.call(i)}},tkM2:function(module,exports,e){var t=e("arBt"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},u5HK:function(module,exports,e){var t=e("YH9Q"),n=t.default?t.default:{},i,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"fr"},module.exports=r},uKqt:function(module,e,t){"use strict";t.d(e,"d",(function(){return r})),t.d(e,"i",(function(){return a})),t.d(e,"e",(function(){return s})),t.d(e,"c",(function(){return l})),t.d(e,"f",(function(){return c})),t.d(e,"j",(function(){return u})),t.d(e,"a",(function(){return d})),t.d(e,"g",(function(){return p})),t.d(e,"b",(function(){return h})),t.d(e,"h",(function(){return m}));var n=t("cVIm"),i="course!~849302a4848dsawb3",r="823425307723964",o="".concat(n.a.url.resource_assets,"sharing/link-icon.png"),a="tw",s="fb",l="email",c="ln",u="wa",d="link",p="mobile",h="api/customUrls.v1",m="action=share"},uZsc:function(module,exports,e){e("L+Pa")},ubXW:function(module,exports,e){e("GGkS")},uccp:function(module,exports,e){e("5Qd4"),module.exports=e("VSTI").Object.assign},ugGH:function(module,exports,e){module.exports=e("BRsN")},uoOA:function(module,exports,e){},vNbC:function(module,exports,e){e("du/1");var t=e("VSTI").Object;module.exports=function create(e,n){return t.create(e,n)}},wYM1:function(module,exports,e){var t=e("USwo");t(t.S+t.F*!e("C61u"),"Object",{defineProperty:e("GhSp").f})},wi9P:function(module,exports,e){e("lhOz")},xMGN:function(module,exports,e){var t=e("d+lc");module.exports=function(e,n,i,r){try{return r?n(t(i)[0],i[1]):n(i)}catch(n){var o=e.return;throw void 0!==o&&t(o.call(e)),n}}},xeAZ:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoach_ChatMessagesPaginatedResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByChatSessionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatSessionId"},value:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalElements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFeedback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userComments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"courseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:714}};e.loc.source={body:"query AiCoach_ChatMessagesPaginatedResult($chatSessionId: ID!, $limit: Int!) {\n  AiCoach {\n    queryByChatSessionId(chatSessionId: $chatSessionId, limit: $limit) {\n      pagination {\n        totalElements\n        cursor\n      }\n      elements {\n        userFeedback\n        userComments\n        senderType\n        message\n        itemId\n        createdAt\n        courseId\n        id\n        clipRecommendations {\n          course {\n            id\n            slug\n            name\n          }\n          partners {\n           abbreviatedName\n           name\n           logo\n          }\n          duration\n          itemId\n          itemSlug\n          itemTitle \n          previewImage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}var n={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function oneQuery(e,t){var i={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,o=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){var t;o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var t=new Set;collectFragmentReferences(e,t),n[e.name.value]=t}}))}(),module.exports=e,module.exports.AiCoach_ChatMessagesPaginatedResult=oneQuery(e,"AiCoach_ChatMessagesPaginatedResult")},xfML:function(module,exports,e){var t=e("USwo");t(t.S,"Object",{setPrototypeOf:e("DrT7").set})},xmJK:function(module,exports){exports.default={"#{avgRatingRounded} (#{ratingCountInLocale} ratings)":"#{avgRatingRounded} (#{ratingCountInLocale} évaluations)","#{formattedEnrollmentCount} Students Enrolled":"#{formattedEnrollmentCount} étudiants inscrits","#{numVideoAllowance} trial videos available.":"#{numVideoAllowance} vidéos d'essai disponibles.","100% online courses from top educators":"100 % des cours en ligne dispensés par les meilleurs formateurs","Back":"Retour","Check out this video from #{partnerName}: #{courseName} on @Coursera.":"Regardez cette vidéo de #{partnerName}: #{courseName} sur @Coursera.","Create an account to watch unlimited course videos.":"Créer un compte pour regarder un nombre illimité de vidéos de cours.","Didn't find what you're looking for?":"Vous n’avez pas trouvé ce que vous recherchiez ?","Enroll for Free":"S'inscrire gratuitement","Enroll in course to unlock":"S’inscrire au cours pour déverrouiller","Explore our Catalog":"Explorer notre catalogue","Free":"Gratuit","From the lesson":"À partir de la leçon","Get Started":"Commencez","Go back":"Retour","Go to course":"Commencer","I found a great video from a course called #{courseName}. I think you’ll really like it. It’s from #{partnerName} on Coursera, an online learning platform that partners with top universities and companies around the world Check it out: #{shareLink}":"J'ai trouvé une super vidéo d'un cours intitulé #{courseName}. Je pense que vous allez vraiment l'apprécier. C'est une vidéo de #{partnerName} sur Coursera, une plate-forme de formation en ligne, établie en partenariat avec des universités et des entreprises de premier plan du monde entier. Découvrez-la à cette adresse : #{shareLink}","I found an interesting video for you on Coursera!":"J'ai trouvé une vidéo intéressante pour vous sur Coursera !","I thought you might like this video from #{courseName} offered by #{partnerName}: on Coursera. #{shareLink}\n\nCoursera also offers online courses and Professional Certificates from 190+ world-class universities and companies, including Yale, the University of Pennsylvania, Google, IBM, and more.\n\nLet me know what you think!":"J'ai pensé que vous aimeriez voir cette vidéo de #{courseName} proposée par #{partnerName}: sur Coursera. #{shareLink}\n\nCoursera propose également des cours en ligne et des Certificats Professionnels assurés par plus de 190 universités et entreprises de renommée internationale, notamment Yale, l'université de Pennsylvanie, Google, IBM et bien d'autres.\n\nDites-moi ce que vous en pensez !","If you enjoy this video, take the time to show your friends.":"Si vous aimez cette vidéo, prenez le temps de la montrer à vos amis.","Join for free":"Inscrivez-vous gratuitement","Join for free and get personalized recommendations, updates and offers.":"Rejoignez-nous gratuitement et obtenez des recommendations, des mises à jour et des offres personnalisées.","Keep going!":"Continuez !","Learn anytime via the web or mobile app":"Apprenez n'importe quand via l'application mobile ou internet","Like what you're learning?":"Vous aimez ce que vous apprenez ?","Maybe later":"Peut-être plus tard","More":"Plus","Navigate back to the previous page.":"Revenez à la page précédente.","Next from this course":"Prochaine étape du cours","Next from this lesson":"Prochaine étape de la leçon","Next up:":"SUIVANT :","Next video from course":"Vidéo suivante du cours","Next video from lesson":"Vidéo suivante dans cette leçon","Play Video":"Lire la vidéo","Previous video from lesson":"Vidéo précédente dans cette leçon","Rated #{avgRatingRounded} out of 5 from #{ratingCountInLocale} ratings. #{courseEnrollmentText}.":"Note moyenne de #{avgRatingRounded} sur 5 sur #{ratingCountInLocale} évaluations. #{courseEnrollmentText}.","Rated #{avgRatingRounded} out of 5 from #{ratingCountInLocale} ratings. #{translatedCourseEnrollmentText}.":"Note moyenne de #{avgRatingRounded} sur 5 sur #{ratingCountInLocale} évaluations. #{translatedCourseEnrollmentText}.","Redirecting...":"redirection en cours...","Reviews":"Avis","SEE LESS":"Voir moins","SEE MORE":"Voir plus","Share this video":"Partagez cette vidéo","Show less":"Afficher moins","Skills You'll Learn":"Compétences que vous apprendrez","Starting in: ":"Commençant en : ","Support from instructors, mentors, and other learners":"Aide de la part des enseignants, des mentors et d'autres étudiants","Taught By":"Enseigné par","This Course":"ce cours","This video is unavailable to watch!":"Cette vidéo est indisponible !","Transcript":"Transcription","Try the Course for {free}":"Essayer le cours pour {free} USD","Up next":"Bientôt disponible","Video Transcript":"Transcription de vidéo","View Syllabus":"Visualiser le programme de cours","Want to watch more?":"Vous souhaitez en voir davantage ?","We’re sorry about this! Your automatic course enrollment was unsuccessful. Try refreshing this page or contact your administrator for support.":"Nous sommes désolés ! Votre inscription automatique au cours a échoué. Rafraîchissez la page, ou contactez votre administrateur pour obtenir de l’aide.","We’ve automatically enrolled you in this course for free. If you change your mind visit My Courses.":"Nous vous avons inscrit(e) automatiquement à ce cours, sans frais. Si vous changez d’avis, consultez la page Mes cours.","Why Coursera?":"Pourquoi choisir Coursera ?","You can start developing essential skills today. Sign up on Coursera for free and take your learning to the next level.":"Vous pouvez commencer à développer des compétences essentielles aujourd'hui. Inscrivez-vous sur Coursera gratuitement et faites progresser votre apprentissage au niveau suivant.","You're enrolled!":"Vous êtes inscrit(e) !","You're watching trial video #{numVideosWatched} of #{numVideoAllowance}.":"Vous regardez la vidéo d'essai #{numVideosWatched} sur #{numVideoAllowance}.","You've finished your #{numVideoAllowance} trial videos.":"Vous avez regardé vos #{numVideoAllowance} vidéos d'essai.","You've watched #{numVideosWatched} of #{numVideoAllowance} trial videos.":"Vous avez regardé #{numVideosWatched} vidéos d'essai sur #{numVideoAllowance}.","You've watched your #{numVideoAllowance} videos. Join for free and get access to unlimited course videos from top universities and leading companies.":"Vous avez regardé vos #{numVideoAllowance} vidéos. Inscrivez-vous gratuitement et accédez à un nombre illimité de vidéos de cours des meilleures universités et de grandes entreprises.","You’re already more than 5% through the course. If you wish to continue, we will enroll you automatically for free. If you change your mind visit My Courses.":"Vous avez déjà suivi plus de 5 % du cours. Si vous souhaitez continuer, nous vous inscrirons automatiquement sans frais. Si vous changez d’avis, consultez la page Mes cours.","{avgRatingRounded} ({ratingCountInLocale} ratings)":"{avgRatingRounded} ({ratingCountInLocale} évaluations)","{courseEnrollmentText}":"{courseEnrollmentText}","{readingInLesson, plural, =0 {} =1 {# reading} other {# readings}}{comma} {quizInLesson, plural, =0 {} =1 {# quiz} other {# quizzes}}: {courseLink}":"{readingInLesson, plural, =0 {} =1 {# lecture} other {# lectures}}{comma} {quizInLesson, plural, =0 {} =1 {# quiz} other {# quiz}}: {courseLink}"}},yQFZ:function(module,exports){module.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},ySBo:function(module,exports,e){},yZsk:function(module,exports,e){e("p/xp")},"yh+z":function(module,e,t){"use strict";var n=t("fw5G"),i=t.n(n),r=t("MnCE"),o=t("+LJP"),a=t("Vwt+"),s=function withFormattedShareLink(e){return Object(r.b)(Object(o.a)((function(e){return{router:e}})),Object(r.p)((function(t){var n=t.router,r=t.shareLink,o=t.hashedUserId,s=t.utmContentParam,l=t.utmMediumParam,c=t.utmCampaignParam,u=t.utmProductParam,d=t.extraQueryParams,p=r?new i.a(r):Object(a.d)(n),h;(p.addQueryParam("utm_source",e),l&&p.addQueryParam("utm_medium",l),s&&p.addQueryParam("utm_content",s),c&&p.addQueryParam("utm_campaign",c),u&&p.addQueryParam("utm_product",u),o&&p.addQueryParam("utm_user",o),d)&&Object.keys(d).forEach((function(e){p.addQueryParam(e,d[e])}));return{targetShareLink:p.toString()}})))};e.a=s},zBWt:function(module,exports,e){var t=e("s2er")("wks"),n=e("ixoo"),i=e("7whZ").Symbol,r="function"==typeof i,o;(module.exports=function(e){return t[e]||(t[e]=r&&i[e]||(r?i:n)("Symbol."+e))}).store=t},znrX:function(module,exports,e){var t=e("nA4W"),n=e("CYMq"),i=e("WpRT")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(e){if(e=n(e),t(e,i))return e[i];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?r:null}},zs13:function(module,exports){module.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}}]);