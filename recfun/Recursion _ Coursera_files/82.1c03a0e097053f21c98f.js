(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{A9b0:function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),i=t.n(n),r=t("AeFk"),o=t("q1tI"),a=t("MnCE"),s=t("+LJP"),u=t("sQ/U"),d=t("J/Mu"),c=t("RH4a"),l=t("4QSv"),m=t("oe9u"),p=t("/oRK"),f=t("22Sa"),b=t("rn7G"),v=t("zaiP"),g=t("wIYG"),S=t("kIii"),I=t("tcH/"),y=t("JEIr"),h=t("wjH1"),D=t("0n3a"),O=t("agp5"),j=t("VkAN"),R=t.n(j),P=t("Gcrz"),C=t("UYTu"),Q=t("BkRI"),z=t.n(Q),k=t("3tO9"),E=t.n(k),T=t("O5zz"),B,A,w={contentRequestBody:{argument:[]}},q={contentRequestBody:[]},x=Object(C.a)(B||(B=R()(['\n  query practiceQuizSessionMetaDataQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    practiceQuizSessionMetaData(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestPracticeQuizSessionMetadata"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizSessionDataResponseBody")\n    }\n  }\n']))),M=Object(C.a)(A||(A=R()(['\n  query practiceQuizDataQuery(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    practiceQuizQuestionData(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getState?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          parts\n          questions\n          nextSubmissionDraftId\n        }\n      }\n    }\n    practiceQuizQuestionResponses(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @skip(if: $skipFetchingResponses)\n      @rest(\n        type: "RestPracticeQuizLatestSubmissionDraftResponse"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/getLatestSubmissionDraft?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          draft\n        }\n      }\n    }\n  }\n']))),N,F=function PracticeQuizData(e){var t=e.slug,n=e.itemId,i=e.userId,r=e.fetchPolicy,a=void 0===r?"cache-first":r,s=e.examSessionId,u=e.children,d={slug:t,itemId:n,userId:i};return o.createElement(P.c,{query:x,variables:E()(E()({},d),{},{body:q}),fetchPolicy:a,skip:!!s},(function(e){var t=e.loading,n=e.data,i=e.refetch;if(t&&!s)return u({loading:t});var r=s||((((n||{}).practiceQuizSessionMetaData||{}).contentResponseBody||{}).session||{}).id;return(o.createElement(P.c,{query:M,variables:E()(E()({},d),{},{sessionId:r,body:w,skipFetchingResponses:!!s}),fetchPolicy:a},(function(e){var t,n,o,a,d=e.loading,c=e.data,l=e.refetch,m=e.client;if(d)return u({loading:d});var p=(null==c?void 0:null===(t=c.practiceQuizQuestionData)||void 0===t?void 0:null===(n=t.contentResponseBody)||void 0===n?void 0:n.return)||{},f=p.parts,b=p.questions,v=p.nextSubmissionDraftId,g,S=((null==c?void 0:c.practiceQuizQuestionResponses)||{}).contentResponseBody,I,y=((null==S?void 0:null===(o=S.return)||void 0===o?void 0:null===(a=o.draft)||void 0===a?void 0:a.input)||{}).responses,h=Object(T.a)({parts:f,questions:b,responses:y,examSessionId:s}),D=function refetchPracticeQuizData(){return i().then((function(){return l()}))};return u(E()(E()({},h),{},{loading:d,practiceQuizFormData:h.quizFormData,sessionId:r,totalPoints:h.totalPoints,isSubmitted:h.isSubmitted,nextSubmissionDraftId:v,hasDraft:h.hasDraft,practiceQuizQuestions:h.quizQuestions,refetchPracticeQuizData:D,client:m}))})))}))},L,U=function practiceQuizActionMutationUpdate(e){return function(t,n){var i=n.data,r=e.itemId,o=e.userId,a=e.slug,s=e.sessionId,u=(((i||{}).action||{}).contentResponseBody||{}).return||null,d=t.readQuery({query:M,variables:{itemId:r,userId:o,slug:a,sessionId:s,skipFetchingResponses:!1,body:w}}),c=((((d=z()(d))||{}).practiceQuizQuestionData||{}).contentResponseBody||{}).return||null;c&&(c.nextSubmissionDraftId=(u||{}).nextSubmissionDraftId||null,c.questions=(u||{}).questions||c.questions||null,c.parts=(u||{}).parts||c.parts||null,c.evaluation=(u||{}).evaluation||null,t.writeQuery({query:M,variables:{itemId:r,userId:o,slug:a,sessionId:s,skipFetchingResponses:!1,body:w},data:d}))}},G,J,K=Object(C.a)(G||(G=R()(['\n  mutation practiceQuizSaveSubmissionDraftActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $additionalParams: String!\n  ) {\n    action(\n      itemId: $itemId\n      userId: $userId\n      slug: $slug\n      sessionId: $sessionId\n      body: $body\n      additionalParams: $additionalParams\n    )\n      @rest(\n        type: "PracticeQuizSaveSubmissionDraftData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/saveSubmissionDraft?autoEnroll=false{args.additionalParams}"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          questions @skip(if: $skipQuestionsField)\n          parts @skip(if: $skipQuestionsField)\n          evaluation\n        }\n      }\n    }\n  }\n']))),Y=Object(C.a)(J||(J=R()(['\n  mutation practiceQuizSubmitResponseActionMutation(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n  ) {\n    action(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "PracticeQuizSubmitResponseData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/session/{args.sessionId}/action/submitResponses?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          nextSubmissionDraftId\n          evaluation\n          questions\n          parts\n        }\n      }\n    }\n  }\n']))),V=function SaveDraftMutation(e){var t=e||{},n=t.changedResponses,i=t.nextSubmissionDraftId,r=t.sessionId,a=t.userId,s=t.itemId,u=t.slug;return(o.createElement(P.b,{mutation:K,update:U(e)},(function(t){var o={contentRequestBody:{argument:{id:i,input:{responses:n}}}},d=function saveDraft(){return t({variables:{body:o,sessionId:r,userId:a,itemId:s,slug:u,skipQuestionsField:!0,additionalParams:""}})},c=function autoSaveDraft(){return t({variables:{body:o,sessionId:r,userId:a,itemId:s,slug:u,skipQuestionsField:!0,additionalParams:"&isAutoSaving=true"}})};return e.children({saveDraft:d,autoSaveDraft:c})})))},H=function SubmitDraftMutation(e){var t=e||{},n=t.changedResponses,i=t.sessionId,r=t.userId,a=t.itemId,s=t.slug;return(o.createElement(P.b,{mutation:Y,update:U(e)},(function(t){var o={contentRequestBody:{argument:{responses:n}}},u=function submitDraft(){return t({variables:{body:o,sessionId:i,userId:r,itemId:a,slug:s}})};return e.children({submitDraft:u})})))},W=function PracticeQuizMutations(e){var t=e.ids,n=e.sessionId,i=e.itemId,r=e.courseId,a=e.changedResponses,s=e.children,u=e.slug,d=e.userId,c=e.nextSubmissionDraftId;return(o.createElement(V,{changedResponses:a,nextSubmissionDraftId:c,sessionId:n,userId:d,itemId:i,slug:u},(function(e){var t=e.saveDraft,r=e.autoSaveDraft;return(o.createElement(H,{changedResponses:a,sessionId:n,userId:d,itemId:i,slug:u},(function(e){var n=e.submitDraft;return s({saveDraft:t,autoSaveDraft:r,submitDraft:n})})))})))},X=W,Z,ee=function PracticeQuizActions(e){var t=e.ids,n=e.sessionId,i=e.children,r=e.nextSubmissionDraftId;return(o.createElement(v.a,null,(function(e){var a=e.item;if(!a)return null;var s=a.courseId,d=a.id,l=a.courseSlug;return(o.createElement(y.a,{userId:u.a.get().id,itemId:d,slug:l},(function(e){var m=e.refetch;return(o.createElement(O.a,{ids:t},(function(e){if(!e||!m)return i({});return(o.createElement(c.a,{itemId:d,courseId:s},(function(c){var p=c.stepState,f=c.setStepState,b=e.map((function(e){return{questionInstance:e.id,response:((e.response||{}).definition||{}).value}}));return o.createElement(W,{ids:t,sessionId:n,itemId:d,courseId:s,slug:l,userId:u.a.get().id,changedResponses:b,nextSubmissionDraftId:r},(function(t){var n=t.saveDraft,s=t.submitDraft,u=function saveDraft(){if(!p.isSaving&&!p.isSubmitting&&r)return f({isSaving:!0}),n().then((function(){return f({isSaving:!1})})).catch((function(e){return Object(h.a)(e,f)}));return Promise.reject()},d=function autoSaveDraft(){if(!p.isAutoSaving&&!p.isSubmitting&&r)return f({isAutoSaving:!0}),n().then((function(){return f({isAutoSaving:!1})})).catch((function(e){return Object(h.a)(e,f)}));return Promise.reject()},c=function refetchItemAndEvaluations(){return m().then((function(){return a.refetch()})).catch((function(e){return Object(h.a)(e,f)}))},l=function submitDraft(){if(!p.isSubmitting)return f({isSubmitting:!0}),s().then((function(){return f({isSubmitting:!1})})).then(c).catch((function(e){return Object(h.a)(e,f)}));return Promise.reject()};return o.createElement(D.a,{stepState:p,saveDraft:d,changedResponses:e},(function(){return i({saveDraft:u,autoSaveDraft:d,submitDraft:l})}))}))})))})))})))})))},te=t("w9Ch"),ne=t("usGt"),ie=t("VtNW"),re=t.n(ie),oe;t.d(e,"PracticeQuizAttemptPage",(function(){return ae})),t.d(e,"withRedirectToCover",(function(){return se}));var ae=function(e){function PracticeQuizAttemptPage(){return e.apply(this,arguments)||this}i()(PracticeQuizAttemptPage,e);var t=PracticeQuizAttemptPage.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.shouldRedirectToCover,n=e.redirectToCover;t&&n()},t.render=function render(){var e=this.props,t=e.redirectToCover,n=e.redirectToNextItem,i=e.addRedirectToCoverToRouteParams,o=e.examSessionId;return Object(r.d)(v.a,null,(function(e){var a=e.item;if(!a)return null;return Object(r.d)(f.b,{onClose:t,ariaLabel:re()("Practice Quiz"),backbuttonAriaLabel:re()("Back to the Course"),headerLeft:Object(r.d)(F,{slug:a.courseSlug,itemId:a.id,userId:u.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.totalPoints;return Object(r.d)(m.a,{headerText:a.name,itemTypeText:re()("Practice Quiz"),timeCommitment:a.timeCommitment,totalPoints:t})})),headerRight:Object(r.d)(p.a,{deadline:a.deadline,showLanguagesDropdown:Object(d.b)()}),topBanner:Object(r.d)(y.a,{slug:a.courseSlug,itemId:a.id,userId:u.a.get().id},(function(e){var i=e.bestEvaluation;return Object(r.d)(F,{slug:a.courseSlug,itemId:a.id,userId:u.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var o=e.isSubmitted,s,u=(a.contentSummary&&"quiz"===a.contentSummary.typeName&&a.contentSummary.definition||{}).passingFraction,d=Object(te.a)(i),c=d?d>=u:void 0;if(o&&u&&"number"==typeof d)return Object(r.d)(l.a,{passingFraction:u,itemGrade:{grade:d,isPassed:c||!1,isOverridden:!1,latePenaltyRatio:null},onKeepLearningClick:n,onTryAgainClick:t});return null}))}))},Object(r.d)(b.a,{courseId:a.courseId}),Object(r.d)(F,{slug:a.courseSlug,itemId:a.id,userId:u.a.get().id,fetchPolicy:"network-only",examSessionId:o},(function(e){var t=e.loading,n=e.practiceQuizFormData,o=e.sessionId,s=e.nextSubmissionDraftId,u=e.practiceQuizQuestions,d=e.isSubmitted,l=e.hasDraft;if(t||!n||!u)return oe||(oe=Object(r.d)(g.a,null));var m=u.map((function(e){return e.prompt.id}));return Object(r.d)(c.a,{itemId:a.id,courseId:a.courseId},(function(e){var t=e.stepState,u=e.setStepState;return Object(r.d)("div",null,Object(r.d)("div",null,Object(r.d)(S.a,{quizFormData:n,isSubmitted:d,stepState:t})),!d&&Object(r.d)(ee,{ids:m,sessionId:o,nextSubmissionDraftId:s},(function(e){var n=e.saveDraft,o=e.autoSaveDraft,s=e.submitDraft;return Object(r.d)(I.a,{itemId:a.id,courseId:a.courseId,saveDraft:n,autoSaveDraft:o,submitDraft:function submitDraft(){return s?s().then((function(){i()})):Promise.reject()},hasDraft:l,stepState:t,setStepState:u})})))}))})))}))},PracticeQuizAttemptPage}(o.Component),se=Object(a.b)(ne.a,Object(s.a)((function(e,t){var n=t.nextItemUrl,i=void 0===n?"":n,r=t.refetchPracticeQuizCoverPageData,o=t.refreshProgress,a=function redirectToCover(){r&&r(),e.push({name:"practice-quiz-cover",params:e.params,query:e.location.query}),o()};return{redirectToCover:a,redirectToNextItem:function redirectToNextItem(){i?(e.push(i),o()):a()},addRedirectToCoverToRouteParams:function addRedirectToCoverToRouteParams(){e.push({name:"practice-quiz-attempt",params:e.params,query:{redirectToCover:!0}})},shouldRedirectToCover:e.location.query.redirectToCover}}))),ue=e.default=se(ae)},JEIr:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("VkAN"),o=t.n(r),a=t("q1tI"),s=t.n(a),u=t("Gcrz"),d=t("UYTu"),c,l=Object(d.a)(c||(c=o()(['\n  query evaluationsQuery($itemId: String!, $userId: Int!, $slug: String!, $body: String!) {\n    evaluationsQuery(body: $body, itemId: $itemId, userId: $userId, slug: $slug)\n      @rest(\n        type: "RestEvaluations"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/quiz/evaluations"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestPracticeQuizQuestionDataResponseBody")\n    }\n  }\n']))),m=function Evaluations(e){var t=e.slug,n=e.userId,r=e.itemId,o=e.children,s={slug:t,itemId:r,userId:n},d={contentRequestBody:{}};return a.createElement(u.c,{query:l,variables:i()(i()({},s),{},{body:d}),fetchPolicy:"network-only"},(function(e){var t,n=e.loading,i=e.data,r=e.refetch,a=e.client;if(n)return o({loading:n});var s=(null==i?void 0:null===(t=i.evaluationsQuery)||void 0===t?void 0:t.contentResponseBody)||{},u=s.bestEvaluation,d=s.bestSessionId,c=s.lastEvaluation,l=s.lastSessionId,m=s.unsubmittedSessionId;return o({loading:!1,bestSessionId:d,bestEvaluation:u,lastEvaluation:c,lastSessionId:l,unsubmittedSessionId:m,refetch:r,client:a})}))};e.a=m},O5zz:function(module,e,t){"use strict";var n=t("uFBg"),i=t("w9Ch"),r=t("lSNA"),o=t.n(r),a=t("3tO9"),s=t.n(a),u=t("vU9D"),d=function getDefaultResponseValue(e){var t;if("widget"===(null==e?void 0:null===(t=e.question)||void 0===t?void 0:t.type))return{answer:{}};return null},c,l=function transformQuizPartsToFormData(e,t,i){if(!t)return e&&e.map((function(e){var t,r,o,a;if((null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a)return e;return{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.g.AUTO_GRADABLE_RESPONSE,definition:{value:i&&null!=e&&null!==(t=e.definition)&&void 0!==t&&null!==(r=t.effectiveResponse)&&void 0!==r&&r.response?null==e?void 0:null===(o=e.definition)||void 0===o?void 0:null===(a=o.effectiveResponse)||void 0===a?void 0:a.response:d(null==e?void 0:e.definition)}}}}}));var r=t.reduce((function(e,t){return s()(s()({},e),{},o()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t;if((null==e?void 0:e.typeName)===n.c||(null==e?void 0:e.typeName)===n.a)return e;var i=r[null==e?void 0:null===(t=e.definition)||void 0===t?void 0:t.id];return{typeName:null==e?void 0:e.typeName,definition:{prompt:null==e?void 0:e.definition,response:{typeName:u.g.AUTO_GRADABLE_RESPONSE,definition:{value:i}}}}}))},m=function getQuizPartVariablesFromData(e){var t,r,o,a,s=e.parts,u=e.questions,d=e.responses,c=e.examSessionId,m=e.evaluation,p=l(s,d,!!c)||[],f=Object(i.a)(m),b=(null==m?void 0:m.maxScore)||(null==p?void 0:p.reduce((function(e,t){var i,r,o;if((null==t?void 0:t.typeName)===n.c||(null==t?void 0:t.typeName)===n.a)return 0;return e+(null==t?void 0:null===(i=t.definition)||void 0===i?void 0:null===(r=i.prompt)||void 0===r?void 0:null===(o=r.weightedScoring)||void 0===o?void 0:o.maxScore)}),0)),v=null==s?void 0:s.find((function(e){return e.typeName===n.b})),g=!(null!=v&&null!==(t=v.definition)&&void 0!==t&&t.isSubmitAllowed),S="NoDetails"===(null==u?void 0:null===(r=u[0])||void 0===r?void 0:null===(o=r.variant)||void 0===o?void 0:o.detailLevel),I=!!d,y=null==p?void 0:null===(a=p.filter((function(e){return(null==e?void 0:e.typeName)===n.b})))||void 0===a?void 0:a.map((function(e){return null==e?void 0:e.definition}));return{quizFormData:p,attemptScore:f,totalPoints:b,isSubmitted:g,isLimitedFeedback:S,hasDraft:I,quizQuestions:y}},p=e.a=m},kIii:function(module,e,t){"use strict";var n=t("q1tI"),i=t("eK4/"),r=t("AeFk"),o=t("8Hdl"),a=t("HDKb"),s=t("5mFy"),u=t("7Dw/"),d=t("/96O"),c={root:function root(e){return Object(r.c)({display:"flex",marginTop:e.spacing(48),marginBottom:e.spacing(48)})},accordionRoot:function accordionRoot(e){return Object(r.c)({marginLeft:"-16px",button:{outline:"none"},padding:e.spacing(0)})},numberCell:Object(r.c)({width:"26px"}),contentCell:Object(r.c)({width:"calc(100% - 26px)"}),cmlContainer:function cmlContainer(e){return Object(r.c)({".rc-CML.cml-cui p":{marginBottom:e.spacing(0)}})}},l,m=function TextBlock(e){var t=e.textBlock,n=e.isCollapsible,i=void 0!==n&&n,l=e.isExpanded,m=void 0!==l&&l,p=Object(r.d)(o.a,{component:"div",variant:"body1",css:c.cmlContainer},Object(r.d)(d.a,{value:null==t?void 0:t.body}));return Object(r.d)("div",{css:c.root},Object(r.d)("div",{css:c.contentCell},i?Object(r.d)("div",{css:c.accordionRoot},Object(r.d)(a.a,{variant:"silent",defaultExpanded:m},Object(r.d)(s.a,{label:null==t?void 0:t.title}),Object(r.d)(u.a,null,p))):p))},p=t("uFBg"),f=function QuizPartRenderer(e){var t=e.quizFormData,r=e.isSubmitted,o=e.stepState,a,s=0;return n.createElement(n.Fragment,null,t.map((function(e){if((null==e?void 0:e.typeName)===p.c||(null==e?void 0:e.typeName)===p.a){var t,u,d,c=e;return(null==c?void 0:c.typeName)!==p.a||a||(a=c),n.createElement(m,{textBlock:null==c?void 0:c.definition,isCollapsible:(null==c?void 0:c.typeName)===p.a,isExpanded:(null===(t=a)||void 0===t?void 0:null===(u=t.definition)||void 0===u?void 0:u.id)===(null==c?void 0:null===(d=c.definition)||void 0===d?void 0:d.id)})}s+=1;var l=(null==e?void 0:e.definition)||e;return(n.createElement(i.a,{key:null==l?void 0:l.prompt.id,quizQuestion:l,index:s-1,isReadOnly:!!r,isDisabled:!(null==o||!o.isSaving)||!(null==o||!o.isSubmitting)}))})))},b=e.a=f},rn7G:function(module,e,t){"use strict";var n=t("VkAN"),i=t.n(n),r=t("J4zp"),o=t.n(r),a=t("AeFk"),s=t("q1tI"),u=t.n(s),d=t("zXDh"),c=t("ZJgU"),l=t("nNSt"),m=t("gNwb"),p=t("J/Mu"),f=t("sRsZ"),b=t("l1eu"),v=t("lS+i"),g=t.n(v),S,I,y=Object(m.d)({type:"BUTTON"})(c.a),h=function TranslatedQuizBannerInternal(e){var t=e.courseId,n=Object(d.getUserLanguageCode)(),r=Object(f.a)(t,n),u=Object(f.b)(),c=u.preferredLanguage,m=u.switchLanguage,p=u.savePreferredLanguage,b=Object(s.useReducer)((function(){return!0}),!1),v=o()(b,2),h=v[0],D=v[1],O={courseId:t,userLocale:n,preferredLanguage:c};if(h)return null;if("AUTO_TRANSLATED"===(null==r?void 0:r.type))return Object(a.d)(l.a,{severity:"information",title:g()("You’re viewing an automatically-translated version of this assessment"),onDismiss:D},Object(a.d)(s.Fragment,null,g()("You can switch back to view this content in its original language if you’d prefer. You won’t lose any progress if you change languages."),Object(a.d)(y,{trackingName:"switch_to_original_language",trackingData:O,css:Object(a.c)(S||(S=i()(["\n              padding: 0 var(--cds-spacing-100);\n              margin-top: -4px;\n            "]))),variant:"ghost",onClick:function onClick(){p(n),m(r.originalLanguage)}},g()("Show #{language} version",{language:Object(d.languageCodeToName)(r.originalLanguage)}))));if(c)return Object(a.d)(l.a,{severity:"information",title:g()("You’re viewing this assessment in its original language"),onDismiss:function onDismiss(){p(null),D()}},Object(a.d)(s.Fragment,null,g()("You can switch back to view this content in your preferred translation if you’d prefer. You won’t lose any progress if you change languages."),Object(a.d)(y,{trackingName:"switch_to_preferred_language",trackingData:O,css:Object(a.c)(I||(I=i()(["\n              padding: 0 var(--cds-spacing-100);\n              margin-top: -2px;\n            "]))),variant:"ghost",onClick:function onClick(){p(null),m(c)}},g()("Show #{language} version",{language:Object(d.languageCodeToName)(c)}))));return null},D=function TranslatedQuizBanner(e){if(!Object(p.b)())return null;return Object(a.d)(b.b,null,Object(a.d)(h,e))};e.a=D},"tcH/":function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),r=t("VbXa"),o=t.n(r),a=t("AeFk"),s=t("q1tI"),u=t("HOoY"),d=t("ZJgU"),c=t("8xbv"),l=t("PB6g"),m=t("aFpJ"),p=t("EqTq"),f=t("sF8w"),b=Object(p.a)("BasicErrorModalDisplayManager"),v,g=function(e){function BasicErrorModalDisplayManager(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showErrorModal:!1},t.handleErrorConfirm=function(){var e=t.props.setStepState;t.setState({showErrorModal:!1}),e({errorCode:null})},t}o()(BasicErrorModalDisplayManager,e);var t=BasicErrorModalDisplayManager.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.stepState,n=this.props.stepState;n.errorCode||n.errorCode===t.errorCode||this.setState({showErrorModal:!0})},t.render=function render(){var e=this.props.stepState.errorCode,t=this.state.showErrorModal;return s.createElement("div",{className:b()},t&&s.createElement(f.a,{errorCode:e,onPrimaryButtonClick:this.handleErrorConfirm,onCancelButtonClick:this.handleErrorConfirm}))},BasicErrorModalDisplayManager}(s.Component),S=t("CnKM"),I=t("KvdX"),y=t("YmkS"),h=t("qJwm"),D=t("rQpo"),O=t("zaiP"),j=t("8ec0"),R=t("d3Ej"),P=t.n(R),C,Q,z={root:function root(e){return Object(a.c)({margin:e.spacing(48,0)})},buttonsContainer:function buttonsContainer(e){return Object(a.c)({marginTop:e.spacing(32),paddingBottom:e.spacing(48),borderBottom:"1px solid ".concat(e.palette.gray[300]),marginBottom:e.spacing(12)})},saveButton:function saveButton(e){return Object(a.c)({marginLeft:e.spacing(24)})}},k=function(e){function SubmissionControls(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={canSubmit:!1,announcement:""},t.onSubmitClick=function(){var e=t.props,n=e.hasUnfilledResponses,i=e.updateAndSubmitDraft,r=e.showModal,o=function trackedUpdateAndSubmitDraft(){return i&&i().then((function(){u.a.trackComponent({namespace:{app:"open_course",page:"item_page"}},{},"submit","quiz")}))};n?r({type:I.a.unansweredQuestions,props:{onPrimaryButtonClick:o}}):i&&(t.setAnnouncement(P()("Submitting assignment")),o())},t.enableSubmit=function(){t.setState({canSubmit:!0})},t.disableSubmit=function(){t.setState({canSubmit:!1})},t.autoSubmit=function(){var e=t.props,n=e.showModal,i=e.hideModal,r=e.submitLatestSubmissionDraft;n({type:I.a.timeExpiredModal,props:{onPrimaryButtonClick:i}}),r&&r()},t.startAutoSubmitTimeout=function(){var e=t.props.expiresAt;"number"==typeof e&&(t.autoSubmitTimeout=window.setTimeout(t.autoSubmit,e-Date.now()))},t.setAnnouncement=function(e){t.setState({announcement:e},(function(){setTimeout((function(){t.setState({announcement:""})}),150)}))},t.updateDraft=function(){var e=t.props.updateDraft;e&&(t.setAnnouncement(P()("Saving draft submission")),e().then((function(){t.setAnnouncement(P()("Draft submission saved successfully"))})))},t}o()(SubmissionControls,e);var t=SubmissionControls.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.hasDraft,n=e.autoSaveDraft,i=e.submitLatestSubmissionDraft;!t&&n&&n(),i&&this.startAutoSubmitTimeout()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props.expiresAt;e.expiresAt!==t&&this.autoSubmitTimeout&&(clearTimeout(this.autoSubmitTimeout),this.autoSubmitTimeout=null,this.startAutoSubmitTimeout())},t.componentWillUnmount=function componentWillUnmount(){this.autoSubmitTimeout&&clearTimeout(this.autoSubmitTimeout)},t.render=function render(){var e=this,t,n,i=this.props,r=i.stepState,o=r.isSaving,s=r.isSubmitting,u=r.isAutoSaving,p=i.stepState,f=i.setStepState,b=i.updateDraft,v=i.updateAndSubmitDraft,S=this.state,I=S.canSubmit,j=S.announcement,R=o||u,k=R||s;return Object(a.d)(O.a,null,(function(i){var r=i.item;if(r&&r.isPremiumGradingLocked)return Object(a.d)("div",null,Object(a.d)(D.a,{courseId:r.courseId}));return Object(a.d)("div",{css:z.root},Object(a.d)("div",null,Object(a.d)(m.a,{onAgreementComplete:e.enableSubmit,onAgreementIncomplete:e.disableSubmit})),Object(a.d)("div",{css:z.buttonsContainer},v&&Object(a.d)(d.a,{"data-test":"submit-button",iconPosition:"before",icon:s?C||(C=Object(a.d)(c.a,null)):void 0,onClick:e.onSubmitClick,disabled:k||!I,variant:"primary"},s?P()("Submitting…"):P()("Submit")),b&&Object(a.d)(d.a,{"data-test":"save-draft-button",iconPosition:"before",icon:R?Q||(Q=Object(a.d)(c.a,null)):void 0,onClick:e.updateDraft,disabled:!!k,variant:"secondary",css:z.saveButton},R?P()("Saving..."):P()("Save draft"))),Object(a.d)(y.a,{computedItem:r,itemFeedbackType:h.c.Quiz}),Object(a.d)(l.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},j&&(t||(t=Object(a.d)("span",null,j)))),n||(n=Object(a.d)(g,{stepState:p,setStepState:f})))}))},SubmissionControls}(s.Component),E=function SubmissionControlsContainer(e){var t=e.saveDraft,n=e.submitDraft,r=e.hasTimer,o=e.itemId,s=e.isSubmitted;if(!t||!n)return null;if(!r)return Object(a.d)(I.b,null,(function(r){var o=r.showModal,u=r.hideModal;return s?null:Object(a.d)(k,i()(i()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:o,hideModal:u}))}));return Object(a.d)(S.a,{id:Object(j.a)(o)},(function(r){var o=r.expiresAt;return Object(a.d)(I.b,null,(function(r){var u=r.showModal,d=r.hideModal;return s?null:Object(a.d)(k,i()(i()({},e),{},{updateDraft:t,updateAndSubmitDraft:n,showModal:u,hideModal:d,expiresAt:o}))}))}))},T=e.a=E},uFBg:function(module,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return r}));var n="question",i="textBlock",r="collapsibleTextBlock"},usGt:function(module,e,t){"use strict";var n=t("17x9"),i=t.n(n),r=t("MnCE"),o=t("8cuT"),a=t("StP4"),s=t("i6HE"),u=t("E4RX"),d=Object(r.b)(Object(r.c)({executeAction:i.a.func.isRequired}),Object(o.a)(["CourseStore"],(function(e,t){var n=e.CourseStore,i=t.executeAction,r=n.getCourseId(),o=n.getCourseSlug();return{refreshProgress:function refreshProgress(){i(s.b,{courseId:r}),i(u.a,{courseId:r,refreshProgress:!0}),i(a.b,{courseSlug:o,refetch:!0})}}})));e.a=d},wIYG:function(module,e,t){"use strict";var n=t("q1tI"),i=t.n(n),r=t("VMeS"),o,a=function A11yCenteredLoadingSpinner(){return o||(o=n.createElement("div",{role:"alert","aria-live":"assertive"},n.createElement(r.a,null)))};e.a=a}}]);
//# sourceMappingURL=82.1c03a0e097053f21c98f.js.map